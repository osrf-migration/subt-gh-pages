{"links": {"self": {"href": "data/repositories/osrf/subt/issues/341/comments/56579464.json"}, "html": {"href": "#!/osrf/subt/issues/341#comment-56579464"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/subt/issues/341.json"}}, "type": "issue", "id": 341, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "title": "Cloudsim simulation runs much longer than battery life if stop service is not called"}, "content": {"raw": "I am analyzing the logs from simulation b2e9d531-5859-42d1-816f-9794cd568b38. I see the following lines in server\\_console.log:\n\n\\(2020-03-11T21:30:50.967690741\\) \\[Dbg\\] \\[[LinearBatteryPlugin.cc:371](http://LinearBatteryPlugin.cc:371)\\] \\[Battery Plugin\\] Battery drain: 0 minutes passed.\n\n....\n\n\\(2020-03-13T20:03:05.869641794\\) \\[Dbg\\] \\[[LinearBatteryPlugin.cc:371](http://LinearBatteryPlugin.cc:371)\\] \\[Battery Plugin\\] Battery drain: 2758 minutes passed.  \n\\(2020-03-13T20:04:06.924347963\\) \\[Dbg\\] \\[[LinearBatteryPlugin.cc:371](http://LinearBatteryPlugin.cc:371)\\] \\[Battery Plugin\\] Battery drain: 2759 minutes passed.  \n\\(2020-03-13T20:05:07.662877631\\) \\[Dbg\\] \\[[LinearBatteryPlugin.cc:371](http://LinearBatteryPlugin.cc:371)\\] \\[Battery Plugin\\] Battery drain: 2760 minutes passed.\n\n\u200bThat seems to suggest that the simulation run for full 3 days from March 11th to 13th and simulated 46h.\n\nDue to #336 we are not calling /subt/finish.  While #319 is marked as resolved, it might be related to this.\n\nThere is no point to simulate more than 1h, right?", "markup": "markdown", "html": "<p>I am analyzing the logs from simulation <a href=\"#!/osrf/subt/commits/b2e9d531\" rel=\"nofollow\" class=\"ap-connect-link\">b2e9d531</a>-5859-42d1-816f-9794cd568b38. I see the following lines in server_console.log:</p>\n<p>(2020-03-11T21:30:50.<a href=\"#!/osrf/subt/commits/967690741\" rel=\"nofollow\" class=\"ap-connect-link\">967690741</a>) [Dbg] [<a data-is-external-link=\"true\" href=\"http://LinearBatteryPlugin.cc:371\" rel=\"nofollow\">LinearBatteryPlugin.cc:371</a>] [Battery Plugin] Battery drain: 0 minutes passed.</p>\n<p>....</p>\n<p>(2020-03-13T20:03:05.<a href=\"#!/osrf/subt/commits/869641794\" rel=\"nofollow\" class=\"ap-connect-link\">869641794</a>) [Dbg] [<a data-is-external-link=\"true\" href=\"http://LinearBatteryPlugin.cc:371\" rel=\"nofollow\">LinearBatteryPlugin.cc:371</a>] [Battery Plugin] Battery drain: 2758 minutes passed.<br />\n(2020-03-13T20:04:06.<a href=\"#!/osrf/subt/commits/924347963\" rel=\"nofollow\" class=\"ap-connect-link\">924347963</a>) [Dbg] [<a data-is-external-link=\"true\" href=\"http://LinearBatteryPlugin.cc:371\" rel=\"nofollow\">LinearBatteryPlugin.cc:371</a>] [Battery Plugin] Battery drain: 2759 minutes passed.<br />\n(2020-03-13T20:05:07.<a href=\"#!/osrf/subt/commits/662877631\" rel=\"nofollow\" class=\"ap-connect-link\">662877631</a>) [Dbg] [<a data-is-external-link=\"true\" href=\"http://LinearBatteryPlugin.cc:371\" rel=\"nofollow\">LinearBatteryPlugin.cc:371</a>] [Battery Plugin] Battery drain: 2760 minutes passed.</p>\n<p>\u200bThat seems to suggest that the simulation run for full 3 days from March 11th to 13th and simulated 46h.</p>\n<p>Due to <a href=\"#!/osrf/subt/issues/336/handling-subt-finish-for-multiple-robots\" rel=\"nofollow\" title=\"Handling /subt/finish for multiple robots\" class=\"ap-connect-link\">#336</a> we are not calling /subt/finish.  While <a href=\"#!/osrf/subt/issues/319/cloudsim-runs-not-ending\" rel=\"nofollow\" title=\"cloudsim runs not ending\" class=\"ap-connect-link\"><s>#319</s></a> is marked as resolved, it might be related to this.</p>\n<p>There is no point to simulate more than 1h, right?</p>", "type": "rendered"}, "created_on": "2020-03-19T09:41:25.673645+00:00", "user": {"display_name": "Zbyn\u011bk Winkler", "uuid": "{d253a02a-aa23-4c28-9bf2-75863acb0ee0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd253a02a-aa23-4c28-9bf2-75863acb0ee0%7D"}, "html": {"href": "https://bitbucket.org/%7Bd253a02a-aa23-4c28-9bf2-75863acb0ee0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/326a12c819c60ee18418b5d01000d03fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsZW-1.png"}}, "nickname": "Zbyn\u011bk Winkler (robotika)", "type": "user", "account_id": "557058:a92b5a4f-5b91-4853-8dec-b918bd975e70"}, "updated_on": null, "type": "issue_comment", "id": 56579464}