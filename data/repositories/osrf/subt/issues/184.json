{"priority": "major", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "links": {"attachments": {"href": "data/repositories/osrf/subt/issues/184/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/subt/issues/184.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/issues/184/watch"}, "comments": {"href": "data/repositories/osrf/subt/issues/184/comments_page=1.json"}, "html": {"href": "#!/osrf/subt/issues/184/urban-feature-camera-coordinate-frame"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/issues/184/vote"}}, "reporter": {"display_name": "Neil Johnson", "uuid": "{ace5bb77-1f3f-47ce-ad95-ea205b690930}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bace5bb77-1f3f-47ce-ad95-ea205b690930%7D"}, "html": {"href": "https://bitbucket.org/%7Bace5bb77-1f3f-47ce-ad95-ea205b690930%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/7ff0dae55a4eb43a021cc9c08bbf30f5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsNJ-3.png"}}, "nickname": "realdealneil1980", "type": "user", "account_id": "557058:21a4b3d0-2fa2-4202-9385-337ffcf40b2f"}, "title": "[Urban Feature] Camera coordinate frame changed from gazebo9 to ignition", "component": null, "votes": 3, "watches": 7, "content": {"raw": "It appears that the orientation of the camera coordinate frame is different in the ignition simulator than in the gazebo 9 simulator.  This has had undesirable consequences with some of our object localization math and visual odometry methods.  \r\n\r\nIn gazebo 9, the camera frame \\(according to tf\\) was oriented with x right, y down, z out the optical axis of the camera.   This lined up with our expectations.  In ignition, the camera frame is oriented x out the optical axis, y left, and z up.  So, it is basically the same as the body frame axes translated to the base of the camera.  \r\n\r\nI don\u2019t particularly want things to change at this point, but I\u2019d like it if someone could confirm that indeed the coordinate frame changed during the migration to ignition, and to make the teams aware of this change in case it affects them too.", "markup": "markdown", "html": "<p>It appears that the orientation of the camera coordinate frame is different in the ignition simulator than in the gazebo 9 simulator.  This has had undesirable consequences with some of our object localization math and visual odometry methods.  </p>\n<p>In gazebo 9, the camera frame (according to tf) was oriented with x right, y down, z out the optical axis of the camera.   This lined up with our expectations.  In ignition, the camera frame is oriented x out the optical axis, y left, and z up.  So, it is basically the same as the body frame axes translated to the base of the camera.  </p>\n<p>I don\u2019t particularly want things to change at this point, but I\u2019d like it if someone could confirm that indeed the coordinate frame changed during the migration to ignition, and to make the teams aware of this change in case it affects them too.</p>", "type": "rendered"}, "assignee": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-09-11T22:55:09.032821+00:00", "milestone": null, "updated_on": "2019-11-19T16:11:35.964604+00:00", "type": "issue", "id": 184}