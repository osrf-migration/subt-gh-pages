{"links": {"self": {"href": "data/repositories/osrf/subt/issues/155/comments/53381808.json"}, "html": {"href": "#!/osrf/subt/issues/155#comment-53381808"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/subt/issues/155.json"}}, "type": "issue", "id": 155, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "title": "Performance issue every 2 seconds"}, "content": {"raw": "The message is coming from the [robot localization node](https://github.com/cra-ros-pkg/robot_localization/blob/melodic-devel/src/ros_filter_utilities.cpp#L126), but it's throttled to print every 2 seconds. The issue is that due the the way transforms are broadcast from ignition via the `pose_tf_broadcast` node, the transform from ` X2_1/base_link/imu_sensor` to `X2_1` may be delayed by a few milliseconds. A solution is to set [transform_timeout](http://docs.ros.org/melodic/api/robot_localization/html/state_estimation_nodes.html#transform-timeout) to 0 so that node always uses the latest transform available. Even though the documentation says the default is 0, I had to explicitly set it to 0 to make it work. Alternatively, you can set the timeout to half of your update period, in your case, 10 ms. You might still get the warning message from time to time, but it should become very rare.", "markup": "markdown", "html": "<p>The message is coming from the <a data-is-external-link=\"true\" href=\"https://github.com/cra-ros-pkg/robot_localization/blob/melodic-devel/src/ros_filter_utilities.cpp#L126\" rel=\"nofollow\">robot localization node</a>, but it's throttled to print every 2 seconds. The issue is that due the the way transforms are broadcast from ignition via the <code>pose_tf_broadcast</code> node, the transform from <code>X2_1/base_link/imu_sensor</code> to <code>X2_1</code> may be delayed by a few milliseconds. A solution is to set <a data-is-external-link=\"true\" href=\"http://docs.ros.org/melodic/api/robot_localization/html/state_estimation_nodes.html#transform-timeout\" rel=\"nofollow\">transform_timeout</a> to 0 so that node always uses the latest transform available. Even though the documentation says the default is 0, I had to explicitly set it to 0 to make it work. Alternatively, you can set the timeout to half of your update period, in your case, 10 ms. You might still get the warning message from time to time, but it should become very rare.</p>", "type": "rendered"}, "created_on": "2019-08-12T17:42:37.111996+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": null, "type": "issue_comment", "id": 53381808}