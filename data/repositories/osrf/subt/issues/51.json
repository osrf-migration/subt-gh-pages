{"priority": "blocker", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "links": {"attachments": {"href": "data/repositories/osrf/subt/issues/51/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/subt/issues/51.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/issues/51/watch"}, "comments": {"href": "data/repositories/osrf/subt/issues/51/comments_page=1.json"}, "html": {"href": "#!/osrf/subt/issues/51/multiple-binds-on-same-address-different"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/issues/51/vote"}}, "reporter": {"display_name": "Jack Kelly", "uuid": "{60f78584-9b71-4aaf-96d6-d70b03637127}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B60f78584-9b71-4aaf-96d6-d70b03637127%7D"}, "html": {"href": "https://bitbucket.org/%7B60f78584-9b71-4aaf-96d6-d70b03637127%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/577b35c16383c7546882829abdb09c62d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-1.png"}}, "nickname": "jack-kelly", "type": "user", "account_id": "5b889f0de0eb212c4736bab5"}, "title": "Multiple Binds on same address, different ports in comms client fails", "component": null, "votes": 0, "watches": 1, "content": {"raw": "In a controller, if we try to bind two separate functions, \"receive_A\" and \"receive_B\"  to two different ports as in\r\n\r\n```\r\n#!c++\r\n\r\nthis->client->Bind(&CommsManager::receive_A, this, _address,33333);\r\nthis->client->Bind(&CommsManager::receive_B, this, _address,44444);\r\n```\r\nthis will fail to register `receive_B` with, e.g.\r\n\r\n```\r\nNew endpoint registered [X3:33333] for client [X3]\r\nNew endpoint registered [broadcast:33333] for client [X3]\r\nRegistering callback for endpoint X3:33333\r\nRegistering callback for endpoint broadcast:33333\r\nNew endpoint registered [X3:44444] for client [X3]\r\nNew endpoint registered [broadcast:44444] for client [X3]\r\nNode::Advertise(): Error advertising a service. Did you forget to start the discovery service?\r\n```", "markup": "markdown", "html": "<p>In a controller, if we try to bind two separate functions, \"receive_A\" and \"receive_B\"  to two different ports as in</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">client</span><span class=\"o\">-&gt;</span><span class=\"n\">Bind</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">CommsManager</span><span class=\"o\">::</span><span class=\"n\">receive_A</span><span class=\"p\">,</span> <span class=\"k\">this</span><span class=\"p\">,</span> <span class=\"n\">_address</span><span class=\"p\">,</span><span class=\"mi\">33333</span><span class=\"p\">);</span>\n<span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">client</span><span class=\"o\">-&gt;</span><span class=\"n\">Bind</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">CommsManager</span><span class=\"o\">::</span><span class=\"n\">receive_B</span><span class=\"p\">,</span> <span class=\"k\">this</span><span class=\"p\">,</span> <span class=\"n\">_address</span><span class=\"p\">,</span><span class=\"mi\">44444</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<p>this will fail to register <code>receive_B</code> with, e.g.</p>\n<div class=\"codehilite\"><pre><span></span>New endpoint registered [X3:33333] for client [X3]\nNew endpoint registered [broadcast:33333] for client [X3]\nRegistering callback for endpoint X3:33333\nRegistering callback for endpoint broadcast:33333\nNew endpoint registered [X3:44444] for client [X3]\nNew endpoint registered [broadcast:44444] for client [X3]\nNode::Advertise(): Error advertising a service. Did you forget to start the discovery service?\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "closed", "version": null, "edited_on": null, "created_on": "2019-02-13T18:53:00.840666+00:00", "milestone": null, "updated_on": "2019-10-31T06:04:48.146965+00:00", "type": "issue", "id": 51}