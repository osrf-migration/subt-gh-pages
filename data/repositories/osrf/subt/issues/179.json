{"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "links": {"attachments": {"href": "data/repositories/osrf/subt/issues/179/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/subt/issues/179.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/issues/179/watch"}, "comments": {"href": "data/repositories/osrf/subt/issues/179/comments_page=1.json"}, "html": {"href": "#!/osrf/subt/issues/179/acknowledge-and-ack-messages-from"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/issues/179/vote"}}, "reporter": {"display_name": "Sophisticated Engineering", "uuid": "{12ed2357-e253-4c67-a2b9-7e12c64773e4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B12ed2357-e253-4c67-a2b9-7e12c64773e4%7D"}, "html": {"href": "https://bitbucket.org/%7B12ed2357-e253-4c67-a2b9-7e12c64773e4%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a19963da6b0f34b3be28d8690bdd711d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSE-6.png"}}, "nickname": "sopheng", "type": "user", "account_id": "5c0d82b3128c7106f57691a7"}, "title": "Acknowledge and ACK messages from Basestation should use a message-id", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The implementation of the ACK behavior should be enhanced. Unfortunately we only recognized this now in this late state, but I think it should be mentioned now. \r\n\r\nThe acknowledge message behavior I\u2019ve seen in other areas is using a message-id. The sender is generating the message-id which is part of the message that is send to the receiver. Within the ACK-message the receiver sends this message-id back to the sender, who can now recognize which message has been acknowledged by the receiver. \r\n\r\nWithout a message-id the sender cannot be sure which message is acknowledged by the receiver.\r\n\r\n**Example**:\r\n\r\nRobot-X1 sends 3 Artifact-messages:\r\n\r\n1. a backpack\r\n2. a phone\r\n3. another backpack\r\n\r\nand gets back only 2 ACK-messages \\(because one Artifact-message was dropped\\) with\r\n\r\n1. report-id=0\r\n2. report-id=1\r\n\r\nThe report-id does not explain which Artifact message was dropped. \r\n\r\n\u200c\r\n\r\n**The same example with a message-id:** \r\n\r\nRobot-X1 sends 3 Artifact-messages:\r\n\r\n1. message-id=A, a backpack\r\n2. message-id=B, a phone\r\n3. message-id=C, another backpack\r\n\r\nand gets back only 2 ACK-messages with\r\n\r\n1. message-id=B, report-id=0\r\n2. message-id=C, report-id=1\r\n\r\nIn this case, it is clear, that the message with the first backpack has to been dropped and has to be resent.\r\n\r\nSo, I would propose, that a field \u201cmessage-id\u201d should be added to the Artifact-message and the corresponding ACK-message for such a usage.", "markup": "markdown", "html": "<p>The implementation of the ACK behavior should be enhanced. Unfortunately we only recognized this now in this late state, but I think it should be mentioned now. </p>\n<p>The acknowledge message behavior I\u2019ve seen in other areas is using a message-id. The sender is generating the message-id which is part of the message that is send to the receiver. Within the ACK-message the receiver sends this message-id back to the sender, who can now recognize which message has been acknowledged by the receiver. </p>\n<p>Without a message-id the sender cannot be sure which message is acknowledged by the receiver.</p>\n<p><strong>Example</strong>:</p>\n<p>Robot-X1 sends 3 Artifact-messages:</p>\n<ol>\n<li>a backpack</li>\n<li>a phone</li>\n<li>another backpack</li>\n</ol>\n<p>and gets back only 2 ACK-messages (because one Artifact-message was dropped) with</p>\n<ol>\n<li>report-id=0</li>\n<li>report-id=1</li>\n</ol>\n<p>The report-id does not explain which Artifact message was dropped. </p>\n<p>\u200c</p>\n<p><strong>The same example with a message-id:</strong> </p>\n<p>Robot-X1 sends 3 Artifact-messages:</p>\n<ol>\n<li>message-id=A, a backpack</li>\n<li>message-id=B, a phone</li>\n<li>message-id=C, another backpack</li>\n</ol>\n<p>and gets back only 2 ACK-messages with</p>\n<ol>\n<li>message-id=B, report-id=0</li>\n<li>message-id=C, report-id=1</li>\n</ol>\n<p>In this case, it is clear, that the message with the first backpack has to been dropped and has to be resent.</p>\n<p>So, I would propose, that a field \u201cmessage-id\u201d should be added to the Artifact-message and the corresponding ACK-message for such a usage.</p>", "type": "rendered"}, "assignee": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-09-10T22:29:25.702691+00:00", "milestone": null, "updated_on": "2020-02-21T21:35:54.834024+00:00", "type": "issue", "id": 179}