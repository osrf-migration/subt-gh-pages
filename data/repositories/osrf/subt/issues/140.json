{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "links": {"attachments": {"href": "data/repositories/osrf/subt/issues/140/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/subt/issues/140.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/issues/140/watch"}, "comments": {"href": "data/repositories/osrf/subt/issues/140/comments_page=1.json"}, "html": {"href": "#!/osrf/subt/issues/140/issue-with-finding-ignition-protobuf"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/issues/140/vote"}}, "reporter": {"display_name": "Joe Palk", "uuid": "{5cc8ea43-8141-495c-84a6-d43c27045e87}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cc8ea43-8141-495c-84a6-d43c27045e87%7D"}, "html": {"href": "https://bitbucket.org/%7B5cc8ea43-8141-495c-84a6-d43c27045e87%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d234ef34b35f80c57643503/eccf6b09-606c-456e-a48e-e1b9a48f93e0/128"}}, "nickname": "jepalk", "type": "user", "account_id": "5d234ef34b35f80c57643503"}, "title": "Issue with Finding Ignition Protobuf Messages", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I\u2019m currently trying to move my development over to the Ignition Subt branch.  I am able to compile subt with catkin\\_make, but when I run \u2018ign launch -v 4 competition.ign\u2019, I get the following error related to protobuf:\r\n\r\n```\r\n[Dbg] [SimulationRunner.cc:653] Loaded system [ignition::gazebo::systems::Magnetometer] for entity [1]\r\n[Dbg] [SimulationRunner.cc:653] Loaded system [ignition::gazebo::systems::AirPressure] for entity [1]\r\n[libprotobuf ERROR google/protobuf/descriptor.cc:3248] Invalid proto descriptor for file \"artifact.proto\":\r\n[libprotobuf ERROR google/protobuf/descriptor.cc:3251]   artifact.proto: Import \"ignition/msgs/pose.proto\" was not found or had errors.\r\n[libprotobuf ERROR google/protobuf/descriptor.cc:3251]   artifact.proto: Import \"ignition/msgs/time.proto\" was not found or had errors.\r\n[libprotobuf ERROR google/protobuf/descriptor.cc:3251]   subt.msgs.Artifact.pose: \".ignition.msgs.Pose\" is not defined.\r\n[libprotobuf ERROR google/protobuf/descriptor.cc:3251]   subt.msgs.ArtifactScore.submitted_datetime: \".ignition.msgs.Time\" is not defined.\r\n[libprotobuf ERROR google/protobuf/descriptor.cc:3251]   subt.msgs.ArtifactScore.sim_time: \".ignition.msgs.Time\" is not defined.\r\n[libprotobuf FATAL /home/jepaki/subt_ign_ws/devel/include/subt_ign/protobuf/artifact.pb.cc:41] CHECK failed: file != NULL: \r\nterminate called after throwing an instance of 'google::protobuf::FatalException'\r\n  what():  CHECK failed: file != NULL: \r\nAborted (core dumped)\r\n```\r\n\r\nI\u2019ve checked that the \u2018ignition/msgs/pose.proto\u2019 file does in fact exist \\(it\u2019s at /usr/include/ignition/msgs4/ignition/msgs/pose.proto\\), so maybe this is some issue with the proto\\_path path passed to protoc?  I\u2019ve built and installed protobuf 3.0.0 from source, and I\u2019m on Ubuntu 18.04, in case that is relevant. \r\n\r\nI\u2019m not sure what\u2019s going on, since the \u2018subts/subt\\_ign/CMakeLists.txt\u2019 seems like it should be picking up on this path.  Do you have any debugging suggestions? Thanks!", "markup": "markdown", "html": "<p>I\u2019m currently trying to move my development over to the Ignition Subt branch.  I am able to compile subt with catkin_make, but when I run \u2018ign launch -v 4 competition.ign\u2019, I get the following error related to protobuf:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">[Dbg] [SimulationRunner.cc:653] Loaded system [ignition::gazebo::systems::Magnetometer] for entity [1]</span>\n<span class=\"k\">[Dbg] [SimulationRunner.cc:653] Loaded system [ignition::gazebo::systems::AirPressure] for entity [1]</span>\n<span class=\"na\">[libprotobuf ERROR google/protobuf/descriptor.cc:3248] Invalid proto descriptor for file &quot;artifact.proto&quot;:</span>\n<span class=\"na\">[libprotobuf ERROR google/protobuf/descriptor.cc:3251]   artifact.proto: Import &quot;ignition/msgs/pose.proto&quot; was not found or had errors.</span>\n<span class=\"na\">[libprotobuf ERROR google/protobuf/descriptor.cc:3251]   artifact.proto: Import &quot;ignition/msgs/time.proto&quot; was not found or had errors.</span>\n<span class=\"na\">[libprotobuf ERROR google/protobuf/descriptor.cc:3251]   subt.msgs.Artifact.pose: &quot;.ignition.msgs.Pose&quot; is not defined.</span>\n<span class=\"na\">[libprotobuf ERROR google/protobuf/descriptor.cc:3251]   subt.msgs.ArtifactScore.submitted_datetime: &quot;.ignition.msgs.Time&quot; is not defined.</span>\n<span class=\"na\">[libprotobuf ERROR google/protobuf/descriptor.cc:3251]   subt.msgs.ArtifactScore.sim_time: &quot;.ignition.msgs.Time&quot; is not defined.</span>\n<span class=\"na\">[libprotobuf FATAL /home/jepaki/subt_ign_ws/devel/include/subt_ign/protobuf/artifact.pb.cc:41] CHECK failed: file !</span><span class=\"o\">=</span> <span class=\"s\">NULL: </span>\n<span class=\"na\">terminate called after throwing an instance of &#39;google::protobuf::FatalException&#39;</span>\n  <span class=\"na\">what():  CHECK failed: file !</span><span class=\"o\">=</span> <span class=\"s\">NULL: </span>\n<span class=\"na\">Aborted (core dumped)</span>\n</pre></div>\n\n\n<p>I\u2019ve checked that the \u2018ignition/msgs/pose.proto\u2019 file does in fact exist (it\u2019s at /usr/include/ignition/msgs4/ignition/msgs/pose.proto), so maybe this is some issue with the proto_path path passed to protoc?  I\u2019ve built and installed protobuf 3.0.0 from source, and I\u2019m on Ubuntu 18.04, in case that is relevant. </p>\n<p>I\u2019m not sure what\u2019s going on, since the \u2018subts/subt_ign/CMakeLists.txt\u2019 seems like it should be picking up on this path.  Do you have any debugging suggestions? Thanks!</p>", "type": "rendered"}, "assignee": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "state": "closed", "version": null, "edited_on": null, "created_on": "2019-07-30T16:22:41.412801+00:00", "milestone": null, "updated_on": "2019-10-31T05:58:53.257695+00:00", "type": "issue", "id": 140}