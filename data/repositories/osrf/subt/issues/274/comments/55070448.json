{"links": {"self": {"href": "data/repositories/osrf/subt/issues/274/comments/55070448.json"}, "html": {"href": "#!/osrf/subt/issues/274#comment-55070448"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/subt/issues/274.json"}}, "type": "issue", "id": 274, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "title": "X4 warning: failed to meet update rate"}, "content": {"raw": "I do see these messages. The \"Failed to meet update rate\" message is from the `ukf_localization_node`, which is part of the robot_localization package. This node creates odometry messages for use by the UAV controller by fusing IMU data. The target update rate is currently set to 250 Hz which is in sync with the simulation time step. I believe the error message is printed when the CPU has a high load (from running the simulation) and the localization node is unable to do its computation within the allotted time. In issue #208, the simulation was running at higher than 1x which made it impossible for the controller and localization nodes to keep up. The fix was to slow down the simulation back to 1x.\n\nI'm currently testing out a way to avoid using ukf_localization_node by generating odometry messages directly from IMU messages. In the mean time, if the UAV is not behaving as expected, you can try slowing down the simulator with the `updateRate` command line argument of the launch files. The default updateRate is 250 Hz. You can try with 125 (`updateRate:=125`) and see if the reduces the error messages. Note that since each vehicle gets its own AWS instance, this should not be a problem on Cloudsim unless your solution is CPU intensive.\n\nThe warning \"[Wrn] [Component.hh:144] Trying to serialize component with data type [N8ignition4msgs6WrenchE], which doesn't have operator<<. Component will not be serialized.\" is related to distributed simulation, which is not being used by SubT. You can safely ignore this.", "markup": "markdown", "html": "<p>I do see these messages. The \"Failed to meet update rate\" message is from the <code>ukf_localization_node</code>, which is part of the robot_localization package. This node creates odometry messages for use by the UAV controller by fusing IMU data. The target update rate is currently set to 250 Hz which is in sync with the simulation time step. I believe the error message is printed when the CPU has a high load (from running the simulation) and the localization node is unable to do its computation within the allotted time. In issue <a href=\"#!/osrf/subt/issues/208/control-response-for-x3-different-in-cloud\" rel=\"nofollow\" title=\"Control response for X3 different in cloud than locally\" class=\"ap-connect-link\"><s>#208</s></a>, the simulation was running at higher than 1x which made it impossible for the controller and localization nodes to keep up. The fix was to slow down the simulation back to 1x.</p>\n<p>I'm currently testing out a way to avoid using ukf_localization_node by generating odometry messages directly from IMU messages. In the mean time, if the UAV is not behaving as expected, you can try slowing down the simulator with the <code>updateRate</code> command line argument of the launch files. The default updateRate is 250 Hz. You can try with 125 (<code>updateRate:=125</code>) and see if the reduces the error messages. Note that since each vehicle gets its own AWS instance, this should not be a problem on Cloudsim unless your solution is CPU intensive.</p>\n<p>The warning \"[Wrn] [Component.hh:144] Trying to serialize component with data type [N8ignition4msgs6WrenchE], which doesn't have operator&lt;&lt;. Component will not be serialized.\" is related to distributed simulation, which is not being used by SubT. You can safely ignore this.</p>", "type": "rendered"}, "created_on": "2019-12-03T02:23:41.515759+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": null, "type": "issue_comment", "id": 55070448}