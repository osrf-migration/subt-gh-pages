{"links": {"self": {"href": "data/repositories/osrf/subt/issues/96/comments/52857778.json"}, "html": {"href": "#!/osrf/subt/issues/96#comment-52857778"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/subt/issues/96.json"}}, "type": "issue", "id": 96, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "title": "Having trouble with nvidia driver"}, "content": {"raw": "If it helps at all, I believe I may have hit this same issue. For me, the relevant stack trace seemed to be:\n\n```\n/usr/lib/ruby/ignition/cmdlaunch1.rb:202: [BUG] Segmentation fault at 0x00000000000002a8\nruby 2.5.1p57 (2018-03-29 revision 63029) [x86_64-linux-gnu]\n\n-- Control frame information -----------------------------------------------\nc:0005 p:---- s:0044 e:000043 CFUNC  :call\nc:0004 p:0017 s:0039 e:000038 METHOD /usr/lib/ruby/ignition/cmdlaunch1.rb:202\nc:0003 p:0446 s:0033 e:000032 METHOD /usr/lib/ruby/ignition/cmdlaunch1.rb:202\nc:0002 p:0628 s:0019 E:002208 EVAL   /usr/bin/ign:267 [FINISH]\nc:0001 p:0000 s:0003 E:000360 (none) [FINISH]\n\n-- Ruby level backtrace information ----------------------------------------\n/usr/bin/ign:267:in `<main>'\n/usr/lib/ruby/ignition/cmdlaunch1.rb:202:in `execute'\n/usr/lib/ruby/ignition/cmdlaunch1.rb:202:in `run'\n/usr/lib/ruby/ignition/cmdlaunch1.rb:202:in `call'\n\n-- Machine register context ------------------------------------------------\n RIP: 0x00007fb86c777940 RBP: 0x00007fb848050f90 RSP: 0x00007fb86eea3150\n RAX: 0x0000000000000000 RBX: 0x00007fb848078580 RCX: 0x0000000000000040\n RDX: 0x0000000000000000 RDI: 0x00007fb848078580 RSI: 0x00007fb848050f90\n  R8: 0x0000000000000004  R9: 0x0000000000000000 R10: 0x000000000000003d\n R11: 0x00007fb86c7ff820 R12: 0x00007fb848078210 R13: 0x00007fb848078580\n R14: 0x00007fb84801c3a0 R15: 0x00007fb86eea33b0 EFL: 0x0000000000010246\n\n-- C level backtrace information -------------------------------------------\n/usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5(0x7fb8bea77965) [0x7fb8bea77965]\n/usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5(0x7fb8bea77b9c) [0x7fb8bea77b9c]\n/usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5(0x7fb8be941884) [0x7fb8be941884]\n/usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5(0x7fb8bea079a2) [0x7fb8bea079a2]\n/lib/x86_64-linux-gnu/libc.so.6(0x7fb8be507f20) [0x7fb8be507f20]\n/usr/lib/x86_64-linux-gnu/libOgreMain.so.2.1.0(_ZN4Ogre15ConstBufferPool19_changeRenderSystemEPNS_12RenderSystemE+0x60) [0x7fb86c777940]\n/usr/lib/x86_64-linux-gnu/libOgreHlmsUnlit.so.2.1.0(_ZN4Ogre9HlmsUnlit19_changeRenderSystemEPNS_12RenderSystemE+0x3a) [0x7fb86c19f1aa]\n/usr/lib/x86_64-linux-gnu/libOgreMain.so.2.1.0(_ZN4Ogre11HlmsManager12registerHlmsEPNS_4HlmsEb+0x59) [0x7fb86c7ff879]\n...\n```\n\nThis was on a machine where I had the Nvidia drivers installed but without OpenGL support. Reinstalling the drivers with OpenGL support enabled resolved the issue for me on that machine.\n\nHowever, I have another machine where I am unable to install the Nvidia drivers with OpenGL support due to a login loop/black screen issue \\(and I am kind of stuck with using one specific driver version due to some other unrelated dependencies on that machine\\), and I haven\u2019t found a solution yet that works on that machine.\n\n\u2026", "markup": "markdown", "html": "<p>If it helps at all, I believe I may have hit this same issue. For me, the relevant stack trace seemed to be:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">ruby</span><span class=\"o\">/</span><span class=\"s s-Atom\">ignition</span><span class=\"o\">/</span><span class=\"s s-Atom\">cmdlaunch1</span><span class=\"p\">.</span><span class=\"nn\">rb</span><span class=\"p\">:</span><span class=\"mi\">202</span><span class=\"s s-Atom\">:</span> <span class=\"p\">[</span><span class=\"nv\">BUG</span><span class=\"p\">]</span> <span class=\"nv\">Segmentation</span> <span class=\"s s-Atom\">fault</span> <span class=\"s s-Atom\">at</span> <span class=\"mh\">0x00000000000002a8</span>\n<span class=\"s s-Atom\">ruby</span> <span class=\"mf\">2.5.1</span><span class=\"nf\">p57</span> <span class=\"p\">(</span><span class=\"mi\">2018</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">29</span> <span class=\"s s-Atom\">revision</span> <span class=\"mi\">63029</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"s s-Atom\">x86_64</span><span class=\"o\">-</span><span class=\"s s-Atom\">linux</span><span class=\"o\">-</span><span class=\"s s-Atom\">gnu</span><span class=\"p\">]</span>\n\n<span class=\"s s-Atom\">--</span> <span class=\"nv\">Control</span> <span class=\"s s-Atom\">frame</span> <span class=\"s s-Atom\">information</span> <span class=\"s s-Atom\">-----------------------------------------------</span>\n<span class=\"nn\">c</span><span class=\"p\">:</span><span class=\"mi\">0005</span> <span class=\"nn\">p</span><span class=\"p\">:</span><span class=\"s s-Atom\">----</span> <span class=\"nn\">s</span><span class=\"p\">:</span><span class=\"mi\">0044</span> <span class=\"nn\">e</span><span class=\"p\">:</span><span class=\"mi\">000043</span> <span class=\"nv\">CFUNC</span>  <span class=\"s s-Atom\">:call</span>\n<span class=\"nn\">c</span><span class=\"p\">:</span><span class=\"mi\">0004</span> <span class=\"nn\">p</span><span class=\"p\">:</span><span class=\"mi\">0017</span> <span class=\"nn\">s</span><span class=\"p\">:</span><span class=\"mi\">0039</span> <span class=\"nn\">e</span><span class=\"p\">:</span><span class=\"mi\">000038</span> <span class=\"nv\">METHOD</span> <span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">ruby</span><span class=\"o\">/</span><span class=\"s s-Atom\">ignition</span><span class=\"o\">/</span><span class=\"s s-Atom\">cmdlaunch1</span><span class=\"p\">.</span><span class=\"nn\">rb</span><span class=\"p\">:</span><span class=\"mi\">202</span>\n<span class=\"nn\">c</span><span class=\"p\">:</span><span class=\"mi\">0003</span> <span class=\"nn\">p</span><span class=\"p\">:</span><span class=\"mi\">0446</span> <span class=\"nn\">s</span><span class=\"p\">:</span><span class=\"mi\">0033</span> <span class=\"nn\">e</span><span class=\"p\">:</span><span class=\"mi\">000032</span> <span class=\"nv\">METHOD</span> <span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">ruby</span><span class=\"o\">/</span><span class=\"s s-Atom\">ignition</span><span class=\"o\">/</span><span class=\"s s-Atom\">cmdlaunch1</span><span class=\"p\">.</span><span class=\"nn\">rb</span><span class=\"p\">:</span><span class=\"mi\">202</span>\n<span class=\"nn\">c</span><span class=\"p\">:</span><span class=\"mi\">0002</span> <span class=\"nn\">p</span><span class=\"p\">:</span><span class=\"mi\">0628</span> <span class=\"nn\">s</span><span class=\"p\">:</span><span class=\"mi\">0019</span> <span class=\"nv\">E</span><span class=\"s s-Atom\">:</span><span class=\"mi\">002208</span> <span class=\"nv\">EVAL</span>   <span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">bin</span><span class=\"o\">/</span><span class=\"nn\">ign</span><span class=\"p\">:</span><span class=\"mi\">267</span> <span class=\"p\">[</span><span class=\"nv\">FINISH</span><span class=\"p\">]</span>\n<span class=\"nn\">c</span><span class=\"p\">:</span><span class=\"mi\">0001</span> <span class=\"nn\">p</span><span class=\"p\">:</span><span class=\"mi\">0000</span> <span class=\"nn\">s</span><span class=\"p\">:</span><span class=\"mi\">0003</span> <span class=\"nv\">E</span><span class=\"s s-Atom\">:</span><span class=\"mi\">000360</span> <span class=\"p\">(</span><span class=\"s s-Atom\">none</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"nv\">FINISH</span><span class=\"p\">]</span>\n\n<span class=\"s s-Atom\">--</span> <span class=\"nv\">Ruby</span> <span class=\"s s-Atom\">level</span> <span class=\"s s-Atom\">backtrace</span> <span class=\"s s-Atom\">information</span> <span class=\"s s-Atom\">----------------------------------------</span>\n<span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">bin</span><span class=\"o\">/</span><span class=\"nn\">ign</span><span class=\"p\">:</span><span class=\"mi\">267</span><span class=\"s s-Atom\">:in</span> <span class=\"err\">`</span><span class=\"o\">&lt;</span><span class=\"s s-Atom\">main&gt;&#39;</span>\n<span class=\"s s-Atom\">/usr/lib/ruby/ignition/cmdlaunch1.rb:202:in `execute&#39;</span>\n<span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">ruby</span><span class=\"o\">/</span><span class=\"s s-Atom\">ignition</span><span class=\"o\">/</span><span class=\"s s-Atom\">cmdlaunch1</span><span class=\"p\">.</span><span class=\"nn\">rb</span><span class=\"p\">:</span><span class=\"mi\">202</span><span class=\"s s-Atom\">:in</span> <span class=\"err\">`</span><span class=\"s s-Atom\">run&#39;</span>\n<span class=\"s s-Atom\">/usr/lib/ruby/ignition/cmdlaunch1.rb:202:in `call&#39;</span>\n\n<span class=\"s s-Atom\">--</span> <span class=\"nv\">Machine</span> <span class=\"s s-Atom\">register</span> <span class=\"s s-Atom\">context</span> <span class=\"s s-Atom\">------------------------------------------------</span>\n <span class=\"nv\">RIP</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x00007fb86c777940</span> <span class=\"nv\">RBP</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x00007fb848050f90</span> <span class=\"nv\">RSP</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x00007fb86eea3150</span>\n <span class=\"nv\">RAX</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x0000000000000000</span> <span class=\"nv\">RBX</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x00007fb848078580</span> <span class=\"nv\">RCX</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x0000000000000040</span>\n <span class=\"nv\">RDX</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x0000000000000000</span> <span class=\"nv\">RDI</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x00007fb848078580</span> <span class=\"nv\">RSI</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x00007fb848050f90</span>\n  <span class=\"nv\">R8</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x0000000000000004</span>  <span class=\"nv\">R9</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x0000000000000000</span> <span class=\"nv\">R10</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x000000000000003d</span>\n <span class=\"nv\">R11</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x00007fb86c7ff820</span> <span class=\"nv\">R12</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x00007fb848078210</span> <span class=\"nv\">R13</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x00007fb848078580</span>\n <span class=\"nv\">R14</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x00007fb84801c3a0</span> <span class=\"nv\">R15</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x00007fb86eea33b0</span> <span class=\"nv\">EFL</span><span class=\"s s-Atom\">:</span> <span class=\"mh\">0x0000000000010246</span>\n\n<span class=\"s s-Atom\">--</span> <span class=\"nv\">C</span> <span class=\"s s-Atom\">level</span> <span class=\"s s-Atom\">backtrace</span> <span class=\"s s-Atom\">information</span> <span class=\"s s-Atom\">-------------------------------------------</span>\n<span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">x86_64</span><span class=\"o\">-</span><span class=\"s s-Atom\">linux</span><span class=\"o\">-</span><span class=\"s s-Atom\">gnu</span><span class=\"o\">/</span><span class=\"s s-Atom\">libruby</span><span class=\"o\">-</span><span class=\"mf\">2.5</span><span class=\"p\">.</span><span class=\"s s-Atom\">so</span><span class=\"mf\">.2.5</span><span class=\"p\">(</span><span class=\"mh\">0x7fb8bea77965</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"mh\">0x7fb8bea77965</span><span class=\"p\">]</span>\n<span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">x86_64</span><span class=\"o\">-</span><span class=\"s s-Atom\">linux</span><span class=\"o\">-</span><span class=\"s s-Atom\">gnu</span><span class=\"o\">/</span><span class=\"s s-Atom\">libruby</span><span class=\"o\">-</span><span class=\"mf\">2.5</span><span class=\"p\">.</span><span class=\"s s-Atom\">so</span><span class=\"mf\">.2.5</span><span class=\"p\">(</span><span class=\"mh\">0x7fb8bea77b9c</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"mh\">0x7fb8bea77b9c</span><span class=\"p\">]</span>\n<span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">x86_64</span><span class=\"o\">-</span><span class=\"s s-Atom\">linux</span><span class=\"o\">-</span><span class=\"s s-Atom\">gnu</span><span class=\"o\">/</span><span class=\"s s-Atom\">libruby</span><span class=\"o\">-</span><span class=\"mf\">2.5</span><span class=\"p\">.</span><span class=\"s s-Atom\">so</span><span class=\"mf\">.2.5</span><span class=\"p\">(</span><span class=\"mh\">0x7fb8be941884</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"mh\">0x7fb8be941884</span><span class=\"p\">]</span>\n<span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">x86_64</span><span class=\"o\">-</span><span class=\"s s-Atom\">linux</span><span class=\"o\">-</span><span class=\"s s-Atom\">gnu</span><span class=\"o\">/</span><span class=\"s s-Atom\">libruby</span><span class=\"o\">-</span><span class=\"mf\">2.5</span><span class=\"p\">.</span><span class=\"s s-Atom\">so</span><span class=\"mf\">.2.5</span><span class=\"p\">(</span><span class=\"mh\">0x7fb8bea079a2</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"mh\">0x7fb8bea079a2</span><span class=\"p\">]</span>\n<span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">x86_64</span><span class=\"o\">-</span><span class=\"s s-Atom\">linux</span><span class=\"o\">-</span><span class=\"s s-Atom\">gnu</span><span class=\"o\">/</span><span class=\"s s-Atom\">libc</span><span class=\"p\">.</span><span class=\"s s-Atom\">so</span><span class=\"mf\">.6</span><span class=\"p\">(</span><span class=\"mh\">0x7fb8be507f20</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"mh\">0x7fb8be507f20</span><span class=\"p\">]</span>\n<span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">x86_64</span><span class=\"o\">-</span><span class=\"s s-Atom\">linux</span><span class=\"o\">-</span><span class=\"s s-Atom\">gnu</span><span class=\"o\">/</span><span class=\"s s-Atom\">libOgreMain</span><span class=\"p\">.</span><span class=\"s s-Atom\">so</span><span class=\"mf\">.2.1.0</span><span class=\"p\">(</span><span class=\"k\">_</span><span class=\"nv\">ZN4Ogre15ConstBufferPool19_changeRenderSystemEPNS_12RenderSystemE</span><span class=\"o\">+</span><span class=\"mh\">0x60</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"mh\">0x7fb86c777940</span><span class=\"p\">]</span>\n<span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">x86_64</span><span class=\"o\">-</span><span class=\"s s-Atom\">linux</span><span class=\"o\">-</span><span class=\"s s-Atom\">gnu</span><span class=\"o\">/</span><span class=\"s s-Atom\">libOgreHlmsUnlit</span><span class=\"p\">.</span><span class=\"s s-Atom\">so</span><span class=\"mf\">.2.1.0</span><span class=\"p\">(</span><span class=\"k\">_</span><span class=\"nv\">ZN4Ogre9HlmsUnlit19_changeRenderSystemEPNS_12RenderSystemE</span><span class=\"o\">+</span><span class=\"mh\">0x3a</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"mh\">0x7fb86c19f1aa</span><span class=\"p\">]</span>\n<span class=\"o\">/</span><span class=\"s s-Atom\">usr</span><span class=\"o\">/</span><span class=\"s s-Atom\">lib</span><span class=\"o\">/</span><span class=\"s s-Atom\">x86_64</span><span class=\"o\">-</span><span class=\"s s-Atom\">linux</span><span class=\"o\">-</span><span class=\"s s-Atom\">gnu</span><span class=\"o\">/</span><span class=\"s s-Atom\">libOgreMain</span><span class=\"p\">.</span><span class=\"s s-Atom\">so</span><span class=\"mf\">.2.1.0</span><span class=\"p\">(</span><span class=\"k\">_</span><span class=\"nv\">ZN4Ogre11HlmsManager12registerHlmsEPNS_4HlmsEb</span><span class=\"o\">+</span><span class=\"mh\">0x59</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"mh\">0x7fb86c7ff879</span><span class=\"p\">]</span>\n<span class=\"p\">...</span>\n</pre></div>\n\n\n<p>This was on a machine where I had the Nvidia drivers installed but without OpenGL support. Reinstalling the drivers with OpenGL support enabled resolved the issue for me on that machine.</p>\n<p>However, I have another machine where I am unable to install the Nvidia drivers with OpenGL support due to a login loop/black screen issue (and I am kind of stuck with using one specific driver version due to some other unrelated dependencies on that machine), and I haven\u2019t found a solution yet that works on that machine.</p>\n<p>\u2026</p>", "type": "rendered"}, "created_on": "2019-07-05T04:07:41.040132+00:00", "user": {"display_name": "Malcolm Stagg", "uuid": "{eee13832-fdd5-4196-aa05-6cfdb1118c65}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beee13832-fdd5-4196-aa05-6cfdb1118c65%7D"}, "html": {"href": "https://bitbucket.org/%7Beee13832-fdd5-4196-aa05-6cfdb1118c65%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8c08ab97dc600bddad36e4a58f8cc5afd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMS-3.png"}}, "nickname": "malcolmst7", "type": "user", "account_id": "557058:08ef8b07-1500-4917-989c-89f91ce4beac"}, "updated_on": null, "type": "issue_comment", "id": 52857778}