{"links": {"self": {"href": "data/repositories/osrf/subt/issues/83/comments/52749249.json"}, "html": {"href": "#!/osrf/subt/issues/83#comment-52749249"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/subt/issues/83.json"}}, "type": "issue", "id": 83, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "title": "Interleaved clock publications"}, "content": {"raw": "Ok, I\u2019m fairly certain this _is_ related to the IGN\\_PARTITION environment variable. Steps to fix/reproduce:\n\n1. run two docker containers on the same subt image\n2. in one container, edit virtual\\_stix.ign to change the ROS\\_MASTER\\_URI port to 11312 \\(also change the first roslaunch to include -p 11312\\) - this ensures they do not share a ROS master\n3. run `ign launch -v 4 virtual_stix.ign` in one image\n4. run `ign launch -v 4 virtual_stix.ign robotName1:=X1 robotConfig1:=X1_SENSOR_CONFIG_1` in the other\n\nThis will pop a robot into both simulations. If you change the IGN\\_PARTITION environment variable in one of the docker containers, you don\u2019t see this happen. Clock issues were \\(I presume\\) happening when the ros1\\_ign\\_bridge was getting connections from multiple gazebo instances.", "markup": "markdown", "html": "<p>Ok, I\u2019m fairly certain this <em>is</em> related to the IGN_PARTITION environment variable. Steps to fix/reproduce:</p>\n<ol>\n<li>run two docker containers on the same subt image</li>\n<li>in one container, edit virtual_stix.ign to change the ROS_MASTER_URI port to 11312 (also change the first roslaunch to include -p 11312) - this ensures they do not share a ROS master</li>\n<li>run <code>ign launch -v 4 virtual_stix.ign</code> in one image</li>\n<li>run <code>ign launch -v 4 virtual_stix.ign robotName1:=X1 robotConfig1:=X1_SENSOR_CONFIG_1</code> in the other</li>\n</ol>\n<p>This will pop a robot into both simulations. If you change the IGN_PARTITION environment variable in one of the docker containers, you don\u2019t see this happen. Clock issues were (I presume) happening when the ros1_ign_bridge was getting connections from multiple gazebo instances.</p>", "type": "rendered"}, "created_on": "2019-06-26T17:00:57.944579+00:00", "user": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "updated_on": null, "type": "issue_comment", "id": 52749249}