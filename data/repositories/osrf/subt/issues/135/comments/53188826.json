{"links": {"self": {"href": "data/repositories/osrf/subt/issues/135/comments/53188826.json"}, "html": {"href": "#!/osrf/subt/issues/135#comment-53188826"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/subt/issues/135.json"}}, "type": "issue", "id": 135, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "title": "*** New SubT Simulation docker image available on DockerHub ***"}, "content": {"raw": "Morning all, I think I figured out what was going on here. In the previous image, the \u2018developer\u2019 account in the docker container had a uid of 1000. On a base install of ubuntu, that\u2019s the first user. If you happen to be logged in with a user that has that same uid on your local machine, xauth is happy and everything works.\n\nIn the \u2018latest\u2019 docker image \\(sha256:1145790d83973b37bd4851e6e329d24de062a99e19f898e22438c9d3882c00a6\\), the \u2018developer\u2019 account switched uids and is now 1001. As such, that user essentially fails xauth and cannot access the display.\n\nThe quick fix is to turn off auth with \u2018xhost \\+local:root\u2019 - although this is a bad idea from a security standpoint. That said, running docker containers with \u2018--privileged\u2019 and \u2018--security-opt seccomp=unconfined\u2019 is also pretty terrible, so I\u2019m not sure how much worse of a position that puts everyone in. Please don\u2019t own all of our machines OSRF. :slight_smile:\n\n\\(Some additional details are here for those who are interested: [http://wiki.ros.org/docker/Tutorials/GUI](http://wiki.ros.org/docker/Tutorials/GUI)\\)\n\nCheers,  \n-Adam", "markup": "markdown", "html": "<p>Morning all, I think I figured out what was going on here. In the previous image, the \u2018developer\u2019 account in the docker container had a uid of 1000. On a base install of ubuntu, that\u2019s the first user. If you happen to be logged in with a user that has that same uid on your local machine, xauth is happy and everything works.</p>\n<p>In the \u2018latest\u2019 docker image (sha256:1145790d83973b37bd4851e6e329d24de062a99e19f898e22438c9d3882c00a6), the \u2018developer\u2019 account switched uids and is now 1001. As such, that user essentially fails xauth and cannot access the display.</p>\n<p>The quick fix is to turn off auth with \u2018xhost +local:root\u2019 - although this is a bad idea from a security standpoint. That said, running docker containers with \u2018--privileged\u2019 and \u2018--security-opt seccomp=unconfined\u2019 is also pretty terrible, so I\u2019m not sure how much worse of a position that puts everyone in. Please don\u2019t own all of our machines OSRF. <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f642.png\" alt=\"\ud83d\ude42\" title=\":slight_smile:\" data-emoji-short-name=\":slight_smile:\" /></p>\n<p>(Some additional details are here for those who are interested: <a data-is-external-link=\"true\" href=\"http://wiki.ros.org/docker/Tutorials/GUI\" rel=\"nofollow\">http://wiki.ros.org/docker/Tutorials/GUI</a>)</p>\n<p>Cheers,<br />\n-Adam</p>", "type": "rendered"}, "created_on": "2019-07-29T12:52:31.061848+00:00", "user": {"display_name": "Adam Uccello", "uuid": "{3841e0e5-cf8c-44ef-aef8-e70708f00072}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3841e0e5-cf8c-44ef-aef8-e70708f00072%7D"}, "html": {"href": "https://bitbucket.org/%7B3841e0e5-cf8c-44ef-aef8-e70708f00072%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8775f19685cb26ebb811cfbd8e111ee6d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAU-6.png"}}, "nickname": "uccellap", "type": "user", "account_id": "5bad44781e426e5e9cd186de"}, "updated_on": "2019-07-29T19:47:25.307463+00:00", "type": "issue_comment", "id": 53188826}