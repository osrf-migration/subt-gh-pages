{"links": {"self": {"href": "data/repositories/osrf/subt/issues/225/comments/54252132.json"}, "html": {"href": "#!/osrf/subt/issues/225#comment-54252132"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/subt/issues/225.json"}}, "type": "issue", "id": 225, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "title": "Local/AWS docker simulation does not always start"}, "content": {"raw": "This happened just on AWS, Simple Tunnel 01, robotika, 1dfdc090-6495-437e-9e38-72ad9ce01660, robots A0F40F100F400L and B30F40F100F400R.\r\n\r\nI was able to extract OSGAR logs from B and I see that robot A never moved. Note, that A started immediately \\(A0F\\) while B is supposed to wait 30 \\(B30F\\). And for A I see:\r\n\r\n\u200c\r\n\r\n```\r\n0.000000000  Node Startup\r\n0.000000000 INFO /tf_world_static [/tmp/binarydeb/ros-melodic-tf2-ros-0.6.5/src/static_transform_broadcaster_program.cpp:142(main)] [topics: /rosout, /tf_static] Spinning until killed publishing world to simple_tunnel_01\r\n0.000000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:204(Controller)] [topics: /rosout] Waiting for /clock, /subt/start, and /subt/pose_from_artifact\r\n137.748000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:212(Controller)] [topics: /rosout] Using robot name[A0F40F100F400L]\r\n\r\n137.752000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:247(Update)] [topics: /rosout] Sent start signal.\r\n137.796000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout SubT Challenge Ver2!\r\n137.796000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Waiting for robot_name ...\r\n137.796000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:313(Update)] [topics: /rosout, /A0F40F100F400L/cmd_vel] MD robot pose -6 5 dist=61\r\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout 0:00:01.950919 (0.0 0.0 0.0) []\r\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout robot_name: A0F40F100F400L\r\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Use right wall: False\r\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Using times [0, 40, 100, 400]\r\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Artifacts before start: []\r\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Waiting for origin ...\r\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Origin: [-6.0, 5.0, 0.0615] A0F40F100F400L\r\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Offset: (-6.0, 5.0, 0.0615)\r\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout heading -0.0 angle -39.80557109226519 dist 7.810249675906654\r\n137.948000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:103(odomCallback)] [topics: /rosout, /A0F40F100F400L/cmd_vel] received Odom 0\r\n137.948000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:76(imuCallback)] [topics: /rosout, /A0F40F100F400L/cmd_vel] received Imu 0 \r\n137.948000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:85(scanCallback)] [topics: /rosout, /A0F40F100F400L/cmd_vel] received Scan 0\r\n137.948000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:94(imageCallback)] [topics: /rosout, /A0F40F100F400L/cmd_vel] received Image 0\r\n138.000000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Image resolution (960, 1280, 3)\r\n138.000000000 INFO /A0F40F100F400L/ros1_ign_bridge_twist [/tmp/ros1-ign-bridge-release/include/ros1_ign_bridge/factory.hpp:137(Factory<ROS1_T, IGN_T>::ros1_callback)] [topics: /rosout] Passing message from ROS1 geometry_msgs/Twist to Ignition ignition.msgs.Twist (showing msg only once per type\r\n139.948000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:103(odomCallback)] [topics: /rosout, /A0F40F100F400L/cmd_vel] received Odom 100\r\n1\r\n...\r\n213.200000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout 0:02:00.015000 (0.0 0.0 0.0) [('acc', 2058), ('image', 823), ('origin', 823), ('pose2d', 2057), ('rot', 2058), ('scan', 412), ('sim_time_sec', 42)]\r\n...\r\n391.200000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout 0:07:00.014022 (0.0 0.0 0.0) [('acc', 1750), ('image', 700), ('origin', 700), ('pose2d', 1750), ('rot', 1750), ('scan', 350), ('sim_time_sec', 35)]\r\n...\r\n```\r\n\r\nsimply it never moves.\r\n\r\n\u200c\r\n\r\nCould it be related to \r\n\r\n\u200c\r\n\r\n```\r\n138.000000000 INFO /A0F40F100F400L/ros1_ign_bridge_twist [/tmp/ros1-ign-bridge-release/include/ros1_ign_bridge/factory.hpp:137(Factory<ROS1_T, IGN_T>::ros1_callback)] [topics: /rosout] Passing message from ROS1 geometry_msgs/Twist to Ignition ignition.msgs.Twist (showing msg only once per type \r\n```\r\n\r\n?\r\n\r\non the \u201cB\u201d robot it was sooner:\r\n\r\n136\\.564000000 INFO /B30F40F100F400R/ros1\\_ign\\_bridge\\_twist \\[/tmp/ros1-ign-bridge-release/include/ros1\\_ign\\_bridge/factory.hpp:137\\(Factory<ROS1\\_T, IGN\\_T>::ros1\\_callback\\)\\] \\[topics: /rosout\\] Passing message from ROS1 geometry\\_msgs/Twist to Ignition ignition.msgs.Twist \\(showing msg only once per type\r\n\r\nas I said this code is based on subt\\_seed example", "markup": "markdown", "html": "<p>This happened just on AWS, Simple Tunnel 01, robotika, <a href=\"#!/osrf/subt/commits/1dfdc090\" rel=\"nofollow\" class=\"ap-connect-link\">1dfdc090</a>-6495-437e-9e38-72ad9ce01660, robots A0F40F100F400L and B30F40F100F400R.</p>\n<p>I was able to extract OSGAR logs from B and I see that robot A never moved. Note, that A started immediately (A0F) while B is supposed to wait 30 (B30F). And for A I see:</p>\n<p>\u200c</p>\n<div class=\"codehilite\"><pre><span></span>0.000000000  Node Startup\n0.000000000 INFO /tf_world_static [/tmp/binarydeb/ros-melodic-tf2-ros-0.6.5/src/static_transform_broadcaster_program.cpp:142(main)] [topics: /rosout, /tf_static] Spinning until killed publishing world to simple_tunnel_01\n0.000000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:204(Controller)] [topics: /rosout] Waiting for /clock, /subt/start, and /subt/pose_from_artifact\n137.748000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:212(Controller)] [topics: /rosout] Using robot name[A0F40F100F400L]\n\n137.752000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:247(Update)] [topics: /rosout] Sent start signal.\n137.796000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout SubT Challenge Ver2!\n137.796000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Waiting for robot_name ...\n137.796000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:313(Update)] [topics: /rosout, /A0F40F100F400L/cmd_vel] MD robot pose -6 5 dist=61\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout 0:00:01.950919 (0.0 0.0 0.0) []\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout robot_name: A0F40F100F400L\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Use right wall: False\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Using times [0, 40, 100, 400]\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Artifacts before start: []\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Waiting for origin ...\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Origin: [-6.0, 5.0, 0.0615] A0F40F100F400L\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Offset: (-6.0, 5.0, 0.0615)\n137.848000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout heading -0.0 angle -39.80557109226519 dist 7.810249675906654\n137.948000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:103(odomCallback)] [topics: /rosout, /A0F40F100F400L/cmd_vel] received Odom 0\n137.948000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:76(imuCallback)] [topics: /rosout, /A0F40F100F400L/cmd_vel] received Imu 0 \n137.948000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:85(scanCallback)] [topics: /rosout, /A0F40F100F400L/cmd_vel] received Scan 0\n137.948000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:94(imageCallback)] [topics: /rosout, /A0F40F100F400L/cmd_vel] received Image 0\n138.000000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout Image resolution (960, 1280, 3)\n138.000000000 INFO /A0F40F100F400L/ros1_ign_bridge_twist [/tmp/ros1-ign-bridge-release/include/ros1_ign_bridge/factory.hpp:137(Factory&lt;ROS1_T, IGN_T&gt;::ros1_callback)] [topics: /rosout] Passing message from ROS1 geometry_msgs/Twist to Ignition ignition.msgs.Twist (showing msg only once per type\n139.948000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:103(odomCallback)] [topics: /rosout, /A0F40F100F400L/cmd_vel] received Odom 100\n1\n...\n213.200000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout 0:02:00.015000 (0.0 0.0 0.0) [(&#39;acc&#39;, 2058), (&#39;image&#39;, 823), (&#39;origin&#39;, 823), (&#39;pose2d&#39;, 2057), (&#39;rot&#39;, 2058), (&#39;scan&#39;, 412), (&#39;sim_time_sec&#39;, 42)]\n...\n391.200000000 INFO /subt_solution [/home/developer/subt_solution/src/subt_seed/src/subt_seed_node.cc:403(getSpeedCmd)] [topics: /rosout, /A0F40F100F400L/cmd_vel] Python3: stdout 0:07:00.014022 (0.0 0.0 0.0) [(&#39;acc&#39;, 1750), (&#39;image&#39;, 700), (&#39;origin&#39;, 700), (&#39;pose2d&#39;, 1750), (&#39;rot&#39;, 1750), (&#39;scan&#39;, 350), (&#39;sim_time_sec&#39;, 35)]\n...\n</pre></div>\n\n\n<p>simply it never moves.</p>\n<p>\u200c</p>\n<p>Could it be related to </p>\n<p>\u200c</p>\n<div class=\"codehilite\"><pre><span></span>138.000000000 INFO /A0F40F100F400L/ros1_ign_bridge_twist [/tmp/ros1-ign-bridge-release/include/ros1_ign_bridge/factory.hpp:137(Factory&lt;ROS1_T, IGN_T&gt;::ros1_callback)] [topics: /rosout] Passing message from ROS1 geometry_msgs/Twist to Ignition ignition.msgs.Twist (showing msg only once per type \n</pre></div>\n\n\n<p>?</p>\n<p>on the \u201cB\u201d robot it was sooner:</p>\n<p>136.<a href=\"#!/osrf/subt/commits/564000000\" rel=\"nofollow\" class=\"ap-connect-link\">564000000</a> INFO /B30F40F100F400R/ros1_ign_bridge_twist [/tmp/ros1-ign-bridge-release/include/ros1_ign_bridge/factory.hpp:137(Factory&lt;ROS1_T, IGN_T&gt;::ros1_callback)] [topics: /rosout] Passing message from ROS1 geometry_msgs/Twist to Ignition ignition.msgs.Twist (showing msg only once per type</p>\n<p>as I said this code is based on subt_seed example</p>", "type": "rendered"}, "created_on": "2019-10-08T09:46:21.268566+00:00", "user": {"display_name": "Martin Dlouhy", "uuid": "{27de76db-249c-44be-9eb8-91a3b17bf0d7}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B27de76db-249c-44be-9eb8-91a3b17bf0d7%7D"}, "html": {"href": "https://bitbucket.org/%7B27de76db-249c-44be-9eb8-91a3b17bf0d7%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/85a9b1d43839b393296feb3b35a2e577d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMD-1.png"}}, "nickname": "robotikacz", "type": "user", "account_id": "557058:490c665b-b69c-40f3-80ea-64f20747efc4"}, "updated_on": null, "type": "issue_comment", "id": 54252132}