{"links": {"self": {"href": "data/repositories/osrf/subt/issues/251/comments/54404143.json"}, "html": {"href": "#!/osrf/subt/issues/251#comment-54404143"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/subt/issues/251.json"}}, "type": "issue", "id": 251, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "title": "X3 Config 4 (VGA RGBD Camera) has incorrect camera_info calibration matrix"}, "content": {"raw": "I figured out how to fix this, but it involves editing the model.sdf file for the X3 config 4 model.  I added the following block inside the camera sensor xml block:\n\n<lens>  \n<intrinsics>  \n<!-- fx = fy = width / \\( 2 \\* tan \\(hfov / 2 \\) \\) -->  \n<fx>554.25469</fx>  \n<fy>554.25469</fy>  \n<!-- cx = \\( width \\+ 1 \\) / 2 -->  \n<cx>320.5</cx>  \n<!-- cy = \\( height \\+ 1 \\) / 2 -->  \n<cy>240.5</cy>  \n<s>0</s>  \n</intrinsics>  \n</lens>", "markup": "markdown", "html": "<p>I figured out how to fix this, but it involves editing the model.sdf file for the X3 config 4 model.  I added the following block inside the camera sensor xml block:</p>\n<p>&lt;lens&gt;<br />\n&lt;intrinsics&gt;<br />\n&lt;!-- fx = fy = width / ( 2 * tan (hfov / 2 ) ) --&gt;<br />\n&lt;fx&gt;554.25469&lt;/fx&gt;<br />\n&lt;fy&gt;554.25469&lt;/fy&gt;<br />\n&lt;!-- cx = ( width + 1 ) / 2 --&gt;<br />\n&lt;cx&gt;320.5&lt;/cx&gt;<br />\n&lt;!-- cy = ( height + 1 ) / 2 --&gt;<br />\n&lt;cy&gt;240.5&lt;/cy&gt;<br />\n&lt;s&gt;0&lt;/s&gt;<br />\n&lt;/intrinsics&gt;<br />\n&lt;/lens&gt;</p>", "type": "rendered"}, "created_on": "2019-10-17T18:22:52.910341+00:00", "user": {"display_name": "Neil Johnson", "uuid": "{ace5bb77-1f3f-47ce-ad95-ea205b690930}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bace5bb77-1f3f-47ce-ad95-ea205b690930%7D"}, "html": {"href": "https://bitbucket.org/%7Bace5bb77-1f3f-47ce-ad95-ea205b690930%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/7ff0dae55a4eb43a021cc9c08bbf30f5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsNJ-3.png"}}, "nickname": "realdealneil1980", "type": "user", "account_id": "557058:21a4b3d0-2fa2-4202-9385-337ffcf40b2f"}, "updated_on": null, "type": "issue_comment", "id": 54404143}