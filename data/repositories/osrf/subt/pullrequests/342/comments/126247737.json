{"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/342/comments/126247737.json"}, "html": {"href": "#!/osrf/subt/pull-requests/342/_/diff#comment-126247737"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 342, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/342.json"}, "html": {"href": "#!/osrf/subt/pull-requests/342"}}, "title": "Model submission for X4 sensor configuration 6 by SSCI."}, "content": {"raw": "The `model.sdf` you submitted includes Gazebo `<script>` tags which are incompatible with Ignition as well as hard-coded local paths for your model as opposed to local relative paths.  The model you submitted does not appear to be compatible with Ignition yet and will require further testing.  There are also a number of other issues with spawning your model using a standard command: `ign launch -v 4 competition.ign robotName1:=alpha robotConfig1:=ssci_x4_sensor_config_6 localModel:=true`\n\n\u200c\n\nMore work must be done before we can accept this model as-is into the SubT repository or we will need to find time to do it ourselves \\(which may or may not meet your desired timeline\\).  Your proposed model configuration modifications to the X4 are welcome and would be a good addition to the current array of configurations available but we can only accept 100% functional submissions.\n\n\u200c\n\nWhile I was investigating your submission, I made modifications to your `spawner.rb` to get your model to load.  Feel free to reuse this code with your re-submission.\n\n\u200c\n\n```\ndef spawner(_name, _modelURI, _worldName, _x, _y, _z, _roll, _pitch, _yaw)\n  <<-HEREDOC\n    _config=6\n    uav=1\n    laserScan=0\n    stereoCam=0\n    rgbdCam=0\n    if _config == \"2\"\n      rgbdCam=1\n    end\n    if _config == \"3\" or _config == \"4\"\n      laserScan=1\n    end\n    if _config == \"5\"\n      stereoCam=1\n    end\n    <plugin name=\"ignition::launch::GazeboFactory\"\n            filename=\"libignition-launch-gazebo-factory.so\">\n      <name>#{_name}</name>\n      <allow_renaming>false</allow_renaming>\n      <pose>#{_x} #{_y} 0.2 0 0 0</pose>\n      <world>#{_worldName}</world>\n      <is_performer>true</is_performer>\n      <sdf version='1.6'>\n      <include>\n        <name>#{_name}</name>\n        <uri>#{_modelURI}</uri>\n        <!-- Publish robot state information -->\n        <plugin filename=\"libignition-gazebo-pose-publisher-system.so\"\n          name=\"ignition::gazebo::systems::PosePublisher\">\n          <publish_link_pose>true</publish_link_pose>\n          <publish_sensor_pose>true</publish_sensor_pose>\n          <publish_collision_pose>false</publish_collision_pose>\n          <publish_visual_pose>false</publish_visual_pose>\n          <publish_nested_model_pose>#{$enableGroundTruth}</publish_nested_model_pose>\n        </plugin>\n        <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n          name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n          <robotNamespace>model/#{_name}</robotNamespace>\n          <jointName>rotor_0_joint</jointName>\n          <linkName>rotor_0</linkName>\n          <turningDirection>ccw</turningDirection>\n          <timeConstantUp>0.0182</timeConstantUp>\n          <timeConstantDown>0.0182</timeConstantDown>\n          <maxRotVelocity>1000.0</maxRotVelocity>\n          <motorConstant>1.269e-05</motorConstant>\n          <momentConstant>0.016754</momentConstant>\n          <commandSubTopic>command/motor_speed</commandSubTopic>\n          <motorNumber>0</motorNumber>\n          <rotorDragCoefficient>2.0673e-04</rotorDragCoefficient>\n          <rollingMomentCoefficient>0</rollingMomentCoefficient>\n          <motorSpeedPubTopic>motor_speed/0</motorSpeedPubTopic>\n          <rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>\n          <motorType>velocity</motorType>\n        </plugin>\n        <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n          name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n          <robotNamespace>model/#{_name}</robotNamespace>\n          <jointName>rotor_1_joint</jointName>\n          <linkName>rotor_1</linkName>\n          <turningDirection>cw</turningDirection>\n          <timeConstantUp>0.0182</timeConstantUp>\n          <timeConstantDown>0.0182</timeConstantDown>\n          <maxRotVelocity>1000.0</maxRotVelocity>\n          <motorConstant>1.269e-05</motorConstant>\n          <momentConstant>0.016754</momentConstant>\n          <commandSubTopic>command/motor_speed</commandSubTopic>\n          <motorNumber>1</motorNumber>\n          <rotorDragCoefficient>2.0673e-04</rotorDragCoefficient>\n          <rollingMomentCoefficient>0</rollingMomentCoefficient>\n          <motorSpeedPubTopic>motor_speed/1</motorSpeedPubTopic>\n          <rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>\n          <motorType>velocity</motorType>\n        </plugin>\n        <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n          name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n          <robotNamespace>model/#{_name}</robotNamespace>\n          <jointName>rotor_2_joint</jointName>\n          <linkName>rotor_2</linkName>\n          <turningDirection>ccw</turningDirection>\n          <timeConstantUp>0.0182</timeConstantUp>\n          <timeConstantDown>0.0182</timeConstantDown>\n          <maxRotVelocity>1000.0</maxRotVelocity>\n          <motorConstant>1.269e-05</motorConstant>\n          <momentConstant>0.016754</momentConstant>\n          <commandSubTopic>command/motor_speed</commandSubTopic>\n          <motorNumber>2</motorNumber>\n          <rotorDragCoefficient>2.0673e-04</rotorDragCoefficient>\n          <rollingMomentCoefficient>0</rollingMomentCoefficient>\n          <motorSpeedPubTopic>motor_speed/2</motorSpeedPubTopic>\n          <rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>\n          <motorType>velocity</motorType>\n        </plugin>\n        <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n          name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n          <robotNamespace>model/#{_name}</robotNamespace>\n          <jointName>rotor_3_joint</jointName>\n          <linkName>rotor_3</linkName>\n          <turningDirection>cw</turningDirection>\n          <timeConstantUp>0.0182</timeConstantUp>\n          <timeConstantDown>0.0182</timeConstantDown>\n          <maxRotVelocity>1000.0</maxRotVelocity>\n          <motorConstant>1.269e-05</motorConstant>\n          <momentConstant>0.016754</momentConstant>\n          <commandSubTopic>command/motor_speed</commandSubTopic>\n          <motorNumber>3</motorNumber>\n          <rotorDragCoefficient>2.0673e-04</rotorDragCoefficient>\n          <rollingMomentCoefficient>0</rollingMomentCoefficient>\n          <motorSpeedPubTopic>motor_speed/3</motorSpeedPubTopic>\n          <rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>\n          <motorType>velocity</motorType>\n        </plugin>\n        <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n          name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n          <robotNamespace>model/#{_name}</robotNamespace>\n          <jointName>rotor_4_joint</jointName>\n          <linkName>rotor_4</linkName>\n          <turningDirection>ccw</turningDirection>\n          <timeConstantUp>0.0182</timeConstantUp>\n          <timeConstantDown>0.0182</timeConstantDown>\n          <maxRotVelocity>1000.0</maxRotVelocity>\n          <motorConstant>1.269e-05</motorConstant>\n          <momentConstant>0.016754</momentConstant>\n          <commandSubTopic>command/motor_speed</commandSubTopic>\n          <motorNumber>4</motorNumber>\n          <rotorDragCoefficient>2.0673e-04</rotorDragCoefficient>\n          <rollingMomentCoefficient>0</rollingMomentCoefficient>\n          <motorSpeedPubTopic>motor_speed/4</motorSpeedPubTopic>\n          <rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>\n          <motorType>velocity</motorType>\n        </plugin>\n        <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n          name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n          <robotNamespace>model/#{_name}</robotNamespace>\n          <jointName>rotor_5_joint</jointName>\n          <linkName>rotor_5</linkName>\n          <turningDirection>cw</turningDirection>\n          <timeConstantUp>0.0182</timeConstantUp>\n          <timeConstantDown>0.0182</timeConstantDown>\n          <maxRotVelocity>1000.0</maxRotVelocity>\n          <motorConstant>1.269e-05</motorConstant>\n          <momentConstant>0.016754</momentConstant>\n          <commandSubTopic>command/motor_speed</commandSubTopic>\n          <motorNumber>5</motorNumber>\n          <rotorDragCoefficient>2.0673e-04</rotorDragCoefficient>\n          <rollingMomentCoefficient>0</rollingMomentCoefficient>\n          <motorSpeedPubTopic>motor_speed/5</motorSpeedPubTopic>\n          <rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>\n          <motorType>velocity</motorType>\n        </plugin>\n        <!-- Battery plugin -->\n        <plugin filename=\"libignition-gazebo-linearbatteryplugin-system.so\"\n          name=\"ignition::gazebo::systems::LinearBatteryPlugin\">\n          <battery_name>linear_battery</battery_name>\n          <voltage>12.694</voltage>\n          <open_circuit_voltage_constant_coef>12.694</open_circuit_voltage_constant_coef>\n          <open_circuit_voltage_linear_coef>-3.1424</open_circuit_voltage_linear_coef>\n          <initial_charge>18.0</initial_charge>\n          <capacity>18.0</capacity>\n          <resistance>0.061523</resistance>\n          <smooth_current_tau>1.9499</smooth_current_tau>\n          <power_load>6.6</power_load>\n          <start_on_motion>true</start_on_motion>\n        </plugin>\n        </include>\n      </sdf>\n    </plugin>\n  HEREDOC\nend\n\ndef rosExecutables(_name, _worldName)\n  <<-HEREDOC\n  <executable name='X4_controller'>\n      <command>roslaunch --wait x4_control control.launch world_name:=#{_worldName} x4_name:=#{_name}</command>\n    </executable>\n    <executable name='x4_description'>\n      <command>roslaunch --wait subt_ros x4_description.launch world_name:=#{_worldName} name:=#{_name}</command>\n    </executable>\n    <executable name='x4_ros_ign_bridge'>\n      <command>roslaunch --wait ssci_x4_sensor_config_6 vehicle_topics.launch world_name:=#{_worldName} name:=#{_name} uav:=1 laser_scan:=1 top_scan:=1 bottom_scan:=1 stereo_cam:=0 rgbd_cam:=1    </command>\n  </executable>\n  HEREDOC\nend\n```\n\n\u200c", "markup": "markdown", "html": "<p>The <code>model.sdf</code> you submitted includes Gazebo <code>&lt;script&gt;</code> tags which are incompatible with Ignition as well as hard-coded local paths for your model as opposed to local relative paths.  The model you submitted does not appear to be compatible with Ignition yet and will require further testing.  There are also a number of other issues with spawning your model using a standard command: <code>ign launch -v 4 competition.ign robotName1:=alpha robotConfig1:=ssci_x4_sensor_config_6 localModel:=true</code></p>\n<p>\u200c</p>\n<p>More work must be done before we can accept this model as-is into the SubT repository or we will need to find time to do it ourselves (which may or may not meet your desired timeline).  Your proposed model configuration modifications to the X4 are welcome and would be a good addition to the current array of configurations available but we can only accept 100% functional submissions.</p>\n<p>\u200c</p>\n<p>While I was investigating your submission, I made modifications to your <code>spawner.rb</code> to get your model to load.  Feel free to reuse this code with your re-submission.</p>\n<p>\u200c</p>\n<div class=\"codehilite\"><pre><span></span>def spawner(_name, _modelURI, _worldName, _x, _y, _z, _roll, _pitch, _yaw)\n  <span class=\"err\">&lt;</span><span class=\"nt\">&lt;-HEREDOC</span>\n    <span class=\"na\">_config=</span><span class=\"s\">6</span>\n    <span class=\"na\">uav=</span><span class=\"s\">1</span>\n    <span class=\"na\">laserScan=</span><span class=\"s\">0</span>\n    <span class=\"na\">stereoCam=</span><span class=\"s\">0</span>\n    <span class=\"na\">rgbdCam=</span><span class=\"s\">0</span>\n    <span class=\"err\">if</span> <span class=\"na\">_config =</span><span class=\"s\">=</span> <span class=\"err\">&quot;2&quot;</span>\n      <span class=\"na\">rgbdCam=</span><span class=\"s\">1</span>\n    <span class=\"err\">end</span>\n    <span class=\"err\">if</span> <span class=\"na\">_config =</span><span class=\"s\">=</span> <span class=\"err\">&quot;3&quot;</span> <span class=\"err\">or</span> <span class=\"na\">_config =</span><span class=\"s\">=</span> <span class=\"err\">&quot;4&quot;</span>\n      <span class=\"na\">laserScan=</span><span class=\"s\">1</span>\n    <span class=\"err\">end</span>\n    <span class=\"err\">if</span> <span class=\"na\">_config =</span><span class=\"s\">=</span> <span class=\"err\">&quot;5&quot;</span>\n      <span class=\"na\">stereoCam=</span><span class=\"s\">1</span>\n    <span class=\"err\">end</span>\n    <span class=\"err\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::launch::GazeboFactory&quot;</span>\n            <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-launch-gazebo-factory.so&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;name&gt;</span>#{_name}<span class=\"nt\">&lt;/name&gt;</span>\n      <span class=\"nt\">&lt;allow_renaming&gt;</span>false<span class=\"nt\">&lt;/allow_renaming&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>#{_x} #{_y} 0.2 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;world&gt;</span>#{_worldName}<span class=\"nt\">&lt;/world&gt;</span>\n      <span class=\"nt\">&lt;is_performer&gt;</span>true<span class=\"nt\">&lt;/is_performer&gt;</span>\n      <span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.6&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;include&gt;</span>\n        <span class=\"nt\">&lt;name&gt;</span>#{_name}<span class=\"nt\">&lt;/name&gt;</span>\n        <span class=\"nt\">&lt;uri&gt;</span>#{_modelURI}<span class=\"nt\">&lt;/uri&gt;</span>\n        <span class=\"c\">&lt;!-- Publish robot state information --&gt;</span>\n        <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-pose-publisher-system.so&quot;</span>\n          <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::PosePublisher&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;publish_link_pose&gt;</span>true<span class=\"nt\">&lt;/publish_link_pose&gt;</span>\n          <span class=\"nt\">&lt;publish_sensor_pose&gt;</span>true<span class=\"nt\">&lt;/publish_sensor_pose&gt;</span>\n          <span class=\"nt\">&lt;publish_collision_pose&gt;</span>false<span class=\"nt\">&lt;/publish_collision_pose&gt;</span>\n          <span class=\"nt\">&lt;publish_visual_pose&gt;</span>false<span class=\"nt\">&lt;/publish_visual_pose&gt;</span>\n          <span class=\"nt\">&lt;publish_nested_model_pose&gt;</span>#{$enableGroundTruth}<span class=\"nt\">&lt;/publish_nested_model_pose&gt;</span>\n        <span class=\"nt\">&lt;/plugin&gt;</span>\n        <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n          <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;robotNamespace&gt;</span>model/#{_name}<span class=\"nt\">&lt;/robotNamespace&gt;</span>\n          <span class=\"nt\">&lt;jointName&gt;</span>rotor_0_joint<span class=\"nt\">&lt;/jointName&gt;</span>\n          <span class=\"nt\">&lt;linkName&gt;</span>rotor_0<span class=\"nt\">&lt;/linkName&gt;</span>\n          <span class=\"nt\">&lt;turningDirection&gt;</span>ccw<span class=\"nt\">&lt;/turningDirection&gt;</span>\n          <span class=\"nt\">&lt;timeConstantUp&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantUp&gt;</span>\n          <span class=\"nt\">&lt;timeConstantDown&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantDown&gt;</span>\n          <span class=\"nt\">&lt;maxRotVelocity&gt;</span>1000.0<span class=\"nt\">&lt;/maxRotVelocity&gt;</span>\n          <span class=\"nt\">&lt;motorConstant&gt;</span>1.269e-05<span class=\"nt\">&lt;/motorConstant&gt;</span>\n          <span class=\"nt\">&lt;momentConstant&gt;</span>0.016754<span class=\"nt\">&lt;/momentConstant&gt;</span>\n          <span class=\"nt\">&lt;commandSubTopic&gt;</span>command/motor_speed<span class=\"nt\">&lt;/commandSubTopic&gt;</span>\n          <span class=\"nt\">&lt;motorNumber&gt;</span>0<span class=\"nt\">&lt;/motorNumber&gt;</span>\n          <span class=\"nt\">&lt;rotorDragCoefficient&gt;</span>2.0673e-04<span class=\"nt\">&lt;/rotorDragCoefficient&gt;</span>\n          <span class=\"nt\">&lt;rollingMomentCoefficient&gt;</span>0<span class=\"nt\">&lt;/rollingMomentCoefficient&gt;</span>\n          <span class=\"nt\">&lt;motorSpeedPubTopic&gt;</span>motor_speed/0<span class=\"nt\">&lt;/motorSpeedPubTopic&gt;</span>\n          <span class=\"nt\">&lt;rotorVelocitySlowdownSim&gt;</span>10<span class=\"nt\">&lt;/rotorVelocitySlowdownSim&gt;</span>\n          <span class=\"nt\">&lt;motorType&gt;</span>velocity<span class=\"nt\">&lt;/motorType&gt;</span>\n        <span class=\"nt\">&lt;/plugin&gt;</span>\n        <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n          <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;robotNamespace&gt;</span>model/#{_name}<span class=\"nt\">&lt;/robotNamespace&gt;</span>\n          <span class=\"nt\">&lt;jointName&gt;</span>rotor_1_joint<span class=\"nt\">&lt;/jointName&gt;</span>\n          <span class=\"nt\">&lt;linkName&gt;</span>rotor_1<span class=\"nt\">&lt;/linkName&gt;</span>\n          <span class=\"nt\">&lt;turningDirection&gt;</span>cw<span class=\"nt\">&lt;/turningDirection&gt;</span>\n          <span class=\"nt\">&lt;timeConstantUp&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantUp&gt;</span>\n          <span class=\"nt\">&lt;timeConstantDown&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantDown&gt;</span>\n          <span class=\"nt\">&lt;maxRotVelocity&gt;</span>1000.0<span class=\"nt\">&lt;/maxRotVelocity&gt;</span>\n          <span class=\"nt\">&lt;motorConstant&gt;</span>1.269e-05<span class=\"nt\">&lt;/motorConstant&gt;</span>\n          <span class=\"nt\">&lt;momentConstant&gt;</span>0.016754<span class=\"nt\">&lt;/momentConstant&gt;</span>\n          <span class=\"nt\">&lt;commandSubTopic&gt;</span>command/motor_speed<span class=\"nt\">&lt;/commandSubTopic&gt;</span>\n          <span class=\"nt\">&lt;motorNumber&gt;</span>1<span class=\"nt\">&lt;/motorNumber&gt;</span>\n          <span class=\"nt\">&lt;rotorDragCoefficient&gt;</span>2.0673e-04<span class=\"nt\">&lt;/rotorDragCoefficient&gt;</span>\n          <span class=\"nt\">&lt;rollingMomentCoefficient&gt;</span>0<span class=\"nt\">&lt;/rollingMomentCoefficient&gt;</span>\n          <span class=\"nt\">&lt;motorSpeedPubTopic&gt;</span>motor_speed/1<span class=\"nt\">&lt;/motorSpeedPubTopic&gt;</span>\n          <span class=\"nt\">&lt;rotorVelocitySlowdownSim&gt;</span>10<span class=\"nt\">&lt;/rotorVelocitySlowdownSim&gt;</span>\n          <span class=\"nt\">&lt;motorType&gt;</span>velocity<span class=\"nt\">&lt;/motorType&gt;</span>\n        <span class=\"nt\">&lt;/plugin&gt;</span>\n        <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n          <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;robotNamespace&gt;</span>model/#{_name}<span class=\"nt\">&lt;/robotNamespace&gt;</span>\n          <span class=\"nt\">&lt;jointName&gt;</span>rotor_2_joint<span class=\"nt\">&lt;/jointName&gt;</span>\n          <span class=\"nt\">&lt;linkName&gt;</span>rotor_2<span class=\"nt\">&lt;/linkName&gt;</span>\n          <span class=\"nt\">&lt;turningDirection&gt;</span>ccw<span class=\"nt\">&lt;/turningDirection&gt;</span>\n          <span class=\"nt\">&lt;timeConstantUp&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantUp&gt;</span>\n          <span class=\"nt\">&lt;timeConstantDown&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantDown&gt;</span>\n          <span class=\"nt\">&lt;maxRotVelocity&gt;</span>1000.0<span class=\"nt\">&lt;/maxRotVelocity&gt;</span>\n          <span class=\"nt\">&lt;motorConstant&gt;</span>1.269e-05<span class=\"nt\">&lt;/motorConstant&gt;</span>\n          <span class=\"nt\">&lt;momentConstant&gt;</span>0.016754<span class=\"nt\">&lt;/momentConstant&gt;</span>\n          <span class=\"nt\">&lt;commandSubTopic&gt;</span>command/motor_speed<span class=\"nt\">&lt;/commandSubTopic&gt;</span>\n          <span class=\"nt\">&lt;motorNumber&gt;</span>2<span class=\"nt\">&lt;/motorNumber&gt;</span>\n          <span class=\"nt\">&lt;rotorDragCoefficient&gt;</span>2.0673e-04<span class=\"nt\">&lt;/rotorDragCoefficient&gt;</span>\n          <span class=\"nt\">&lt;rollingMomentCoefficient&gt;</span>0<span class=\"nt\">&lt;/rollingMomentCoefficient&gt;</span>\n          <span class=\"nt\">&lt;motorSpeedPubTopic&gt;</span>motor_speed/2<span class=\"nt\">&lt;/motorSpeedPubTopic&gt;</span>\n          <span class=\"nt\">&lt;rotorVelocitySlowdownSim&gt;</span>10<span class=\"nt\">&lt;/rotorVelocitySlowdownSim&gt;</span>\n          <span class=\"nt\">&lt;motorType&gt;</span>velocity<span class=\"nt\">&lt;/motorType&gt;</span>\n        <span class=\"nt\">&lt;/plugin&gt;</span>\n        <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n          <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;robotNamespace&gt;</span>model/#{_name}<span class=\"nt\">&lt;/robotNamespace&gt;</span>\n          <span class=\"nt\">&lt;jointName&gt;</span>rotor_3_joint<span class=\"nt\">&lt;/jointName&gt;</span>\n          <span class=\"nt\">&lt;linkName&gt;</span>rotor_3<span class=\"nt\">&lt;/linkName&gt;</span>\n          <span class=\"nt\">&lt;turningDirection&gt;</span>cw<span class=\"nt\">&lt;/turningDirection&gt;</span>\n          <span class=\"nt\">&lt;timeConstantUp&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantUp&gt;</span>\n          <span class=\"nt\">&lt;timeConstantDown&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantDown&gt;</span>\n          <span class=\"nt\">&lt;maxRotVelocity&gt;</span>1000.0<span class=\"nt\">&lt;/maxRotVelocity&gt;</span>\n          <span class=\"nt\">&lt;motorConstant&gt;</span>1.269e-05<span class=\"nt\">&lt;/motorConstant&gt;</span>\n          <span class=\"nt\">&lt;momentConstant&gt;</span>0.016754<span class=\"nt\">&lt;/momentConstant&gt;</span>\n          <span class=\"nt\">&lt;commandSubTopic&gt;</span>command/motor_speed<span class=\"nt\">&lt;/commandSubTopic&gt;</span>\n          <span class=\"nt\">&lt;motorNumber&gt;</span>3<span class=\"nt\">&lt;/motorNumber&gt;</span>\n          <span class=\"nt\">&lt;rotorDragCoefficient&gt;</span>2.0673e-04<span class=\"nt\">&lt;/rotorDragCoefficient&gt;</span>\n          <span class=\"nt\">&lt;rollingMomentCoefficient&gt;</span>0<span class=\"nt\">&lt;/rollingMomentCoefficient&gt;</span>\n          <span class=\"nt\">&lt;motorSpeedPubTopic&gt;</span>motor_speed/3<span class=\"nt\">&lt;/motorSpeedPubTopic&gt;</span>\n          <span class=\"nt\">&lt;rotorVelocitySlowdownSim&gt;</span>10<span class=\"nt\">&lt;/rotorVelocitySlowdownSim&gt;</span>\n          <span class=\"nt\">&lt;motorType&gt;</span>velocity<span class=\"nt\">&lt;/motorType&gt;</span>\n        <span class=\"nt\">&lt;/plugin&gt;</span>\n        <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n          <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;robotNamespace&gt;</span>model/#{_name}<span class=\"nt\">&lt;/robotNamespace&gt;</span>\n          <span class=\"nt\">&lt;jointName&gt;</span>rotor_4_joint<span class=\"nt\">&lt;/jointName&gt;</span>\n          <span class=\"nt\">&lt;linkName&gt;</span>rotor_4<span class=\"nt\">&lt;/linkName&gt;</span>\n          <span class=\"nt\">&lt;turningDirection&gt;</span>ccw<span class=\"nt\">&lt;/turningDirection&gt;</span>\n          <span class=\"nt\">&lt;timeConstantUp&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantUp&gt;</span>\n          <span class=\"nt\">&lt;timeConstantDown&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantDown&gt;</span>\n          <span class=\"nt\">&lt;maxRotVelocity&gt;</span>1000.0<span class=\"nt\">&lt;/maxRotVelocity&gt;</span>\n          <span class=\"nt\">&lt;motorConstant&gt;</span>1.269e-05<span class=\"nt\">&lt;/motorConstant&gt;</span>\n          <span class=\"nt\">&lt;momentConstant&gt;</span>0.016754<span class=\"nt\">&lt;/momentConstant&gt;</span>\n          <span class=\"nt\">&lt;commandSubTopic&gt;</span>command/motor_speed<span class=\"nt\">&lt;/commandSubTopic&gt;</span>\n          <span class=\"nt\">&lt;motorNumber&gt;</span>4<span class=\"nt\">&lt;/motorNumber&gt;</span>\n          <span class=\"nt\">&lt;rotorDragCoefficient&gt;</span>2.0673e-04<span class=\"nt\">&lt;/rotorDragCoefficient&gt;</span>\n          <span class=\"nt\">&lt;rollingMomentCoefficient&gt;</span>0<span class=\"nt\">&lt;/rollingMomentCoefficient&gt;</span>\n          <span class=\"nt\">&lt;motorSpeedPubTopic&gt;</span>motor_speed/4<span class=\"nt\">&lt;/motorSpeedPubTopic&gt;</span>\n          <span class=\"nt\">&lt;rotorVelocitySlowdownSim&gt;</span>10<span class=\"nt\">&lt;/rotorVelocitySlowdownSim&gt;</span>\n          <span class=\"nt\">&lt;motorType&gt;</span>velocity<span class=\"nt\">&lt;/motorType&gt;</span>\n        <span class=\"nt\">&lt;/plugin&gt;</span>\n        <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n          <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;robotNamespace&gt;</span>model/#{_name}<span class=\"nt\">&lt;/robotNamespace&gt;</span>\n          <span class=\"nt\">&lt;jointName&gt;</span>rotor_5_joint<span class=\"nt\">&lt;/jointName&gt;</span>\n          <span class=\"nt\">&lt;linkName&gt;</span>rotor_5<span class=\"nt\">&lt;/linkName&gt;</span>\n          <span class=\"nt\">&lt;turningDirection&gt;</span>cw<span class=\"nt\">&lt;/turningDirection&gt;</span>\n          <span class=\"nt\">&lt;timeConstantUp&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantUp&gt;</span>\n          <span class=\"nt\">&lt;timeConstantDown&gt;</span>0.0182<span class=\"nt\">&lt;/timeConstantDown&gt;</span>\n          <span class=\"nt\">&lt;maxRotVelocity&gt;</span>1000.0<span class=\"nt\">&lt;/maxRotVelocity&gt;</span>\n          <span class=\"nt\">&lt;motorConstant&gt;</span>1.269e-05<span class=\"nt\">&lt;/motorConstant&gt;</span>\n          <span class=\"nt\">&lt;momentConstant&gt;</span>0.016754<span class=\"nt\">&lt;/momentConstant&gt;</span>\n          <span class=\"nt\">&lt;commandSubTopic&gt;</span>command/motor_speed<span class=\"nt\">&lt;/commandSubTopic&gt;</span>\n          <span class=\"nt\">&lt;motorNumber&gt;</span>5<span class=\"nt\">&lt;/motorNumber&gt;</span>\n          <span class=\"nt\">&lt;rotorDragCoefficient&gt;</span>2.0673e-04<span class=\"nt\">&lt;/rotorDragCoefficient&gt;</span>\n          <span class=\"nt\">&lt;rollingMomentCoefficient&gt;</span>0<span class=\"nt\">&lt;/rollingMomentCoefficient&gt;</span>\n          <span class=\"nt\">&lt;motorSpeedPubTopic&gt;</span>motor_speed/5<span class=\"nt\">&lt;/motorSpeedPubTopic&gt;</span>\n          <span class=\"nt\">&lt;rotorVelocitySlowdownSim&gt;</span>10<span class=\"nt\">&lt;/rotorVelocitySlowdownSim&gt;</span>\n          <span class=\"nt\">&lt;motorType&gt;</span>velocity<span class=\"nt\">&lt;/motorType&gt;</span>\n        <span class=\"nt\">&lt;/plugin&gt;</span>\n        <span class=\"c\">&lt;!-- Battery plugin --&gt;</span>\n        <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-linearbatteryplugin-system.so&quot;</span>\n          <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::LinearBatteryPlugin&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;battery_name&gt;</span>linear_battery<span class=\"nt\">&lt;/battery_name&gt;</span>\n          <span class=\"nt\">&lt;voltage&gt;</span>12.694<span class=\"nt\">&lt;/voltage&gt;</span>\n          <span class=\"nt\">&lt;open_circuit_voltage_constant_coef&gt;</span>12.694<span class=\"nt\">&lt;/open_circuit_voltage_constant_coef&gt;</span>\n          <span class=\"nt\">&lt;open_circuit_voltage_linear_coef&gt;</span>-3.1424<span class=\"nt\">&lt;/open_circuit_voltage_linear_coef&gt;</span>\n          <span class=\"nt\">&lt;initial_charge&gt;</span>18.0<span class=\"nt\">&lt;/initial_charge&gt;</span>\n          <span class=\"nt\">&lt;capacity&gt;</span>18.0<span class=\"nt\">&lt;/capacity&gt;</span>\n          <span class=\"nt\">&lt;resistance&gt;</span>0.061523<span class=\"nt\">&lt;/resistance&gt;</span>\n          <span class=\"nt\">&lt;smooth_current_tau&gt;</span>1.9499<span class=\"nt\">&lt;/smooth_current_tau&gt;</span>\n          <span class=\"nt\">&lt;power_load&gt;</span>6.6<span class=\"nt\">&lt;/power_load&gt;</span>\n          <span class=\"nt\">&lt;start_on_motion&gt;</span>true<span class=\"nt\">&lt;/start_on_motion&gt;</span>\n        <span class=\"nt\">&lt;/plugin&gt;</span>\n        <span class=\"nt\">&lt;/include&gt;</span>\n      <span class=\"nt\">&lt;/sdf&gt;</span>\n    <span class=\"nt\">&lt;/plugin&gt;</span>\n  HEREDOC\nend\n\ndef rosExecutables(_name, _worldName)\n  <span class=\"err\">&lt;</span><span class=\"nt\">&lt;-HEREDOC</span>\n  <span class=\"err\">&lt;executable</span> <span class=\"na\">name=</span><span class=\"s\">&#39;X4_controller&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;command&gt;</span>roslaunch --wait x4_control control.launch world_name:=#{_worldName} x4_name:=#{_name}<span class=\"nt\">&lt;/command&gt;</span>\n    <span class=\"nt\">&lt;/executable&gt;</span>\n    <span class=\"nt\">&lt;executable</span> <span class=\"na\">name=</span><span class=\"s\">&#39;x4_description&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;command&gt;</span>roslaunch --wait subt_ros x4_description.launch world_name:=#{_worldName} name:=#{_name}<span class=\"nt\">&lt;/command&gt;</span>\n    <span class=\"nt\">&lt;/executable&gt;</span>\n    <span class=\"nt\">&lt;executable</span> <span class=\"na\">name=</span><span class=\"s\">&#39;x4_ros_ign_bridge&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;command&gt;</span>roslaunch --wait ssci_x4_sensor_config_6 vehicle_topics.launch world_name:=#{_worldName} name:=#{_name} uav:=1 laser_scan:=1 top_scan:=1 bottom_scan:=1 stereo_cam:=0 rgbd_cam:=1    <span class=\"nt\">&lt;/command&gt;</span>\n  <span class=\"nt\">&lt;/executable&gt;</span>\n  HEREDOC\nend\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2019-11-25T21:16:46.442066+00:00", "user": {"display_name": "Arthur Schang", "uuid": "{1403972a-9b64-442b-a69c-d7e9557e1d87}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1403972a-9b64-442b-a69c-d7e9557e1d87%7D"}, "html": {"href": "https://bitbucket.org/%7B1403972a-9b64-442b-a69c-d7e9557e1d87%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/AS-0.png"}}, "nickname": "Arthur Schang", "type": "user", "account_id": "557058:14b7fd50-d65a-47a8-825c-fa89681d07bd"}, "updated_on": "2019-11-25T21:16:46.447882+00:00", "type": "pullrequest_comment", "id": 126247737}