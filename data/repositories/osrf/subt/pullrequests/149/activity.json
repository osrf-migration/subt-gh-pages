{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105140816.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105140816"}}, "parent": {"id": 104998165, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/104998165.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-104998165"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "Correction, the tunnel tiles are 20 meters.", "markup": "markdown", "html": "<p>Correction, the tunnel tiles are 20 meters.</p>", "type": "rendered"}, "created_on": "2019-06-10T19:06:27.324600+00:00", "user": {"display_name": "Cole Biesemeyer", "uuid": "{99c8094b-0219-49d4-8e0f-2579ff8420cd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B99c8094b-0219-49d4-8e0f-2579ff8420cd%7D"}, "html": {"href": "https://bitbucket.org/%7B99c8094b-0219-49d4-8e0f-2579ff8420cd%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/f9c781a868d9976ed6f81e20196cc32ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-3.png"}}, "nickname": "ColeOSRF", "type": "user", "account_id": "5b6a0f313df2033d0d9a151a"}, "updated_on": "2019-06-10T19:06:27.506641+00:00", "type": "pullrequest_comment", "id": 105140816}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"update": {"description": "Currently artifacts and blockers are defined in separate cells of the tsv spreadsheet, but this has some drawbacks, such as requiring manual adjustment of the artifact pose and limiting the density of tile placement. This pull request allows artifacts and blockers to be specified as submodels within a tile cell as the 4th field with a name of the submodel type and a pose.\r\n\r\nCurrently each cell has 3 fields:\r\n\r\n| modelType | yawDegrees | z_level |\r\n| --------|---------|-------|\r\n| tunnel_tile_1 | 180 | -1 |\r\n| tunnel_tile_blocker | 0 | -1 |\r\n| Phone | 0 | -1 |\r\n\r\n~~~\r\nmodelType,yawDegrees,z_level\r\ntunnel_tile_1,180,-1\r\nPhone,0,-1\r\n~~~\r\n\r\nThis pull request adds a 4th field to each cell, which allows you to encode a list of submodel-pose pairs separated by `;`.\r\n\r\n| modelType | yawDegrees | z_level | submodelPoseList |\r\n| --------|---------|-------|-------|\r\n| tunnel_tile_1 | 180 | -1 | tunnel_tile_blocker@11 0 0 0 0 0;Phone@0 0 0.004 -90 0 0 |\r\n\r\n~~~\r\nmodelType,yawDegrees,z_level,submodelPoseList\r\ntunnel_tile_1,180,-1,tunnel_tile_blocker@11 0 0 0 0 0;Phone@0 0 0.004 -90 0 0\r\n~~~\r\n\r\nIf the `;` signifies a new row, this is like a small spreadsheet embedded in that 4th field (yo dawg).\r\n\r\n| submodelType | Pose |\r\n| --------|---------|\r\n| tunnel_tile_blocker | 11 0 0 0 0 0 |\r\n| Phone | 0 0 0.004 -90 0 0 |\r\n\r\nFor purposes of testing and review; I've tried to minimize changes to the tunnel_qual.world, but some were very difficult to avoid. Moving the `tunnel_tile_blocker`s to different cells has changed the numbering of the model names and their order within the world file, which is pretty messy. I did manage to maintain the formatting of pose strings the same by printing most pitch and roll angles as `0` instead of `0.0000`, which is a bit weird, but it helps with the following comparison.\r\n\r\nTo confirm that the world files have the same model types at the same locations, though with many name changes, I used the following commands to put the `<uri>` and `<pose>` tags on the same line, and then compare sorted versions of the file.\r\n\r\n~~~\r\nhg cat -r gazebo9 tunnel_qual.world \\\r\n | tr '\\n' ';' \\\r\n | sed -e 's@</uri>;@</uri>@g' \\\r\n           -e 's@;@\\n@g' \\\r\n | sort > tunnel_qual_sorted_old.world\r\n~~~\r\n\r\n~~~\r\ncat tunnel_qual.world \\\r\n | tr '\\n' ';' \\\r\n | sed -e 's@</uri>;@</uri>@g' \\\r\n           -e 's@;@\\n@g' \\\r\n | sort > tunnel_qual_sorted_new.world\r\n~~~\r\n\r\nThen `tunnel_qual_sorted_old.world` and `tunnel_qual_sorted_new.world` should be identical.\r\n\r\nThis ruins `tunnel_qual.dot`, but I don't see an easy way to fix that.", "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells", "destination": {"commit": {"hash": "dce46f6fe1a7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/dce46f6fe1a7.json"}, "html": {"href": "#!/osrf/subt/commits/dce46f6fe1a7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "gazebo9"}}, "reason": "", "source": {"commit": {"hash": "ea1adf0ef2e0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/ea1adf0ef2e0.json"}, "html": {"href": "#!/osrf/subt/commits/ea1adf0ef2e0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "tile_tsv_submodels"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2019-06-07T23:43:39.813876+00:00"}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105005176.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105005176"}}, "parent": {"id": 105005067, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105005067.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105005067"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "thanks for the review! I talked it over with @{557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd} and he sounds positive, so I'm going to merge", "markup": "markdown", "html": "<p>thanks for the review! I talked it over with <span class=\"ap-mention\" data-atlassian-id=\"557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd\">@Carlos Ag\u00fcero</span> and he sounds positive, so I'm going to merge</p>", "type": "rendered"}, "created_on": "2019-06-07T23:43:25.018489+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-06-07T23:43:25.103953+00:00", "type": "pullrequest_comment", "id": 105005176}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105005067.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105005067"}}, "parent": {"id": 105004899, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105004899.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105004899"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "Oh, okay! In that case I think all is well since the PDFs look the same.", "markup": "markdown", "html": "<p>Oh, okay! In that case I think all is well since the PDFs look the same.</p>", "type": "rendered"}, "created_on": "2019-06-07T23:39:15.200778+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2019-06-07T23:39:15.214419+00:00", "type": "pullrequest_comment", "id": 105005067}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105004899.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105004899"}}, "parent": {"id": 105003754, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105003754.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105003754"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "I think the files don't need to stay the same; it's just easier to review if they do.", "markup": "markdown", "html": "<p>I think the files don't need to stay the same; it's just easier to review if they do.</p>", "type": "rendered"}, "created_on": "2019-06-07T23:32:47.943564+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-06-07T23:32:47.954030+00:00", "type": "pullrequest_comment", "id": 105004899}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"approval": {"date": "2019-06-07T22:50:53.048096+00:00", "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105003754.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105003754"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "Tried it out. Worked for me. This is really nice - before, the blockers were not attached to the tiles after running the script. Now they are.\n\nI don\u2019t know to what extent the files have to stay the same as the original, so I\u2019m not the best judge for that.\n\nI ran PR #106 on the new .tsv file to generate a DOT file and compared the PDFs to the original one, and everything \\(tile types and edge costs\\) is the same other than the arbitrary vertex indices. I don\u2019t know how important that is. So I\u2019m approving from the standpoint of what I know.", "markup": "markdown", "html": "<p>Tried it out. Worked for me. This is really nice - before, the blockers were not attached to the tiles after running the script. Now they are.</p>\n<p>I don\u2019t know to what extent the files have to stay the same as the original, so I\u2019m not the best judge for that.</p>\n<p>I ran <a href=\"#!/osrf/subt/pull-requests/106/topological-map-from-tsv-to-dot\" rel=\"nofollow\" class=\"ap-connect-link\">PR #106</a> on the new .tsv file to generate a DOT file and compared the PDFs to the original one, and everything (tile types and edge costs) is the same other than the arbitrary vertex indices. I don\u2019t know how important that is. So I\u2019m approving from the standpoint of what I know.</p>", "type": "rendered"}, "created_on": "2019-06-07T22:50:51.022636+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2019-06-07T22:50:51.030013+00:00", "type": "pullrequest_comment", "id": 105003754}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105001397.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105001397"}}, "parent": {"id": 105000677, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105000677.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105000677"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "Okay.", "markup": "markdown", "html": "<p>Okay.</p>", "type": "rendered"}, "created_on": "2019-06-07T21:58:14.702269+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2019-06-07T21:58:14.716718+00:00", "type": "pullrequest_comment", "id": 105001397}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105000677.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105000677"}}, "parent": {"id": 105000431, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105000431.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105000431"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "in my limited experience adjusting tunnel_qual.tsv, I thought it was easier to use unscaled poses", "markup": "markdown", "html": "<p>in my limited experience adjusting tunnel_qual.tsv, I thought it was easier to use unscaled poses</p>", "type": "rendered"}, "created_on": "2019-06-07T21:45:50.232797+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-06-07T21:45:50.241546+00:00", "type": "pullrequest_comment", "id": 105000677}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/105000431.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-105000431"}}, "parent": {"id": 104999995, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/104999995.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-104999995"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "Probably never. I\u2019m just thinking if we generate .tsv files for larger worlds, it could be easier to not have to know the tile sizes in the script that generates them. Though it would have to generate the tile names anyway and each type of world could just have a fixed size specified.", "markup": "markdown", "html": "<p>Probably never. I\u2019m just thinking if we generate .tsv files for larger worlds, it could be easier to not have to know the tile sizes in the script that generates them. Though it would have to generate the tile names anyway and each type of world could just have a fixed size specified.</p>", "type": "rendered"}, "created_on": "2019-06-07T21:42:00.550300+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2019-06-07T21:42:00.563303+00:00", "type": "pullrequest_comment", "id": 105000431}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/104999995.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-104999995"}}, "parent": {"id": 104997558, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/104997558.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-104997558"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "how often are we going to rescale a world after placing artifacts?", "markup": "markdown", "html": "<p>how often are we going to rescale a world after placing artifacts?</p>", "type": "rendered"}, "created_on": "2019-06-07T21:34:10.309658+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-06-07T21:34:10.318621+00:00", "type": "pullrequest_comment", "id": 104999995}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/104998165.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-104998165"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "Right now each environment has a different tile size. Tunnel and cave is 10 meters, urban is 40 meters, and the NIOSH mine is 12.5 meters.", "markup": "markdown", "html": "<p>Right now each environment has a different tile size. Tunnel and cave is 10 meters, urban is 40 meters, and the NIOSH mine is 12.5 meters.</p>", "type": "rendered"}, "created_on": "2019-06-07T21:09:23.419924+00:00", "user": {"display_name": "Cole Biesemeyer", "uuid": "{99c8094b-0219-49d4-8e0f-2579ff8420cd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B99c8094b-0219-49d4-8e0f-2579ff8420cd%7D"}, "html": {"href": "https://bitbucket.org/%7B99c8094b-0219-49d4-8e0f-2579ff8420cd%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/f9c781a868d9976ed6f81e20196cc32ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-3.png"}}, "nickname": "ColeOSRF", "type": "user", "account_id": "5b6a0f313df2033d0d9a151a"}, "updated_on": "2019-06-07T21:09:23.543056+00:00", "type": "pullrequest_comment", "id": 104998165}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/104998045.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-104998045"}}, "parent": {"id": 104997558, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/104997558.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-104997558"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "right, I just remembered that you mentioned that earlier\n\nto fix that, we should change the tsv and the scaling logic, which should not affect the world file", "markup": "markdown", "html": "<p>right, I just remembered that you mentioned that earlier</p>\n<p>to fix that, we should change the tsv and the scaling logic, which should not affect the world file</p>", "type": "rendered"}, "created_on": "2019-06-07T21:07:55.495123+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-06-07T21:07:55.509525+00:00", "type": "pullrequest_comment", "id": 104998045}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149/comments/104997558.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149/_/diff#comment-104997558"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}, "content": {"raw": "It might generalize to other models later if the xyz are in terms of a ratio of -1.0 to 1.0 from the center of the tile. Right now, the blockers are specified at 11 because the tunnel\\_qual world is created with a scale of 10. Is that always the case for the other models, that all tiles are intended to be 10 x 10 meters \\(maybe @{5b6a0f313df2033d0d9a151a} gets to decide that\\)? In the urban world, a scale of 10 did not work out of the box. So the person writing the .tsv would have to know how big the tiles are intended to be.", "markup": "markdown", "html": "<p>It might generalize to other models later if the xyz are in terms of a ratio of -1.0 to 1.0 from the center of the tile. Right now, the blockers are specified at 11 because the tunnel_qual world is created with a scale of 10. Is that always the case for the other models, that all tiles are intended to be 10 x 10 meters (maybe <span class=\"ap-mention\" data-atlassian-id=\"5b6a0f313df2033d0d9a151a\">@Cole Biesemeyer</span> gets to decide that)? In the urban world, a scale of 10 did not work out of the box. So the person writing the .tsv would have to know how big the tiles are intended to be.</p>", "type": "rendered"}, "created_on": "2019-06-07T21:00:55.462809+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2019-06-07T21:01:13.374475+00:00", "type": "pullrequest_comment", "id": 104997558}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"update": {"description": "Currently artifacts and blockers are defined in separate cells of the tsv spreadsheet, but this has some drawbacks, such as requiring manual adjustment of the artifact pose and limiting the density of tile placement. This pull request allows artifacts and blockers to be specified as submodels within a tile cell as the 4th field with a name of the submodel type and a pose.\r\n\r\nCurrently each cell has 3 fields:\r\n\r\n| modelType | yawDegrees | z_level |\r\n| --------|---------|-------|\r\n| tunnel_tile_1 | 180 | -1 |\r\n| tunnel_tile_blocker | 0 | -1 |\r\n| Phone | 0 | -1 |\r\n\r\n~~~\r\nmodelType,yawDegrees,z_level\r\ntunnel_tile_1,180,-1\r\nPhone,0,-1\r\n~~~\r\n\r\nThis pull request adds a 4th field to each cell, which allows you to encode a list of submodel-pose pairs separated by `;`.\r\n\r\n| modelType | yawDegrees | z_level | submodelPoseList |\r\n| --------|---------|-------|-------|\r\n| tunnel_tile_1 | 180 | -1 | tunnel_tile_blocker@11 0 0 0 0 0;Phone@0 0 0.004 -90 0 0 |\r\n\r\n~~~\r\nmodelType,yawDegrees,z_level,submodelPoseList\r\ntunnel_tile_1,180,-1,tunnel_tile_blocker@11 0 0 0 0 0;Phone@0 0 0.004 -90 0 0\r\n~~~\r\n\r\nIf the `;` signifies a new row, this is like a small spreadsheet embedded in that 4th field (yo dawg).\r\n\r\n| submodelType | Pose |\r\n| --------|---------|\r\n| tunnel_tile_blocker | 11 0 0 0 0 0 |\r\n| Phone | 0 0 0.004 -90 0 0 |\r\n\r\nFor purposes of testing and review; I've tried to minimize changes to the tunnel_qual.world, but some were very difficult to avoid. Moving the `tunnel_tile_blocker`s to different cells has changed the numbering of the model names and their order within the world file, which is pretty messy. I did manage to maintain the formatting of pose strings the same by printing most pitch and roll angles as `0` instead of `0.0000`, which is a bit weird, but it helps with the following comparison.\r\n\r\nTo confirm that the world files have the same model types at the same locations, though with many name changes, I used the following commands to put the `<uri>` and `<pose>` tags on the same line, and then compare sorted versions of the file.\r\n\r\n~~~\r\nhg cat -r gazebo9 tunnel_qual.world \\\r\n | tr '\\n' ';' \\\r\n | sed -e 's@</uri>;@</uri>@g' \\\r\n           -e 's@;@\\n@g' \\\r\n | sort > tunnel_qual_sorted_old.world\r\n~~~\r\n\r\n~~~\r\ncat tunnel_qual.world \\\r\n | tr '\\n' ';' \\\r\n | sed -e 's@</uri>;@</uri>@g' \\\r\n           -e 's@;@\\n@g' \\\r\n | sort > tunnel_qual_sorted_new.world\r\n~~~\r\n\r\nThen `tunnel_qual_sorted_old.world` and `tunnel_qual_sorted_new.world` should be identical.\r\n\r\nThis ruins `tunnel_qual.dot`, but I don't see an easy way to fix that.", "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells", "destination": {"commit": {"hash": "dce46f6fe1a7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/dce46f6fe1a7.json"}, "html": {"href": "#!/osrf/subt/commits/dce46f6fe1a7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "gazebo9"}}, "reason": "", "source": {"commit": {"hash": "ea1adf0ef2e0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/ea1adf0ef2e0.json"}, "html": {"href": "#!/osrf/subt/commits/ea1adf0ef2e0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "tile_tsv_submodels"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2019-06-07T18:18:49.107811+00:00"}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}, {"update": {"description": "Currently artifacts and blockers are defined in separate cells of the tsv spreadsheet, but this has some drawbacks, such as requiring manual adjustment of the artifact pose and limiting the density of tile placement. This pull request allows artifacts and blockers to be specified as submodels within a tile cell as the 4th field with a name of the submodel type and a pose.\r\n\r\nCurrently each cell has 3 fields:\r\n\r\n| modelType | yawDegrees | z_level |\r\n| --------|---------|-------|\r\n| tunnel_tile_1 | 180 | -1 |\r\n| tunnel_tile_blocker | 0 | -1 |\r\n| Phone | 0 | -1 |\r\n\r\n~~~\r\nmodelType,yawDegrees,z_level\r\ntunnel_tile_1,180,-1\r\nPhone,0,-1\r\n~~~\r\n\r\nThis pull request adds a 4th field to each cell, which allows you to encode a list of submodel-pose pairs separated by `;`.\r\n\r\n| modelType | yawDegrees | z_level | submodelPoseList |\r\n| --------|---------|-------|-------|\r\n| tunnel_tile_1 | 180 | -1 | tunnel_tile_blocker@11 0 0 0 0 0;Phone@0 0 0.004 -90 0 0 |\r\n\r\n~~~\r\nmodelType,yawDegrees,z_level,submodelPoseList\r\ntunnel_tile_1,180,-1,tunnel_tile_blocker@11 0 0 0 0 0;Phone@0 0 0.004 -90 0 0\r\n~~~\r\n\r\nIf the `;` signifies a new row, this is like a small spreadsheet embedded in that 4th field (yo dawg).\r\n\r\n| submodelType | Pose |\r\n| --------|---------|\r\n| tunnel_tile_blocker | 11 0 0 0 0 0 |\r\n| Phone | 0 0 0.004 -90 0 0 |\r\n\r\nFor purposes of testing and review; I've tried to minimize changes to the tunnel_qual.world, but some were very difficult to avoid. Moving the `tunnel_tile_blocker`s to different cells has changed the numbering of the model names and their order within the world file, which is pretty messy. I did manage to maintain the formatting of pose strings the same by printing most pitch and roll angles as `0` instead of `0.0000`, which is a bit weird, but it helps with the following comparison.\r\n\r\nTo confirm that the world files have the same model types at the same locations, though with many name changes, I used the following commands to put the `<uri>` and `<pose>` tags on the same line, and then compare sorted versions of the file.\r\n\r\n~~~\r\nhg cat -r gazebo9 tunnel_qual.world \\\r\n | tr '\\n' ';' \\\r\n | sed -e 's@</uri>;@</uri>@g' \\\r\n           -e 's@;@\\n@g' \\\r\n | sort > tunnel_qual_sorted_old.world\r\n~~~\r\n\r\n~~~\r\ncat tunnel_qual.world \\\r\n | tr '\\n' ';' \\\r\n | sed -e 's@</uri>;@</uri>@g' \\\r\n           -e 's@;@\\n@g' \\\r\n | sort > tunnel_qual_sorted_new.world\r\n~~~\r\n\r\nThen `tunnel_qual_sorted_old.world` and `tunnel_qual_sorted_new.world` should be identical.\r\n\r\nThis ruins `tunnel_qual.dot`, but I don't see an easy way to fix that.", "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells", "destination": {"commit": {"hash": "dce46f6fe1a7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/dce46f6fe1a7.json"}, "html": {"href": "#!/osrf/subt/commits/dce46f6fe1a7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "gazebo9"}}, "reason": "", "source": {"commit": {"hash": "ea1adf0ef2e0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/ea1adf0ef2e0.json"}, "html": {"href": "#!/osrf/subt/commits/ea1adf0ef2e0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "tile_tsv_submodels"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2019-06-07T18:18:49.027714+00:00"}, "pull_request": {"type": "pullrequest", "id": 149, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/149.json"}, "html": {"href": "#!/osrf/subt/pull-requests/149"}}, "title": "tile_tsv.py: specify artifacts and blockers as 4th field in cell instead of empty cells"}}]}