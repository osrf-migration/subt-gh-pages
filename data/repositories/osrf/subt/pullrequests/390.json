{"rendered": {"description": {"raw": "This uses the new velocity controller added in [ign-gazebo PR 487](https://bitbucket.org/ignitionrobotics/ign-gazebo/pull-requests/487/). I have only updated X3C5 and X4C6 for now and would like some feedback on the noise characteristics of the two vehicles. With the new controller, the `<ROBOT_NAME>/cmd_vel` topic is actually a velocity topic and can be used to control the linear velocity and the yaw angle velocity of the vehicle. Note that the velocity commands are expressed in the body frame of the vehicle.\r\n\r\nThe update also exposes a topic `<ROBOT_NAME>/velocity_controller/enable` which can be used to enable/disable the controller. The controller is enabled by default but waits for the first command on the `cmd_vel` topic to do anything. Publishing a `false` would disable the controller and would cause the vehicle to fall.\r\n\r\n## To test\r\nFirst, build ign-gazebo with the PR 487 branch. \r\n\r\nThen launch \r\n```\r\nign launch -v 4 urban_circuit.ign robotName1:=R1 robotConfig1:=X3_SENSOR_CONFIG_5  robotName2:=R2 robotConfig2:=X4_SENSOR_CONFIG_6 \r\n```\r\nAnd publish velocity commands\r\n```\r\nrostopic pub /R1/cmd_vel geometry_msgs/Twist \"{x: 0.0, z: 0.1}\" \"{}\"\r\n```\r\n\r\n```\r\nrostopic pub /R2/cmd_vel geometry_msgs/Twist \"{x: 0.0, z: 0.1}\" \"{}\"\r\n```\r\n\r\nTo hover, publish\r\n```\r\nrostopic pub /R1/cmd_vel geometry_msgs/Twist \"{}\" \"{}\"\r\n```", "markup": "markdown", "html": "<p>This uses the new velocity controller added in <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-gazebo/pull-requests/487/\" rel=\"nofollow\">ign-gazebo PR 487</a>. I have only updated X3C5 and X4C6 for now and would like some feedback on the noise characteristics of the two vehicles. With the new controller, the <code>&lt;ROBOT_NAME&gt;/cmd_vel</code> topic is actually a velocity topic and can be used to control the linear velocity and the yaw angle velocity of the vehicle. Note that the velocity commands are expressed in the body frame of the vehicle.</p>\n<p>The update also exposes a topic <code>&lt;ROBOT_NAME&gt;/velocity_controller/enable</code> which can be used to enable/disable the controller. The controller is enabled by default but waits for the first command on the <code>cmd_vel</code> topic to do anything. Publishing a <code>false</code> would disable the controller and would cause the vehicle to fall.</p>\n<h2 id=\"markdown-header-to-test\">To test</h2>\n<p>First, build ign-gazebo with the PR 487 branch. </p>\n<p>Then launch </p>\n<div class=\"codehilite\"><pre><span></span>ign launch -v 4 urban_circuit.ign robotName1:=R1 robotConfig1:=X3_SENSOR_CONFIG_5  robotName2:=R2 robotConfig2:=X4_SENSOR_CONFIG_6 \n</pre></div>\n\n\n<p>And publish velocity commands</p>\n<div class=\"codehilite\"><pre><span></span>rostopic pub /R1/cmd_vel geometry_msgs/Twist &quot;{x: 0.0, z: 0.1}&quot; &quot;{}&quot;\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>rostopic pub /R2/cmd_vel geometry_msgs/Twist &quot;{x: 0.0, z: 0.1}&quot; &quot;{}&quot;\n</pre></div>\n\n\n<p>To hover, publish</p>\n<div class=\"codehilite\"><pre><span></span>rostopic pub /R1/cmd_vel geometry_msgs/Twist &quot;{}&quot; &quot;{}&quot;\n</pre></div>", "type": "rendered"}, "title": {"raw": "Use the new multicopter velocity controller for UAVs", "markup": "markdown", "html": "<p>Use the new multicopter velocity controller for UAVs</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This uses the new velocity controller added in [ign-gazebo PR 487](https://bitbucket.org/ignitionrobotics/ign-gazebo/pull-requests/487/). I have only updated X3C5 and X4C6 for now and would like some feedback on the noise characteristics of the two vehicles. With the new controller, the `<ROBOT_NAME>/cmd_vel` topic is actually a velocity topic and can be used to control the linear velocity and the yaw angle velocity of the vehicle. Note that the velocity commands are expressed in the body frame of the vehicle.\r\n\r\nThe update also exposes a topic `<ROBOT_NAME>/velocity_controller/enable` which can be used to enable/disable the controller. The controller is enabled by default but waits for the first command on the `cmd_vel` topic to do anything. Publishing a `false` would disable the controller and would cause the vehicle to fall.\r\n\r\n## To test\r\nFirst, build ign-gazebo with the PR 487 branch. \r\n\r\nThen launch \r\n```\r\nign launch -v 4 urban_circuit.ign robotName1:=R1 robotConfig1:=X3_SENSOR_CONFIG_5  robotName2:=R2 robotConfig2:=X4_SENSOR_CONFIG_6 \r\n```\r\nAnd publish velocity commands\r\n```\r\nrostopic pub /R1/cmd_vel geometry_msgs/Twist \"{x: 0.0, z: 0.1}\" \"{}\"\r\n```\r\n\r\n```\r\nrostopic pub /R2/cmd_vel geometry_msgs/Twist \"{x: 0.0, z: 0.1}\" \"{}\"\r\n```\r\n\r\nTo hover, publish\r\n```\r\nrostopic pub /R1/cmd_vel geometry_msgs/Twist \"{}\" \"{}\"\r\n```", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/pullrequests/390/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/diffstat/osrf/subt:b6eb0a867d5b%0D11ca98608d78?from_pullrequest_id=390"}, "commits": {"href": "data/repositories/osrf/subt/pullrequests/390/commits.json"}, "self": {"href": "data/repositories/osrf/subt/pullrequests/390.json"}, "comments": {"href": "data/repositories/osrf/subt/pullrequests/390/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/pullrequests/390/merge"}, "html": {"href": "#!/osrf/subt/pull-requests/390"}, "activity": {"href": "data/repositories/osrf/subt/pullrequests/390/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/diff/osrf/subt:b6eb0a867d5b%0D11ca98608d78?from_pullrequest_id=390"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/pullrequests/390/approve"}, "statuses": {"href": "data/repositories/osrf/subt/pullrequests/390/statuses_page=1.json"}}, "title": "Use the new multicopter velocity controller for UAVs", "close_source_branch": true, "reviewers": [{"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, {"display_name": "Alfredo Bencomo", "uuid": "{84891a71-dff2-4b97-8891-9446c16e6f89}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B84891a71-dff2-4b97-8891-9446c16e6f89%7D"}, "html": {"href": "https://bitbucket.org/%7B84891a71-dff2-4b97-8891-9446c16e6f89%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5cf75629ff02b50ea27b2817/82be1d48-d490-4d7b-8ddb-a8093b9417a6/128"}}, "nickname": "bencomo", "type": "user", "account_id": "5cf75629ff02b50ea27b2817"}, {"display_name": "Arthur Schang", "uuid": "{1403972a-9b64-442b-a69c-d7e9557e1d87}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1403972a-9b64-442b-a69c-d7e9557e1d87%7D"}, "html": {"href": "https://bitbucket.org/%7B1403972a-9b64-442b-a69c-d7e9557e1d87%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/AS-0.png"}}, "nickname": "Arthur Schang", "type": "user", "account_id": "557058:14b7fd50-d65a-47a8-825c-fa89681d07bd"}, {"display_name": "Angela Maio", "uuid": "{cdc95f92-6897-4f96-b661-b1875267c8f1}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcdc95f92-6897-4f96-b661-b1875267c8f1%7D"}, "html": {"href": "https://bitbucket.org/%7Bcdc95f92-6897-4f96-b661-b1875267c8f1%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ae8633826268aef93fddf5d270c9639bd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAM-4.png"}}, "nickname": "Angela Maio", "type": "user", "account_id": "5d4d9e1f2c0fea0d07ca3151"}], "id": 390, "destination": {"commit": {"hash": "11ca98608d78", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/11ca98608d78.json"}, "html": {"href": "#!/osrf/subt/commits/11ca98608d78"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "urban_circuit"}}, "created_on": "2019-12-17T19:49:25.478492+00:00", "summary": {"raw": "This uses the new velocity controller added in [ign-gazebo PR 487](https://bitbucket.org/ignitionrobotics/ign-gazebo/pull-requests/487/). I have only updated X3C5 and X4C6 for now and would like some feedback on the noise characteristics of the two vehicles. With the new controller, the `<ROBOT_NAME>/cmd_vel` topic is actually a velocity topic and can be used to control the linear velocity and the yaw angle velocity of the vehicle. Note that the velocity commands are expressed in the body frame of the vehicle.\r\n\r\nThe update also exposes a topic `<ROBOT_NAME>/velocity_controller/enable` which can be used to enable/disable the controller. The controller is enabled by default but waits for the first command on the `cmd_vel` topic to do anything. Publishing a `false` would disable the controller and would cause the vehicle to fall.\r\n\r\n## To test\r\nFirst, build ign-gazebo with the PR 487 branch. \r\n\r\nThen launch \r\n```\r\nign launch -v 4 urban_circuit.ign robotName1:=R1 robotConfig1:=X3_SENSOR_CONFIG_5  robotName2:=R2 robotConfig2:=X4_SENSOR_CONFIG_6 \r\n```\r\nAnd publish velocity commands\r\n```\r\nrostopic pub /R1/cmd_vel geometry_msgs/Twist \"{x: 0.0, z: 0.1}\" \"{}\"\r\n```\r\n\r\n```\r\nrostopic pub /R2/cmd_vel geometry_msgs/Twist \"{x: 0.0, z: 0.1}\" \"{}\"\r\n```\r\n\r\nTo hover, publish\r\n```\r\nrostopic pub /R1/cmd_vel geometry_msgs/Twist \"{}\" \"{}\"\r\n```", "markup": "markdown", "html": "<p>This uses the new velocity controller added in <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-gazebo/pull-requests/487/\" rel=\"nofollow\">ign-gazebo PR 487</a>. I have only updated X3C5 and X4C6 for now and would like some feedback on the noise characteristics of the two vehicles. With the new controller, the <code>&lt;ROBOT_NAME&gt;/cmd_vel</code> topic is actually a velocity topic and can be used to control the linear velocity and the yaw angle velocity of the vehicle. Note that the velocity commands are expressed in the body frame of the vehicle.</p>\n<p>The update also exposes a topic <code>&lt;ROBOT_NAME&gt;/velocity_controller/enable</code> which can be used to enable/disable the controller. The controller is enabled by default but waits for the first command on the <code>cmd_vel</code> topic to do anything. Publishing a <code>false</code> would disable the controller and would cause the vehicle to fall.</p>\n<h2 id=\"markdown-header-to-test\">To test</h2>\n<p>First, build ign-gazebo with the PR 487 branch. </p>\n<p>Then launch </p>\n<div class=\"codehilite\"><pre><span></span>ign launch -v 4 urban_circuit.ign robotName1:=R1 robotConfig1:=X3_SENSOR_CONFIG_5  robotName2:=R2 robotConfig2:=X4_SENSOR_CONFIG_6 \n</pre></div>\n\n\n<p>And publish velocity commands</p>\n<div class=\"codehilite\"><pre><span></span>rostopic pub /R1/cmd_vel geometry_msgs/Twist &quot;{x: 0.0, z: 0.1}&quot; &quot;{}&quot;\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>rostopic pub /R2/cmd_vel geometry_msgs/Twist &quot;{x: 0.0, z: 0.1}&quot; &quot;{}&quot;\n</pre></div>\n\n\n<p>To hover, publish</p>\n<div class=\"codehilite\"><pre><span></span>rostopic pub /R1/cmd_vel geometry_msgs/Twist &quot;{}&quot; &quot;{}&quot;\n</pre></div>", "type": "rendered"}, "source": {"commit": {"hash": "adb1b611bf14", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/adb1b611bf14.json"}, "html": {"href": "#!/osrf/subt/commits/adb1b611bf14"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "new_multicopter_controller"}}, "comment_count": 6, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2019-12-18T01:52:00.425196+00:00", "type": "participant", "approved": false, "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}, {"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, {"role": "REVIEWER", "participated_on": "2019-12-17T22:37:34.944285+00:00", "type": "participant", "approved": true, "user": {"display_name": "Arthur Schang", "uuid": "{1403972a-9b64-442b-a69c-d7e9557e1d87}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1403972a-9b64-442b-a69c-d7e9557e1d87%7D"}, "html": {"href": "https://bitbucket.org/%7B1403972a-9b64-442b-a69c-d7e9557e1d87%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/AS-0.png"}}, "nickname": "Arthur Schang", "type": "user", "account_id": "557058:14b7fd50-d65a-47a8-825c-fa89681d07bd"}}, {"role": "REVIEWER", "participated_on": "2019-12-18T16:04:23.444147+00:00", "type": "participant", "approved": true, "user": {"display_name": "Alfredo Bencomo", "uuid": "{84891a71-dff2-4b97-8891-9446c16e6f89}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B84891a71-dff2-4b97-8891-9446c16e6f89%7D"}, "html": {"href": "https://bitbucket.org/%7B84891a71-dff2-4b97-8891-9446c16e6f89%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5cf75629ff02b50ea27b2817/82be1d48-d490-4d7b-8ddb-a8093b9417a6/128"}}, "nickname": "bencomo", "type": "user", "account_id": "5cf75629ff02b50ea27b2817"}}, {"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Angela Maio", "uuid": "{cdc95f92-6897-4f96-b661-b1875267c8f1}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcdc95f92-6897-4f96-b661-b1875267c8f1%7D"}, "html": {"href": "https://bitbucket.org/%7Bcdc95f92-6897-4f96-b661-b1875267c8f1%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ae8633826268aef93fddf5d270c9639bd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAM-4.png"}}, "nickname": "Angela Maio", "type": "user", "account_id": "5d4d9e1f2c0fea0d07ca3151"}}, {"role": "PARTICIPANT", "participated_on": "2019-12-18T01:05:04.235379+00:00", "type": "participant", "approved": false, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2019-12-18T16:04:23.444147+00:00", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "merge_commit": {"hash": "b6eb0a867d5b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/b6eb0a867d5b.json"}, "html": {"href": "#!/osrf/subt/commits/b6eb0a867d5b"}}}, "closed_by": {"display_name": "Alfredo Bencomo", "uuid": "{84891a71-dff2-4b97-8891-9446c16e6f89}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B84891a71-dff2-4b97-8891-9446c16e6f89%7D"}, "html": {"href": "https://bitbucket.org/%7B84891a71-dff2-4b97-8891-9446c16e6f89%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5cf75629ff02b50ea27b2817/82be1d48-d490-4d7b-8ddb-a8093b9417a6/128"}}, "nickname": "bencomo", "type": "user", "account_id": "5cf75629ff02b50ea27b2817"}}