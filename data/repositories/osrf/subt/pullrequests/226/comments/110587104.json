{"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/226/comments/110587104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/226/_/diff#comment-110587104"}}, "parent": {"id": 110586960, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/226/comments/110586960.json"}, "html": {"href": "#!/osrf/subt/pull-requests/226/_/diff#comment-110586960"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 226, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/226.json"}, "html": {"href": "#!/osrf/subt/pull-requests/226"}}, "title": "Move artifact origin to center of tunnel entrance"}, "content": {"raw": "This prevents the node from crashing for me:\n\n```\ndiff -r f23104a241cc subt_ros/src/SubtRosRelay.cc\n--- a/subt_ros/src/SubtRosRelay.cc      Wed Jul 24 13:08:38 2019 -0700\n+++ b/subt_ros/src/SubtRosRelay.cc      Wed Jul 24 15:09:19 2019 -0700\n@@ -242,6 +242,10 @@\n   _res.success = this->node.Request(\"/subt/pose_from_artifact_origin\",\n       req, timeout, rep, result);\n \n+  // Request failed, ignore response\n+  if (!result)\n+    return result;\n+\n   // Construct the ROS response\n   _res.pose.pose.position.x = rep.position().x();\n   _res.pose.pose.position.y = rep.position().y();\n```\n\nThe problem is that the ign-transport response is empty when result is false and we try to get `data(0)`. Interesting that you get a fatal error + exception when I just get a crash.", "markup": "markdown", "html": "<p>This prevents the node from crashing for me:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r f23104a241cc subt_ros/src/SubtRosRelay.cc</span>\n<span class=\"gd\">--- a/subt_ros/src/SubtRosRelay.cc      Wed Jul 24 13:08:38 2019 -0700</span>\n<span class=\"gi\">+++ b/subt_ros/src/SubtRosRelay.cc      Wed Jul 24 15:09:19 2019 -0700</span>\n<span class=\"gu\">@@ -242,6 +242,10 @@</span>\n   _res.success = this-&gt;node.Request(&quot;/subt/pose_from_artifact_origin&quot;,\n       req, timeout, rep, result);\n\n<span class=\"gi\">+  // Request failed, ignore response</span>\n<span class=\"gi\">+  if (!result)</span>\n<span class=\"gi\">+    return result;</span>\n<span class=\"gi\">+</span>\n   // Construct the ROS response\n   _res.pose.pose.position.x = rep.position().x();\n   _res.pose.pose.position.y = rep.position().y();\n</pre></div>\n\n\n<p>The problem is that the ign-transport response is empty when result is false and we try to get <code>data(0)</code>. Interesting that you get a fatal error + exception when I just get a crash.</p>", "type": "rendered"}, "created_on": "2019-07-24T22:10:30.590618+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-07-24T22:10:30.599727+00:00", "type": "pullrequest_comment", "id": 110587104}