{"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/106/comments/106901135.json"}, "html": {"href": "#!/osrf/subt/pull-requests/106/_/diff#comment-106901135"}}, "parent": {"id": 105332041, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/106/comments/105332041.json"}, "html": {"href": "#!/osrf/subt/pull-requests/106/_/diff#comment-105332041"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 106, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/106.json"}, "html": {"href": "#!/osrf/subt/pull-requests/106"}}, "title": "Topological map from tsv to dot"}, "content": {"raw": "I added the consideration of blockers in `check_blocker_tile_connection()`.\n\nI tested the example file you sent me, there is no more link between the two 4-way intersections \\(`tunnel_tile_1`\\).  \nAssuming it is saved to `dense_map_w_blocker.tsv`, test with:\n\n```\npython3 tile_tsv.py dense_map_w_blocker.tsv --graph-file dense_map_w_blocker.dot --world-file dense_map_w_blocker.sdf\ndot -Tpdf dense_map_w_blocker.dot -o dense_map_w_blocker.pdf\nevince dense_map_w_blocker.pdf &\n```\n\nand the original `tunnel_qual` to make sure nothing is broken:\n\n```\npython3 tile_tsv.py tunnel_qual.tsv --world-name tunnel_qual --scale_x 20 --scale_y 20 --scale_z 5 --x0 20 --y0 240 --z0 -10 --world-file tunnel_qual_test.world --graph-file tunnel_qual_test.dot \ndiff tunnel_qual.dot tunnel_qual_test.dot\n```", "markup": "markdown", "html": "<p>I added the consideration of blockers in <code>check_blocker_tile_connection()</code>.</p>\n<p>I tested the example file you sent me, there is no more link between the two 4-way intersections (<code>tunnel_tile_1</code>).<br />\nAssuming it is saved to <code>dense_map_w_blocker.tsv</code>, test with:</p>\n<div class=\"codehilite\"><pre><span></span>python3 tile_tsv.py dense_map_w_blocker.tsv --graph-file dense_map_w_blocker.dot --world-file dense_map_w_blocker.sdf\ndot -Tpdf dense_map_w_blocker.dot -o dense_map_w_blocker.pdf\nevince dense_map_w_blocker.pdf &amp;\n</pre></div>\n\n\n<p>and the original <code>tunnel_qual</code> to make sure nothing is broken:</p>\n<div class=\"codehilite\"><pre><span></span>python3 tile_tsv.py tunnel_qual.tsv --world-name tunnel_qual --scale_x 20 --scale_y 20 --scale_z 5 --x0 20 --y0 240 --z0 -10 --world-file tunnel_qual_test.world --graph-file tunnel_qual_test.dot \ndiff tunnel_qual.dot tunnel_qual_test.dot\n</pre></div>", "type": "rendered"}, "created_on": "2019-06-25T07:31:28.813490+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2019-06-25T07:31:28.828288+00:00", "type": "pullrequest_comment", "id": 106901135}