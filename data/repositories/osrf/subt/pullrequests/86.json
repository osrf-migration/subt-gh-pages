{"rendered": {"description": {"raw": "This adds `MotionTimerDetachPlugin`, which is derived from `JointMotionTimerPlugin` and disables a robot by detaching joints after a specified amount of time in motion. The default time limit is 20 minutes. To test, apply the following patch to `x2_description` that reduces the time limit to 10 seconds:\r\n\r\n~~~\r\ndiff -r 915a8a2df644 x2_description/urdf/x2.gazebo\r\n--- a/x2_description/urdf/x2.gazebo     Fri Oct 26 17:31:36 2018 -0700\r\n+++ b/x2_description/urdf/x2.gazebo     Fri Oct 26 17:33:15 2018 -0700\r\n@@ -26,7 +26,8 @@\r\n   </gazebo>\r\n \r\n   <gazebo>\r\n-    <plugin name=\"joint_motion_timer\" filename=\"libJointMotionTimerPlugin.so\">\r\n+    <plugin name=\"joint_motion_timer\" filename=\"libMotionTimerDetachPlugin.so\">\r\n+      <detach_time_limit>10</detach_time_limit>\r\n       <joint>front_left_wheel</joint>\r\n       <joint>front_right_wheel</joint>\r\n       <joint>rear_left_wheel</joint>\r\n~~~\r\n\r\nWhile driving, you can echo the following topic to keep track of the time, then watch its wheels fall off after 10 seconds:\r\n\r\n~~~\r\nign topic -e -t /X2/elapsed_time_updates\r\n~~~\r\n\r\nThis makes some slight modifications to `JointMotionTimerPlugin`:\r\n\r\n* Add accessors for ElapsedTime and Joints in JointMotionTimerPlugin so derived plugins can access that data\r\n\r\n* use new Joints function in OnUpdate\r\n\r\nI also exposed an additional debug parameter in competition.launch, which is unrelated but useful.\r\n\r\nThis would be even better with one of the drones, but one of the plugins in `rotors_gazebo` seg-faults after detaching joints that it is trying to use.", "markup": "markdown", "html": "<p>This adds <code>MotionTimerDetachPlugin</code>, which is derived from <code>JointMotionTimerPlugin</code> and disables a robot by detaching joints after a specified amount of time in motion. The default time limit is 20 minutes. To test, apply the following patch to <code>x2_description</code> that reduces the time limit to 10 seconds:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 915a8a2df644 x2_description/urdf/x2.gazebo</span>\n<span class=\"gd\">--- a/x2_description/urdf/x2.gazebo     Fri Oct 26 17:31:36 2018 -0700</span>\n<span class=\"gi\">+++ b/x2_description/urdf/x2.gazebo     Fri Oct 26 17:33:15 2018 -0700</span>\n<span class=\"gu\">@@ -26,7 +26,8 @@</span>\n   &lt;/gazebo&gt;\n\n   &lt;gazebo&gt;\n<span class=\"gd\">-    &lt;plugin name=&quot;joint_motion_timer&quot; filename=&quot;libJointMotionTimerPlugin.so&quot;&gt;</span>\n<span class=\"gi\">+    &lt;plugin name=&quot;joint_motion_timer&quot; filename=&quot;libMotionTimerDetachPlugin.so&quot;&gt;</span>\n<span class=\"gi\">+      &lt;detach_time_limit&gt;10&lt;/detach_time_limit&gt;</span>\n       &lt;joint&gt;front_left_wheel&lt;/joint&gt;\n       &lt;joint&gt;front_right_wheel&lt;/joint&gt;\n       &lt;joint&gt;rear_left_wheel&lt;/joint&gt;\n</pre></div>\n\n\n<p>While driving, you can echo the following topic to keep track of the time, then watch its wheels fall off after 10 seconds:</p>\n<div class=\"codehilite\"><pre><span></span>ign topic -e -t /X2/elapsed_time_updates\n</pre></div>\n\n\n<p>This makes some slight modifications to <code>JointMotionTimerPlugin</code>:</p>\n<ul>\n<li>\n<p>Add accessors for ElapsedTime and Joints in JointMotionTimerPlugin so derived plugins can access that data</p>\n</li>\n<li>\n<p>use new Joints function in OnUpdate</p>\n</li>\n</ul>\n<p>I also exposed an additional debug parameter in competition.launch, which is unrelated but useful.</p>\n<p>This would be even better with one of the drones, but one of the plugins in <code>rotors_gazebo</code> seg-faults after detaching joints that it is trying to use.</p>", "type": "rendered"}, "title": {"raw": "MotionTimerDetachPlugin: use JointMotionTimerPlugin to disable robot after time limit", "markup": "markdown", "html": "<p>MotionTimerDetachPlugin: use JointMotionTimerPlugin to disable robot after time limit</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This adds `MotionTimerDetachPlugin`, which is derived from `JointMotionTimerPlugin` and disables a robot by detaching joints after a specified amount of time in motion. The default time limit is 20 minutes. To test, apply the following patch to `x2_description` that reduces the time limit to 10 seconds:\r\n\r\n~~~\r\ndiff -r 915a8a2df644 x2_description/urdf/x2.gazebo\r\n--- a/x2_description/urdf/x2.gazebo     Fri Oct 26 17:31:36 2018 -0700\r\n+++ b/x2_description/urdf/x2.gazebo     Fri Oct 26 17:33:15 2018 -0700\r\n@@ -26,7 +26,8 @@\r\n   </gazebo>\r\n \r\n   <gazebo>\r\n-    <plugin name=\"joint_motion_timer\" filename=\"libJointMotionTimerPlugin.so\">\r\n+    <plugin name=\"joint_motion_timer\" filename=\"libMotionTimerDetachPlugin.so\">\r\n+      <detach_time_limit>10</detach_time_limit>\r\n       <joint>front_left_wheel</joint>\r\n       <joint>front_right_wheel</joint>\r\n       <joint>rear_left_wheel</joint>\r\n~~~\r\n\r\nWhile driving, you can echo the following topic to keep track of the time, then watch its wheels fall off after 10 seconds:\r\n\r\n~~~\r\nign topic -e -t /X2/elapsed_time_updates\r\n~~~\r\n\r\nThis makes some slight modifications to `JointMotionTimerPlugin`:\r\n\r\n* Add accessors for ElapsedTime and Joints in JointMotionTimerPlugin so derived plugins can access that data\r\n\r\n* use new Joints function in OnUpdate\r\n\r\nI also exposed an additional debug parameter in competition.launch, which is unrelated but useful.\r\n\r\nThis would be even better with one of the drones, but one of the plugins in `rotors_gazebo` seg-faults after detaching joints that it is trying to use.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/pullrequests/86/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/diffstat/osrf/subt:e8996720182a%0D071aa7b0e3e4?from_pullrequest_id=86"}, "commits": {"href": "data/repositories/osrf/subt/pullrequests/86/commits.json"}, "self": {"href": "data/repositories/osrf/subt/pullrequests/86.json"}, "comments": {"href": "data/repositories/osrf/subt/pullrequests/86/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/pullrequests/86/merge"}, "html": {"href": "#!/osrf/subt/pull-requests/86"}, "activity": {"href": "data/repositories/osrf/subt/pullrequests/86/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/diff/osrf/subt:e8996720182a%0D071aa7b0e3e4?from_pullrequest_id=86"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/subt/pullrequests/86/approve"}, "statuses": {"href": "data/repositories/osrf/subt/pullrequests/86/statuses_page=1.json"}}, "title": "MotionTimerDetachPlugin: use JointMotionTimerPlugin to disable robot after time limit", "close_source_branch": true, "reviewers": [{"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}], "id": 86, "destination": {"commit": {"hash": "071aa7b0e3e4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/071aa7b0e3e4.json"}, "html": {"href": "#!/osrf/subt/commits/071aa7b0e3e4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "default"}}, "created_on": "2018-10-27T00:38:34.617499+00:00", "summary": {"raw": "This adds `MotionTimerDetachPlugin`, which is derived from `JointMotionTimerPlugin` and disables a robot by detaching joints after a specified amount of time in motion. The default time limit is 20 minutes. To test, apply the following patch to `x2_description` that reduces the time limit to 10 seconds:\r\n\r\n~~~\r\ndiff -r 915a8a2df644 x2_description/urdf/x2.gazebo\r\n--- a/x2_description/urdf/x2.gazebo     Fri Oct 26 17:31:36 2018 -0700\r\n+++ b/x2_description/urdf/x2.gazebo     Fri Oct 26 17:33:15 2018 -0700\r\n@@ -26,7 +26,8 @@\r\n   </gazebo>\r\n \r\n   <gazebo>\r\n-    <plugin name=\"joint_motion_timer\" filename=\"libJointMotionTimerPlugin.so\">\r\n+    <plugin name=\"joint_motion_timer\" filename=\"libMotionTimerDetachPlugin.so\">\r\n+      <detach_time_limit>10</detach_time_limit>\r\n       <joint>front_left_wheel</joint>\r\n       <joint>front_right_wheel</joint>\r\n       <joint>rear_left_wheel</joint>\r\n~~~\r\n\r\nWhile driving, you can echo the following topic to keep track of the time, then watch its wheels fall off after 10 seconds:\r\n\r\n~~~\r\nign topic -e -t /X2/elapsed_time_updates\r\n~~~\r\n\r\nThis makes some slight modifications to `JointMotionTimerPlugin`:\r\n\r\n* Add accessors for ElapsedTime and Joints in JointMotionTimerPlugin so derived plugins can access that data\r\n\r\n* use new Joints function in OnUpdate\r\n\r\nI also exposed an additional debug parameter in competition.launch, which is unrelated but useful.\r\n\r\nThis would be even better with one of the drones, but one of the plugins in `rotors_gazebo` seg-faults after detaching joints that it is trying to use.", "markup": "markdown", "html": "<p>This adds <code>MotionTimerDetachPlugin</code>, which is derived from <code>JointMotionTimerPlugin</code> and disables a robot by detaching joints after a specified amount of time in motion. The default time limit is 20 minutes. To test, apply the following patch to <code>x2_description</code> that reduces the time limit to 10 seconds:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 915a8a2df644 x2_description/urdf/x2.gazebo</span>\n<span class=\"gd\">--- a/x2_description/urdf/x2.gazebo     Fri Oct 26 17:31:36 2018 -0700</span>\n<span class=\"gi\">+++ b/x2_description/urdf/x2.gazebo     Fri Oct 26 17:33:15 2018 -0700</span>\n<span class=\"gu\">@@ -26,7 +26,8 @@</span>\n   &lt;/gazebo&gt;\n\n   &lt;gazebo&gt;\n<span class=\"gd\">-    &lt;plugin name=&quot;joint_motion_timer&quot; filename=&quot;libJointMotionTimerPlugin.so&quot;&gt;</span>\n<span class=\"gi\">+    &lt;plugin name=&quot;joint_motion_timer&quot; filename=&quot;libMotionTimerDetachPlugin.so&quot;&gt;</span>\n<span class=\"gi\">+      &lt;detach_time_limit&gt;10&lt;/detach_time_limit&gt;</span>\n       &lt;joint&gt;front_left_wheel&lt;/joint&gt;\n       &lt;joint&gt;front_right_wheel&lt;/joint&gt;\n       &lt;joint&gt;rear_left_wheel&lt;/joint&gt;\n</pre></div>\n\n\n<p>While driving, you can echo the following topic to keep track of the time, then watch its wheels fall off after 10 seconds:</p>\n<div class=\"codehilite\"><pre><span></span>ign topic -e -t /X2/elapsed_time_updates\n</pre></div>\n\n\n<p>This makes some slight modifications to <code>JointMotionTimerPlugin</code>:</p>\n<ul>\n<li>\n<p>Add accessors for ElapsedTime and Joints in JointMotionTimerPlugin so derived plugins can access that data</p>\n</li>\n<li>\n<p>use new Joints function in OnUpdate</p>\n</li>\n</ul>\n<p>I also exposed an additional debug parameter in competition.launch, which is unrelated but useful.</p>\n<p>This would be even better with one of the drones, but one of the plugins in <code>rotors_gazebo</code> seg-faults after detaching joints that it is trying to use.</p>", "type": "rendered"}, "source": {"commit": {"hash": "f0da7e713642", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/f0da7e713642.json"}, "html": {"href": "#!/osrf/subt/commits/f0da7e713642"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "motion_timer_detach"}}, "comment_count": 10, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2018-11-13T19:29:03.853978+00:00", "type": "participant", "approved": false, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}, {"role": "REVIEWER", "participated_on": "2018-11-06T22:17:24.294412+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}], "reason": "", "updated_on": "2018-11-13T20:24:47.886654+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "e8996720182a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/e8996720182a.json"}, "html": {"href": "#!/osrf/subt/commits/e8996720182a"}}}, "closed_by": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}