{"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/370/comments/128468778.json"}, "html": {"href": "#!/osrf/subt/pull-requests/370/_/diff#comment-128468778"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 370, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/370.json"}, "html": {"href": "#!/osrf/subt/pull-requests/370"}}, "title": "Model submission for X4 sensor configuration 9 from Sophisticated Engineering."}, "content": {"raw": "This looks good. I have a few changes I'd like you to make. Instead of listing them, I made a diff:\n\nThe main things are:\n\n* Add a gas sensor to model.sdf\n* Update lights to cast shadows and propellers not to cast shadows.\n\n```\n#!diff\ndiff --git a/submitted_models/sophisticated_engineering_x4_sensor_config_9/launch/spawner.rb b/submitted_models/sophisticated_engineering_x4_sensor_config_9/launch/spawner.rb\n--- a/submitted_models/sophisticated_engineering_x4_sensor_config_9/launch/spawner.rb\n+++ b/submitted_models/sophisticated_engineering_x4_sensor_config_9/launch/spawner.rb\n@@ -16,4 +16,4 @@ def spawner(_name, _modelURI, _worldName\n       <!-- Publish robot state information -->\n-      <plugin filename=\\\"libignition-gazebo-pose-publisher-system.so\\\"\n-        name=\\\"ignition::gazebo::systems::PosePublisher\\\">\n+      <plugin filename=\"libignition-gazebo-pose-publisher-system.so\"\n+        name=\"ignition::gazebo::systems::PosePublisher\">\n         <publish_link_pose>true</publish_link_pose>\n@@ -24,4 +24,4 @@ def spawner(_name, _modelURI, _worldName\n       </plugin>\n-      <plugin filename=\\\"libignition-gazebo-multicopter-motor-model-system.so\\\"\n-        name=\\\"ignition::gazebo::systems::MulticopterMotorModel\\\">\n+      <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n+        name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n         <robotNamespace>model/#{_name}</robotNamespace>\n@@ -43,4 +43,4 @@ def spawner(_name, _modelURI, _worldName\n       </plugin>\n-      <plugin filename=\\\"libignition-gazebo-multicopter-motor-model-system.so\\\"\n-        name=\\\"ignition::gazebo::systems::MulticopterMotorModel\\\">\n+      <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n+        name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n         <robotNamespace>model/#{_name}</robotNamespace>\n@@ -62,4 +62,4 @@ def spawner(_name, _modelURI, _worldName\n       </plugin>\n-      <plugin filename=\\\"libignition-gazebo-multicopter-motor-model-system.so\\\"\n-        name=\\\"ignition::gazebo::systems::MulticopterMotorModel\\\">\n+      <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n+        name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n         <robotNamespace>model/#{_name}</robotNamespace>\n@@ -81,4 +81,4 @@ def spawner(_name, _modelURI, _worldName\n       </plugin>\n-      <plugin filename=\\\"libignition-gazebo-multicopter-motor-model-system.so\\\"\n-        name=\\\"ignition::gazebo::systems::MulticopterMotorModel\\\">\n+      <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n+        name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n         <robotNamespace>model/#{_name}</robotNamespace>\n@@ -100,4 +100,4 @@ def spawner(_name, _modelURI, _worldName\n       </plugin>\n-      <plugin filename=\\\"libignition-gazebo-multicopter-motor-model-system.so\\\"\n-        name=\\\"ignition::gazebo::systems::MulticopterMotorModel\\\">\n+      <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n+        name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n         <robotNamespace>model/#{_name}</robotNamespace>\n@@ -119,4 +119,4 @@ def spawner(_name, _modelURI, _worldName\n       </plugin>\n-      <plugin filename=\\\"libignition-gazebo-multicopter-motor-model-system.so\\\"\n-        name=\\\"ignition::gazebo::systems::MulticopterMotorModel\\\">\n+      <plugin filename=\"libignition-gazebo-multicopter-motor-model-system.so\"\n+        name=\"ignition::gazebo::systems::MulticopterMotorModel\">\n         <robotNamespace>model/#{_name}</robotNamespace>\n@@ -140,4 +140,4 @@ def spawner(_name, _modelURI, _worldName\n       <!-- Battery plugin -->\n-      <plugin filename=\\\"libignition-gazebo-linearbatteryplugin-system.so\\\"\n-        name=\\\"ignition::gazebo::systems::LinearBatteryPlugin\\\">\n+      <plugin filename=\"libignition-gazebo-linearbatteryplugin-system.so\"\n+        name=\"ignition::gazebo::systems::LinearBatteryPlugin\">\n         <battery_name>linear_battery</battery_name>\n@@ -154,2 +154,9 @@ def spawner(_name, _modelURI, _worldName\n \n+    <!-- Gas Sensor plugin -->\n+    <plugin filename=\"libGasEmitterDetectorPlugin.so\"\n+      name=\"subt::GasDetector\">\n+      <topic>/model/#{_name}/gas_detected</topic>\n+      <update_rate>10</update_rate>\n+      <type>gas</type>\n+    </plugin>\n \ndiff --git a/submitted_models/sophisticated_engineering_x4_sensor_config_9/model.sdf b/submitted_models/sophisticated_engineering_x4_sensor_config_9/model.sdf\n--- a/submitted_models/sophisticated_engineering_x4_sensor_config_9/model.sdf\n+++ b/submitted_models/sophisticated_engineering_x4_sensor_config_9/model.sdf\n@@ -1,1 +1,2 @@\n+<?xml version=\"1.0\"?>\n <sdf version=\"1.6\">\n@@ -105,2 +106,3 @@\n               <direction>0 0 -1</direction>\n+              <cast_shadows>1</cast_shadows>\n             </light>\n@@ -122,2 +124,3 @@\n               <direction>0 0 -1</direction>\n+              <cast_shadows>1</cast_shadows>\n             </light>\n@@ -139,2 +142,3 @@\n               <direction>0 0 -1</direction>\n+              <cast_shadows>1</cast_shadows>\n             </light>\n@@ -388,2 +392,3 @@\n                 <material>\n+                    <diffuse>1 0 0 1</diffuse>\n                     <script>\n@@ -393,2 +398,3 @@\n                 </material>\n+                <cast_shadows>0</cast_shadows>\n             </visual>\n@@ -453,2 +459,3 @@\n                 <material>\n+                    <diffuse>0 0 1 1</diffuse>\n                     <script>\n@@ -458,2 +465,3 @@\n                 </material>\n+                <cast_shadows>0</cast_shadows>\n             </visual>\n@@ -518,2 +526,3 @@\n                 <material>\n+                    <diffuse>0 0 1 1</diffuse>\n                     <script>\n@@ -523,2 +532,3 @@\n                 </material>\n+                <cast_shadows>0</cast_shadows>\n             </visual>\n@@ -583,2 +593,3 @@\n                 <material>\n+                    <diffuse>0 0 1 1</diffuse>\n                     <script>\n@@ -588,2 +599,3 @@\n                 </material>\n+                <cast_shadows>0</cast_shadows>\n             </visual>\n@@ -648,2 +660,3 @@\n                 <material>\n+                    <diffuse>0 0 1 1</diffuse>\n                     <script>\n@@ -653,2 +666,3 @@\n                 </material>\n+                <cast_shadows>0</cast_shadows>\n             </visual>\n@@ -713,2 +727,3 @@\n                 <material>\n+                    <diffuse>1 0 0 1</diffuse>\n                     <script>\n@@ -718,2 +733,3 @@\n                 </material>\n+                <cast_shadows>0</cast_shadows>\n             </visual>\n\n```\n", "markup": "markdown", "html": "<p>This looks good. I have a few changes I'd like you to make. Instead of listing them, I made a diff:</p>\n<p>The main things are:</p>\n<ul>\n<li>Add a gas sensor to model.sdf</li>\n<li>Update lights to cast shadows and propellers not to cast shadows.</li>\n</ul>\n<div class=\"codehilite language-diff\"><pre><span></span><span class=\"gh\">diff --git a/submitted_models/sophisticated_engineering_x4_sensor_config_9/launch/spawner.rb b/submitted_models/sophisticated_engineering_x4_sensor_config_9/launch/spawner.rb</span>\n<span class=\"gd\">--- a/submitted_models/sophisticated_engineering_x4_sensor_config_9/launch/spawner.rb</span>\n<span class=\"gi\">+++ b/submitted_models/sophisticated_engineering_x4_sensor_config_9/launch/spawner.rb</span>\n<span class=\"gu\">@@ -16,4 +16,4 @@ def spawner(_name, _modelURI, _worldName</span>\n       &lt;!-- Publish robot state information --&gt;\n<span class=\"gd\">-      &lt;plugin filename=\\&quot;libignition-gazebo-pose-publisher-system.so\\&quot;</span>\n<span class=\"gd\">-        name=\\&quot;ignition::gazebo::systems::PosePublisher\\&quot;&gt;</span>\n<span class=\"gi\">+      &lt;plugin filename=&quot;libignition-gazebo-pose-publisher-system.so&quot;</span>\n<span class=\"gi\">+        name=&quot;ignition::gazebo::systems::PosePublisher&quot;&gt;</span>\n         &lt;publish_link_pose&gt;true&lt;/publish_link_pose&gt;\n<span class=\"gu\">@@ -24,4 +24,4 @@ def spawner(_name, _modelURI, _worldName</span>\n       &lt;/plugin&gt;\n<span class=\"gd\">-      &lt;plugin filename=\\&quot;libignition-gazebo-multicopter-motor-model-system.so\\&quot;</span>\n<span class=\"gd\">-        name=\\&quot;ignition::gazebo::systems::MulticopterMotorModel\\&quot;&gt;</span>\n<span class=\"gi\">+      &lt;plugin filename=&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n<span class=\"gi\">+        name=&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;&gt;</span>\n         &lt;robotNamespace&gt;model/#{_name}&lt;/robotNamespace&gt;\n<span class=\"gu\">@@ -43,4 +43,4 @@ def spawner(_name, _modelURI, _worldName</span>\n       &lt;/plugin&gt;\n<span class=\"gd\">-      &lt;plugin filename=\\&quot;libignition-gazebo-multicopter-motor-model-system.so\\&quot;</span>\n<span class=\"gd\">-        name=\\&quot;ignition::gazebo::systems::MulticopterMotorModel\\&quot;&gt;</span>\n<span class=\"gi\">+      &lt;plugin filename=&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n<span class=\"gi\">+        name=&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;&gt;</span>\n         &lt;robotNamespace&gt;model/#{_name}&lt;/robotNamespace&gt;\n<span class=\"gu\">@@ -62,4 +62,4 @@ def spawner(_name, _modelURI, _worldName</span>\n       &lt;/plugin&gt;\n<span class=\"gd\">-      &lt;plugin filename=\\&quot;libignition-gazebo-multicopter-motor-model-system.so\\&quot;</span>\n<span class=\"gd\">-        name=\\&quot;ignition::gazebo::systems::MulticopterMotorModel\\&quot;&gt;</span>\n<span class=\"gi\">+      &lt;plugin filename=&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n<span class=\"gi\">+        name=&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;&gt;</span>\n         &lt;robotNamespace&gt;model/#{_name}&lt;/robotNamespace&gt;\n<span class=\"gu\">@@ -81,4 +81,4 @@ def spawner(_name, _modelURI, _worldName</span>\n       &lt;/plugin&gt;\n<span class=\"gd\">-      &lt;plugin filename=\\&quot;libignition-gazebo-multicopter-motor-model-system.so\\&quot;</span>\n<span class=\"gd\">-        name=\\&quot;ignition::gazebo::systems::MulticopterMotorModel\\&quot;&gt;</span>\n<span class=\"gi\">+      &lt;plugin filename=&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n<span class=\"gi\">+        name=&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;&gt;</span>\n         &lt;robotNamespace&gt;model/#{_name}&lt;/robotNamespace&gt;\n<span class=\"gu\">@@ -100,4 +100,4 @@ def spawner(_name, _modelURI, _worldName</span>\n       &lt;/plugin&gt;\n<span class=\"gd\">-      &lt;plugin filename=\\&quot;libignition-gazebo-multicopter-motor-model-system.so\\&quot;</span>\n<span class=\"gd\">-        name=\\&quot;ignition::gazebo::systems::MulticopterMotorModel\\&quot;&gt;</span>\n<span class=\"gi\">+      &lt;plugin filename=&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n<span class=\"gi\">+        name=&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;&gt;</span>\n         &lt;robotNamespace&gt;model/#{_name}&lt;/robotNamespace&gt;\n<span class=\"gu\">@@ -119,4 +119,4 @@ def spawner(_name, _modelURI, _worldName</span>\n       &lt;/plugin&gt;\n<span class=\"gd\">-      &lt;plugin filename=\\&quot;libignition-gazebo-multicopter-motor-model-system.so\\&quot;</span>\n<span class=\"gd\">-        name=\\&quot;ignition::gazebo::systems::MulticopterMotorModel\\&quot;&gt;</span>\n<span class=\"gi\">+      &lt;plugin filename=&quot;libignition-gazebo-multicopter-motor-model-system.so&quot;</span>\n<span class=\"gi\">+        name=&quot;ignition::gazebo::systems::MulticopterMotorModel&quot;&gt;</span>\n         &lt;robotNamespace&gt;model/#{_name}&lt;/robotNamespace&gt;\n<span class=\"gu\">@@ -140,4 +140,4 @@ def spawner(_name, _modelURI, _worldName</span>\n       &lt;!-- Battery plugin --&gt;\n<span class=\"gd\">-      &lt;plugin filename=\\&quot;libignition-gazebo-linearbatteryplugin-system.so\\&quot;</span>\n<span class=\"gd\">-        name=\\&quot;ignition::gazebo::systems::LinearBatteryPlugin\\&quot;&gt;</span>\n<span class=\"gi\">+      &lt;plugin filename=&quot;libignition-gazebo-linearbatteryplugin-system.so&quot;</span>\n<span class=\"gi\">+        name=&quot;ignition::gazebo::systems::LinearBatteryPlugin&quot;&gt;</span>\n         &lt;battery_name&gt;linear_battery&lt;/battery_name&gt;\n<span class=\"gu\">@@ -154,2 +154,9 @@ def spawner(_name, _modelURI, _worldName</span>\n\n<span class=\"gi\">+    &lt;!-- Gas Sensor plugin --&gt;</span>\n<span class=\"gi\">+    &lt;plugin filename=&quot;libGasEmitterDetectorPlugin.so&quot;</span>\n<span class=\"gi\">+      name=&quot;subt::GasDetector&quot;&gt;</span>\n<span class=\"gi\">+      &lt;topic&gt;/model/#{_name}/gas_detected&lt;/topic&gt;</span>\n<span class=\"gi\">+      &lt;update_rate&gt;10&lt;/update_rate&gt;</span>\n<span class=\"gi\">+      &lt;type&gt;gas&lt;/type&gt;</span>\n<span class=\"gi\">+    &lt;/plugin&gt;</span>\n\n<span class=\"gh\">diff --git a/submitted_models/sophisticated_engineering_x4_sensor_config_9/model.sdf b/submitted_models/sophisticated_engineering_x4_sensor_config_9/model.sdf</span>\n<span class=\"gd\">--- a/submitted_models/sophisticated_engineering_x4_sensor_config_9/model.sdf</span>\n<span class=\"gi\">+++ b/submitted_models/sophisticated_engineering_x4_sensor_config_9/model.sdf</span>\n<span class=\"gu\">@@ -1,1 +1,2 @@</span>\n<span class=\"gi\">+&lt;?xml version=&quot;1.0&quot;?&gt;</span>\n &lt;sdf version=&quot;1.6&quot;&gt;\n<span class=\"gu\">@@ -105,2 +106,3 @@</span>\n               &lt;direction&gt;0 0 -1&lt;/direction&gt;\n<span class=\"gi\">+              &lt;cast_shadows&gt;1&lt;/cast_shadows&gt;</span>\n             &lt;/light&gt;\n<span class=\"gu\">@@ -122,2 +124,3 @@</span>\n               &lt;direction&gt;0 0 -1&lt;/direction&gt;\n<span class=\"gi\">+              &lt;cast_shadows&gt;1&lt;/cast_shadows&gt;</span>\n             &lt;/light&gt;\n<span class=\"gu\">@@ -139,2 +142,3 @@</span>\n               &lt;direction&gt;0 0 -1&lt;/direction&gt;\n<span class=\"gi\">+              &lt;cast_shadows&gt;1&lt;/cast_shadows&gt;</span>\n             &lt;/light&gt;\n<span class=\"gu\">@@ -388,2 +392,3 @@</span>\n                 &lt;material&gt;\n<span class=\"gi\">+                    &lt;diffuse&gt;1 0 0 1&lt;/diffuse&gt;</span>\n                     &lt;script&gt;\n<span class=\"gu\">@@ -393,2 +398,3 @@</span>\n                 &lt;/material&gt;\n<span class=\"gi\">+                &lt;cast_shadows&gt;0&lt;/cast_shadows&gt;</span>\n             &lt;/visual&gt;\n<span class=\"gu\">@@ -453,2 +459,3 @@</span>\n                 &lt;material&gt;\n<span class=\"gi\">+                    &lt;diffuse&gt;0 0 1 1&lt;/diffuse&gt;</span>\n                     &lt;script&gt;\n<span class=\"gu\">@@ -458,2 +465,3 @@</span>\n                 &lt;/material&gt;\n<span class=\"gi\">+                &lt;cast_shadows&gt;0&lt;/cast_shadows&gt;</span>\n             &lt;/visual&gt;\n<span class=\"gu\">@@ -518,2 +526,3 @@</span>\n                 &lt;material&gt;\n<span class=\"gi\">+                    &lt;diffuse&gt;0 0 1 1&lt;/diffuse&gt;</span>\n                     &lt;script&gt;\n<span class=\"gu\">@@ -523,2 +532,3 @@</span>\n                 &lt;/material&gt;\n<span class=\"gi\">+                &lt;cast_shadows&gt;0&lt;/cast_shadows&gt;</span>\n             &lt;/visual&gt;\n<span class=\"gu\">@@ -583,2 +593,3 @@</span>\n                 &lt;material&gt;\n<span class=\"gi\">+                    &lt;diffuse&gt;0 0 1 1&lt;/diffuse&gt;</span>\n                     &lt;script&gt;\n<span class=\"gu\">@@ -588,2 +599,3 @@</span>\n                 &lt;/material&gt;\n<span class=\"gi\">+                &lt;cast_shadows&gt;0&lt;/cast_shadows&gt;</span>\n             &lt;/visual&gt;\n<span class=\"gu\">@@ -648,2 +660,3 @@</span>\n                 &lt;material&gt;\n<span class=\"gi\">+                    &lt;diffuse&gt;0 0 1 1&lt;/diffuse&gt;</span>\n                     &lt;script&gt;\n<span class=\"gu\">@@ -653,2 +666,3 @@</span>\n                 &lt;/material&gt;\n<span class=\"gi\">+                &lt;cast_shadows&gt;0&lt;/cast_shadows&gt;</span>\n             &lt;/visual&gt;\n<span class=\"gu\">@@ -713,2 +727,3 @@</span>\n                 &lt;material&gt;\n<span class=\"gi\">+                    &lt;diffuse&gt;1 0 0 1&lt;/diffuse&gt;</span>\n                     &lt;script&gt;\n<span class=\"gu\">@@ -718,2 +733,3 @@</span>\n                 &lt;/material&gt;\n<span class=\"gi\">+                &lt;cast_shadows&gt;0&lt;/cast_shadows&gt;</span>\n             &lt;/visual&gt;\n</pre></div>", "type": "rendered"}, "created_on": "2019-12-11T22:09:05.717043+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2019-12-11T22:09:05.723315+00:00", "type": "pullrequest_comment", "id": 128468778}