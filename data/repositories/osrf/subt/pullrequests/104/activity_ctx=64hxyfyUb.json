{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/90519088.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-90519088"}}, "parent": {"id": 90517385, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/90517385.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-90517385"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}, "content": {"raw": "Just pushed commit that should fix - forgot to install libraries\u2026", "markup": "markdown", "html": "<p>Just pushed commit that should fix - forgot to install libraries\u2026</p>", "type": "rendered"}, "created_on": "2019-02-05T17:58:46.260802+00:00", "user": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "updated_on": "2019-02-05T17:58:46.269260+00:00", "type": "pullrequest_comment", "id": 90519088}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"update": {"description": "See `subt-communication/README.md` for more details regarding this refactor of the existing virtual communication system for SUBT. It involves four new packages that replace and extend functionality that was previously in the `subt_gazebo` package. The `subt_gazebo` package continues to hold the Gazebo plugin that instantiates communication simulation:\r\n\r\n* `subt_rf_interface`: Provides function signature \\(and simple implementation\\) for computing pathloss from transmitter/receiver locations.\r\n* `subt_communication_model`: Provides function signature and implementation for evaluating packet communication success based on evaluation of a path loss function, modulation-based models of bit-error rate, and bitrate limitations of the configured radio.\r\n* `subt_communication_broker`: Centralized node that handles communication requests via distributed client API. Is instantiated with function handles for \\(1\\) a pathloss function, \\(2\\) an `attempt_send` function, i.e., the communication model, and \\(3\\) an `update_pose` function that provides a mechanism to query the simulator for the pose of an agent by name.\r\n* `subt_gazebo_los_model`: Pathloss function instantiation based on approximate visibility via a pre-computed lookup table. The so-called _visibility cost_ is used to affect the fading exponent for the generic range-based log-normal fading model. This means communication while in line-of-sight \\(LOS\\) will behave according to standard fading models and as LOS is lost, attenuation will happen much more rapidly.\r\n\r\n**Note**: After this PR is merged, some validation/model-fitting should be performed along with testing in simulation to choose good parameters \\(fading exponent, noise floor, link capacity, mapping visibility cost to fading exponent inflation\\) that match somewhat realistic devices.\r\n\r\n**Some other changes along the way include**:\r\n\r\n* Add service to subt\\_example for testing comms\r\n\r\n    _Service will create pair of topics for externally analyzing communication peformance \\(bitrate acheieved, latency, etc\\)_\r\n\r\n\r\n* Add subt\\_comms\\_test\r\n\r\n    _Package to store communication system testing nodes and scripts._\r\n\r\n\r\n* Fix subt\\_example\\_node comms LED blinking\r\n\r\n    _LED blinking was limiting communication rate._\r\n\r\n\r\n* Improved visibility visualization\r\n\r\n    * _Improve speed of rendering using POINTS marker type_\r\n    * _color-code points based on computed cost_", "title": "Comms refactor", "destination": {"commit": {"hash": "6a55ea46e86a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/6a55ea46e86a.json"}, "html": {"href": "#!/osrf/subt/commits/6a55ea46e86a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d3cb6717fc4f", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt/commit/d3cb6717fc4f"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt/commits/d3cb6717fc4f"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{88b6b7a7-832b-438e-b879-89a4954c4894}ts=c_plus_plus"}}, "type": "repository", "name": "subt", "full_name": "jonfink-arl/subt", "uuid": "{88b6b7a7-832b-438e-b879-89a4954c4894}"}, "branch": {"name": "comms_refactor"}}, "state": "OPEN", "author": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "date": "2019-02-05T17:58:31.127501+00:00"}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/90518908.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-90518908"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}, "content": {"raw": "Is this needed?", "markup": "markdown", "html": "<p>Is this needed?</p>", "type": "rendered"}, "created_on": "2019-02-05T17:57:22.378917+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2019-02-05T17:57:22.390867+00:00", "type": "pullrequest_comment", "id": 90518908}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/90518537.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-90518537"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}, "content": {"raw": "`recieved`-> `received`", "markup": "markdown", "html": "<p><code>recieved</code>-&gt; <code>received</code></p>", "type": "rendered"}, "created_on": "2019-02-05T17:54:09.567328+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2019-02-05T17:54:09.575314+00:00", "type": "pullrequest_comment", "id": 90518537}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/90518531.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-90518531"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}, "content": {"raw": "`recieved`-> `received`", "markup": "markdown", "html": "<p><code>recieved</code>-&gt; <code>received</code></p>", "type": "rendered"}, "created_on": "2019-02-05T17:54:05.355801+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2019-02-05T17:54:05.364971+00:00", "type": "pullrequest_comment", "id": 90518531}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/90518518.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-90518518"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}, "content": {"raw": "`recieved`-> `received`", "markup": "markdown", "html": "<p><code>recieved</code>-&gt; <code>received</code></p>", "type": "rendered"}, "created_on": "2019-02-05T17:54:00.763948+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2019-02-05T17:54:00.773673+00:00", "type": "pullrequest_comment", "id": 90518518}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/90517385.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-90517385"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}, "content": {"raw": "After `catkin_make install`, `source install/setup.bash` and `roslaunch subt_gazebo quickstart.launch scenario:=tunnel_practice_1` I get the following error:\n\n    [Err] [Plugin.hh:180] Failed to load plugin libCommsBrokerPlugin.so: libsubt_communication_model.so: cannot open shared object file: No such file or directory", "markup": "markdown", "html": "<p>After <code>catkin_make install</code>, <code>source install/setup.bash</code> and <code>roslaunch subt_gazebo quickstart.launch scenario:=tunnel_practice_1</code> I get the following error:</p>\n<div class=\"codehilite\"><pre><span></span>[Err] [Plugin.hh:180] Failed to load plugin libCommsBrokerPlugin.so: libsubt_communication_model.so: cannot open shared object file: No such file or directory\n</pre></div>", "type": "rendered"}, "created_on": "2019-02-05T17:45:13.955503+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-02-05T17:45:13.965475+00:00", "type": "pullrequest_comment", "id": 90517385}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"update": {"description": "See `subt-communication/README.md` for more details regarding this refactor of the existing virtual communication system for SUBT. It involves four new packages that replace and extend functionality that was previously in the `subt_gazebo` package. The `subt_gazebo` package continues to hold the Gazebo plugin that instantiates communication simulation:\r\n\r\n* `subt_rf_interface`: Provides function signature \\(and simple implementation\\) for computing pathloss from transmitter/receiver locations.\r\n* `subt_communication_model`: Provides function signature and implementation for evaluating packet communication success based on evaluation of a path loss function, modulation-based models of bit-error rate, and bitrate limitations of the configured radio.\r\n* `subt_communication_broker`: Centralized node that handles communication requests via distributed client API. Is instantiated with function handles for \\(1\\) a pathloss function, \\(2\\) an `attempt_send` function, i.e., the communication model, and \\(3\\) an `update_pose` function that provides a mechanism to query the simulator for the pose of an agent by name.\r\n* `subt_gazebo_los_model`: Pathloss function instantiation based on approximate visibility via a pre-computed lookup table. The so-called _visibility cost_ is used to affect the fading exponent for the generic range-based log-normal fading model. This means communication while in line-of-sight \\(LOS\\) will behave according to standard fading models and as LOS is lost, attenuation will happen much more rapidly.\r\n\r\n**Note**: After this PR is merged, some validation/model-fitting should be performed along with testing in simulation to choose good parameters \\(fading exponent, noise floor, link capacity, mapping visibility cost to fading exponent inflation\\) that match somewhat realistic devices.\r\n\r\n**Some other changes along the way include**:\r\n\r\n* Add service to subt\\_example for testing comms\r\n\r\n    _Service will create pair of topics for externally analyzing communication peformance \\(bitrate acheieved, latency, etc\\)_\r\n\r\n\r\n* Add subt\\_comms\\_test\r\n\r\n    _Package to store communication system testing nodes and scripts._\r\n\r\n\r\n* Fix subt\\_example\\_node comms LED blinking\r\n\r\n    _LED blinking was limiting communication rate._\r\n\r\n\r\n* Improved visibility visualization\r\n\r\n    * _Improve speed of rendering using POINTS marker type_\r\n    * _color-code points based on computed cost_", "title": "Comms refactor", "destination": {"commit": {"hash": "b7c3a0e6072b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/b7c3a0e6072b.json"}, "html": {"href": "#!/osrf/subt/commits/b7c3a0e6072b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d166ff40822b", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt/commit/d166ff40822b"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt/commits/d166ff40822b"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{88b6b7a7-832b-438e-b879-89a4954c4894}ts=c_plus_plus"}}, "type": "repository", "name": "subt", "full_name": "jonfink-arl/subt", "uuid": "{88b6b7a7-832b-438e-b879-89a4954c4894}"}, "branch": {"name": "comms_refactor"}}, "state": "OPEN", "author": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "date": "2019-02-04T21:36:17.296407+00:00"}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/87878776.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-87878776"}}, "parent": {"id": 87878695, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/87878695.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-87878695"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}, "content": {"raw": "Interestingly, the test does pass when run with `catkin run_tests --no-deps subt_gazebo` so I\u2019m guessing this is something to do with the environment configuration?", "markup": "markdown", "html": "<p>Interestingly, the test does pass when run with <code>catkin run_tests --no-deps subt_gazebo</code> so I\u2019m guessing this is something to do with the environment configuration?</p>", "type": "rendered"}, "created_on": "2019-01-13T19:37:19.162823+00:00", "user": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "updated_on": "2019-01-13T19:37:19.172351+00:00", "type": "pullrequest_comment", "id": 87878776}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/87878695.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-87878695"}}, "parent": {"id": 87850665, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/87850665.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-87850665"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}, "content": {"raw": "Updated now so that all tests compile and tests for subt-communication packages all pass. However, getting an error on `subt_gazebo` and some other subt packages that this PR does not touch. The `subt_gazebo` error looks like something to do with xacro processing:\n\n\u200c\n\n    Scanning dependencies of target run_tests_subt_gazebo_rostest_test_score.test\n    -- run_tests.py: execute commands\n      /opt/ros/melodic/share/rostest/cmake/../../../bin/rostest --pkgdir=/catkin_ws/src/jonfink-subt/subt_gazebo --package=subt_gazebo --results-filename test_score.xml --results-base-dir \"/catkin_ws/build/test_results\" /catkin_ws/src/jonfink-subt/subt_gazebo/test/score.test \n    ... logging to /home/developer/.ros/log/rostest-f06f19e61473-18887.log\n    resource not found: husky_description\n    ROS path [0]=/opt/ros/melodic/share/ros\n    ROS path [1]=/catkin_ws/src\n    ROS path [2]=/catkin_ws/install/share\n    ROS path [3]=/opt/ros/melodic/share\n    when processing file: /catkin_ws/src/jonfink-subt/x1_description/urdf/x1.urdf.xacro\n    Traceback (most recent call last):\n      File \"/opt/ros/melodic/share/rostest/cmake/../../../bin/rostest\", line 36, in <module>\n        rostestmain()\n      File \"/opt/ros/melodic/lib/python2.7/dist-packages/rostest/__init__.py\", line 274, in rostestmain\n        _main()\n      File \"/opt/ros/melodic/lib/python2.7/dist-packages/rostest/rostest_main.py\", line 159, in rostestmain\n        testCase = rostest.runner.createUnitTest(pkg, test_file, options.reuse_master, options.clear, options.results_base_dir)\n      File \"/opt/ros/melodic/lib/python2.7/dist-packages/rostest/runner.py\", line 229, in createUnitTest\n        config = roslaunch.parent.load_config_default([test_file], None)\n      File \"/opt/ros/melodic/lib/python2.7/dist-packages/roslaunch/config.py\", line 459, in load_config_default\n        raise RLException(e)\n    roslaunch.core.RLException: while processing /catkin_ws/src/jonfink-subt/subt_gazebo/test/launch/test_score.launch:\n    while processing /catkin_ws/src/jonfink-subt/subt_gazebo/test/launch/test_team.launch:\n    while processing /catkin_ws/src/jonfink-subt/x1_gazebo/launch/spawn_x1.launch:\n    while processing /catkin_ws/src/jonfink-subt/x1_control/launch/control.launch:\n    while processing /catkin_ws/src/jonfink-subt/x1_description/launch/description.launch:\n    Invalid <param> tag: Cannot load command parameter [robot_description]: command [/opt/ros/melodic/lib/xacro/xacro '/catkin_ws/src/jonfink-subt/x1_description/urdf/x1.urdf.xacro'     robot_namespace:=X1     laser_enabled:=false     kinect_enabled:=false     urdf_extras:=     ] returned with code [2]. \n    \n    Param xml is <param command=\"$(find xacro)/xacro '$(find x1_description)/urdf/x1.urdf.xacro'     robot_namespace:=$(arg robot_namespace)     laser_enabled:=$(arg laser_enabled)     kinect_enabled:=$(arg kinect_enabled)     urdf_extras:=$(arg urdf_extras)     \" name=\"robot_description\"/>\n    -- run_tests.py: verify result \"/catkin_ws/build/test_results/subt_gazebo/rostest-test_score.xml\"\n    Cannot find results, writing failure results to '/catkin_ws/build/test_results/subt_gazebo/MISSING-rostest-test_score.xml'", "markup": "markdown", "html": "<p>Updated now so that all tests compile and tests for subt-communication packages all pass. However, getting an error on <code>subt_gazebo</code> and some other subt packages that this PR does not touch. The <code>subt_gazebo</code> error looks like something to do with xacro processing:</p>\n<p>\u200c</p>\n<div class=\"codehilite\"><pre><span></span>Scanning dependencies of target run_tests_subt_gazebo_rostest_test_score.test\n-- run_tests.py: execute commands\n  /opt/ros/melodic/share/rostest/cmake/../../../bin/rostest --pkgdir=/catkin_ws/src/jonfink-subt/subt_gazebo --package=subt_gazebo --results-filename test_score.xml --results-base-dir &quot;/catkin_ws/build/test_results&quot; /catkin_ws/src/jonfink-subt/subt_gazebo/test/score.test \n... logging to /home/developer/.ros/log/rostest-f06f19e61473-18887.log\nresource not found: husky_description\nROS path [0]=/opt/ros/melodic/share/ros\nROS path [1]=/catkin_ws/src\nROS path [2]=/catkin_ws/install/share\nROS path [3]=/opt/ros/melodic/share\nwhen processing file: /catkin_ws/src/jonfink-subt/x1_description/urdf/x1.urdf.xacro\nTraceback (most recent call last):\n  File &quot;/opt/ros/melodic/share/rostest/cmake/../../../bin/rostest&quot;, line 36, in &lt;module&gt;\n    rostestmain()\n  File &quot;/opt/ros/melodic/lib/python2.7/dist-packages/rostest/__init__.py&quot;, line 274, in rostestmain\n    _main()\n  File &quot;/opt/ros/melodic/lib/python2.7/dist-packages/rostest/rostest_main.py&quot;, line 159, in rostestmain\n    testCase = rostest.runner.createUnitTest(pkg, test_file, options.reuse_master, options.clear, options.results_base_dir)\n  File &quot;/opt/ros/melodic/lib/python2.7/dist-packages/rostest/runner.py&quot;, line 229, in createUnitTest\n    config = roslaunch.parent.load_config_default([test_file], None)\n  File &quot;/opt/ros/melodic/lib/python2.7/dist-packages/roslaunch/config.py&quot;, line 459, in load_config_default\n    raise RLException(e)\nroslaunch.core.RLException: while processing /catkin_ws/src/jonfink-subt/subt_gazebo/test/launch/test_score.launch:\nwhile processing /catkin_ws/src/jonfink-subt/subt_gazebo/test/launch/test_team.launch:\nwhile processing /catkin_ws/src/jonfink-subt/x1_gazebo/launch/spawn_x1.launch:\nwhile processing /catkin_ws/src/jonfink-subt/x1_control/launch/control.launch:\nwhile processing /catkin_ws/src/jonfink-subt/x1_description/launch/description.launch:\nInvalid &lt;param&gt; tag: Cannot load command parameter [robot_description]: command [/opt/ros/melodic/lib/xacro/xacro &#39;/catkin_ws/src/jonfink-subt/x1_description/urdf/x1.urdf.xacro&#39;     robot_namespace:=X1     laser_enabled:=false     kinect_enabled:=false     urdf_extras:=     ] returned with code [2].\n\nParam xml is &lt;param command=&quot;$(find xacro)/xacro &#39;$(find x1_description)/urdf/x1.urdf.xacro&#39;     robot_namespace:=$(arg robot_namespace)     laser_enabled:=$(arg laser_enabled)     kinect_enabled:=$(arg kinect_enabled)     urdf_extras:=$(arg urdf_extras)     &quot; name=&quot;robot_description&quot;/&gt;\n-- run_tests.py: verify result &quot;/catkin_ws/build/test_results/subt_gazebo/rostest-test_score.xml&quot;\nCannot find results, writing failure results to &#39;/catkin_ws/build/test_results/subt_gazebo/MISSING-rostest-test_score.xml&#39;\n</pre></div>", "type": "rendered"}, "created_on": "2019-01-13T19:30:53.390070+00:00", "user": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "updated_on": "2019-01-13T19:30:53.398616+00:00", "type": "pullrequest_comment", "id": 87878695}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"update": {"description": "See `subt-communication/README.md` for more details regarding this refactor of the existing virtual communication system for SUBT. It involves four new packages that replace and extend functionality that was previously in the `subt_gazebo` package. The `subt_gazebo` package continues to hold the Gazebo plugin that instantiates communication simulation:\r\n\r\n* `subt_rf_interface`: Provides function signature \\(and simple implementation\\) for computing pathloss from transmitter/receiver locations.\r\n* `subt_communication_model`: Provides function signature and implementation for evaluating packet communication success based on evaluation of a path loss function, modulation-based models of bit-error rate, and bitrate limitations of the configured radio.\r\n* `subt_communication_broker`: Centralized node that handles communication requests via distributed client API. Is instantiated with function handles for \\(1\\) a pathloss function, \\(2\\) an `attempt_send` function, i.e., the communication model, and \\(3\\) an `update_pose` function that provides a mechanism to query the simulator for the pose of an agent by name.\r\n* `subt_gazebo_los_model`: Pathloss function instantiation based on approximate visibility via a pre-computed lookup table. The so-called _visibility cost_ is used to affect the fading exponent for the generic range-based log-normal fading model. This means communication while in line-of-sight \\(LOS\\) will behave according to standard fading models and as LOS is lost, attenuation will happen much more rapidly.\r\n\r\n**Note**: After this PR is merged, some validation/model-fitting should be performed along with testing in simulation to choose good parameters \\(fading exponent, noise floor, link capacity, mapping visibility cost to fading exponent inflation\\) that match somewhat realistic devices.\r\n\r\n**Some other changes along the way include**:\r\n\r\n* Add service to subt\\_example for testing comms\r\n\r\n    _Service will create pair of topics for externally analyzing communication peformance \\(bitrate acheieved, latency, etc\\)_\r\n\r\n\r\n* Add subt\\_comms\\_test\r\n\r\n    _Package to store communication system testing nodes and scripts._\r\n\r\n\r\n* Fix subt\\_example\\_node comms LED blinking\r\n\r\n    _LED blinking was limiting communication rate._\r\n\r\n\r\n* Improved visibility visualization\r\n\r\n    * _Improve speed of rendering using POINTS marker type_\r\n    * _color-code points based on computed cost_", "title": "Comms refactor", "destination": {"commit": {"hash": "7baee739f538", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/7baee739f538.json"}, "html": {"href": "#!/osrf/subt/commits/7baee739f538"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "34ca429261ce", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt/commit/34ca429261ce"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt/commits/34ca429261ce"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{88b6b7a7-832b-438e-b879-89a4954c4894}ts=c_plus_plus"}}, "type": "repository", "name": "subt", "full_name": "jonfink-arl/subt", "uuid": "{88b6b7a7-832b-438e-b879-89a4954c4894}"}, "branch": {"name": "comms_refactor"}}, "state": "OPEN", "author": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "date": "2019-01-13T19:29:14.096220+00:00"}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/87850665.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-87850665"}}, "parent": {"id": 87849899, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/87849899.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-87849899"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}, "content": {"raw": "Thanks. Could you also make sure than `catkin_make tests` compiles and `catkin_make test` passes?", "markup": "markdown", "html": "<p>Thanks. Could you also make sure than <code>catkin_make tests</code> compiles and <code>catkin_make test</code> passes?</p>", "type": "rendered"}, "created_on": "2019-01-11T21:40:21.042770+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-01-11T21:40:21.062949+00:00", "type": "pullrequest_comment", "id": 87850665}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/87849899.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-87849899"}}, "parent": {"id": 87839114, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/87839114.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-87839114"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}, "content": {"raw": "I usually use catkin-tools which builds each package in an isolated CMake context\u2026 Should be fixed now.", "markup": "markdown", "html": "<p>I usually use catkin-tools which builds each package in an isolated CMake context\u2026 Should be fixed now.</p>", "type": "rendered"}, "created_on": "2019-01-11T21:29:02.260649+00:00", "user": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "updated_on": "2019-01-11T21:29:02.269467+00:00", "type": "pullrequest_comment", "id": 87849899}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"update": {"description": "See `subt-communication/README.md` for more details regarding this refactor of the existing virtual communication system for SUBT. It involves four new packages that replace and extend functionality that was previously in the `subt_gazebo` package. The `subt_gazebo` package continues to hold the Gazebo plugin that instantiates communication simulation:\r\n\r\n* `subt_rf_interface`: Provides function signature \\(and simple implementation\\) for computing pathloss from transmitter/receiver locations.\r\n* `subt_communication_model`: Provides function signature and implementation for evaluating packet communication success based on evaluation of a path loss function, modulation-based models of bit-error rate, and bitrate limitations of the configured radio.\r\n* `subt_communication_broker`: Centralized node that handles communication requests via distributed client API. Is instantiated with function handles for \\(1\\) a pathloss function, \\(2\\) an `attempt_send` function, i.e., the communication model, and \\(3\\) an `update_pose` function that provides a mechanism to query the simulator for the pose of an agent by name.\r\n* `subt_gazebo_los_model`: Pathloss function instantiation based on approximate visibility via a pre-computed lookup table. The so-called _visibility cost_ is used to affect the fading exponent for the generic range-based log-normal fading model. This means communication while in line-of-sight \\(LOS\\) will behave according to standard fading models and as LOS is lost, attenuation will happen much more rapidly.\r\n\r\n**Note**: After this PR is merged, some validation/model-fitting should be performed along with testing in simulation to choose good parameters \\(fading exponent, noise floor, link capacity, mapping visibility cost to fading exponent inflation\\) that match somewhat realistic devices.\r\n\r\n**Some other changes along the way include**:\r\n\r\n* Add service to subt\\_example for testing comms\r\n\r\n    _Service will create pair of topics for externally analyzing communication peformance \\(bitrate acheieved, latency, etc\\)_\r\n\r\n\r\n* Add subt\\_comms\\_test\r\n\r\n    _Package to store communication system testing nodes and scripts._\r\n\r\n\r\n* Fix subt\\_example\\_node comms LED blinking\r\n\r\n    _LED blinking was limiting communication rate._\r\n\r\n\r\n* Improved visibility visualization\r\n\r\n    * _Improve speed of rendering using POINTS marker type_\r\n    * _color-code points based on computed cost_", "title": "Comms refactor", "destination": {"commit": {"hash": "7baee739f538", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/7baee739f538.json"}, "html": {"href": "#!/osrf/subt/commits/7baee739f538"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f3f4869abdc6", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt/commit/f3f4869abdc6"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt/commits/f3f4869abdc6"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{88b6b7a7-832b-438e-b879-89a4954c4894}ts=c_plus_plus"}}, "type": "repository", "name": "subt", "full_name": "jonfink-arl/subt", "uuid": "{88b6b7a7-832b-438e-b879-89a4954c4894}"}, "branch": {"name": "comms_refactor"}}, "state": "OPEN", "author": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "date": "2019-01-11T21:26:14.331326+00:00"}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104/comments/87839114.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104/_/diff#comment-87839114"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}, "content": {"raw": "I got some compilation errors:\n\n    -- ==> add_subdirectory(subt/subt-communication/subt_rf_interface)\n    -- +++ processing catkin package: 'subt_communication_model'\n    -- ==> add_subdirectory(subt/subt-communication/subt_communication_model)\n    CMake Error at /opt/ros/melodic/share/catkin/cmake/test/gtest.cmake:169 (add_executable):\n      add_executable cannot create target \"unit_test\" because another target with\n      the same name already exists.  The existing target is an executable created\n      in source directory\n      \"/home/developer/subt_ws/src/subt/subt-communication/subt_rf_interface\".\n      See documentation for policy CMP0002 for more details.\n    Call Stack (most recent call first):\n      /opt/ros/melodic/share/catkin/cmake/test/gtest.cmake:79 (_catkin_add_executable_with_google_test)\n      /opt/ros/melodic/share/catkin/cmake/test/gtest.cmake:28 (_catkin_add_google_test)\n      subt/subt-communication/subt_communication_model/CMakeLists.txt:48 (catkin_add_gtest)\n    \n    \n    CMake Error at subt/subt-communication/subt_communication_model/CMakeLists.txt:49 (target_link_libraries):\n      Attempt to add link library \"subt_communication_model\" to target\n      \"unit_test\" which is not built in this directory.\n    \n    \n    CMake Error at subt/subt-communication/subt_communication_model/CMakeLists.txt:49 (target_link_libraries):\n      Attempt to add link library \"subt_rf_range_model\" to target \"unit_test\"\n      which is not built in this directory.\n    \n    \n    CMake Error at subt/subt-communication/subt_communication_model/CMakeLists.txt:49 (target_link_libraries):\n      Attempt to add link library \"/opt/ros/melodic/lib/libroscpp.so\" to target\n      \"unit_test\" which is not built in this directory.\n    \n    \n    CMake Error at subt/subt-communication/subt_communication_model/CMakeLists.txt:49 (target_link_libraries):\n      Attempt to add link library\n      \"/usr/lib/x86_64-linux-gnu/libboost_filesystem.so\" to target \"unit_test\"\n      which is not built in this directory.\n      \n      [...]\n\nCould you reproduce it on your side?", "markup": "markdown", "html": "<p>I got some compilation errors:</p>\n<div class=\"codehilite\"><pre><span></span>-- ==&gt; add_subdirectory(subt/subt-communication/subt_rf_interface)\n-- +++ processing catkin package: &#39;subt_communication_model&#39;\n-- ==&gt; add_subdirectory(subt/subt-communication/subt_communication_model)\nCMake Error at /opt/ros/melodic/share/catkin/cmake/test/gtest.cmake:169 (add_executable):\n  add_executable cannot create target &quot;unit_test&quot; because another target with\n  the same name already exists.  The existing target is an executable created\n  in source directory\n  &quot;/home/developer/subt_ws/src/subt/subt-communication/subt_rf_interface&quot;.\n  See documentation for policy CMP0002 for more details.\nCall Stack (most recent call first):\n  /opt/ros/melodic/share/catkin/cmake/test/gtest.cmake:79 (_catkin_add_executable_with_google_test)\n  /opt/ros/melodic/share/catkin/cmake/test/gtest.cmake:28 (_catkin_add_google_test)\n  subt/subt-communication/subt_communication_model/CMakeLists.txt:48 (catkin_add_gtest)\n\n\nCMake Error at subt/subt-communication/subt_communication_model/CMakeLists.txt:49 (target_link_libraries):\n  Attempt to add link library &quot;subt_communication_model&quot; to target\n  &quot;unit_test&quot; which is not built in this directory.\n\n\nCMake Error at subt/subt-communication/subt_communication_model/CMakeLists.txt:49 (target_link_libraries):\n  Attempt to add link library &quot;subt_rf_range_model&quot; to target &quot;unit_test&quot;\n  which is not built in this directory.\n\n\nCMake Error at subt/subt-communication/subt_communication_model/CMakeLists.txt:49 (target_link_libraries):\n  Attempt to add link library &quot;/opt/ros/melodic/lib/libroscpp.so&quot; to target\n  &quot;unit_test&quot; which is not built in this directory.\n\n\nCMake Error at subt/subt-communication/subt_communication_model/CMakeLists.txt:49 (target_link_libraries):\n  Attempt to add link library\n  &quot;/usr/lib/x86_64-linux-gnu/libboost_filesystem.so&quot; to target &quot;unit_test&quot;\n  which is not built in this directory.\n\n  [...]\n</pre></div>\n\n\n<p>Could you reproduce it on your side?</p>", "type": "rendered"}, "created_on": "2019-01-11T19:13:35.426635+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-01-11T19:13:35.434845+00:00", "type": "pullrequest_comment", "id": 87839114}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"update": {"description": "See `subt-communication/README.md` for more details regarding this refactor of the existing virtual communication system for SUBT. It involves four new packages that replace and extend functionality that was previously in the `subt_gazebo` package. The `subt_gazebo` package continues to hold the Gazebo plugin that instantiates communication simulation:\r\n\r\n* `subt_rf_interface`: Provides function signature \\(and simple implementation\\) for computing pathloss from transmitter/receiver locations.\r\n* `subt_communication_model`: Provides function signature and implementation for evaluating packet communication success based on evaluation of a path loss function, modulation-based models of bit-error rate, and bitrate limitations of the configured radio.\r\n* `subt_communication_broker`: Centralized node that handles communication requests via distributed client API. Is instantiated with function handles for \\(1\\) a pathloss function, \\(2\\) an `attempt_send` function, i.e., the communication model, and \\(3\\) an `update_pose` function that provides a mechanism to query the simulator for the pose of an agent by name.\r\n* `subt_gazebo_los_model`: Pathloss function instantiation based on approximate visibility via a pre-computed lookup table. The so-called _visibility cost_ is used to affect the fading exponent for the generic range-based log-normal fading model. This means communication while in line-of-sight \\(LOS\\) will behave according to standard fading models and as LOS is lost, attenuation will happen much more rapidly.\r\n\r\n**Note**: After this PR is merged, some validation/model-fitting should be performed along with testing in simulation to choose good parameters \\(fading exponent, noise floor, link capacity, mapping visibility cost to fading exponent inflation\\) that match somewhat realistic devices.\r\n\r\n**Some other changes along the way include**:\r\n\r\n* Add service to subt\\_example for testing comms\r\n\r\n    _Service will create pair of topics for externally analyzing communication peformance \\(bitrate acheieved, latency, etc\\)_\r\n\r\n\r\n* Add subt\\_comms\\_test\r\n\r\n    _Package to store communication system testing nodes and scripts._\r\n\r\n\r\n* Fix subt\\_example\\_node comms LED blinking\r\n\r\n    _LED blinking was limiting communication rate._\r\n\r\n\r\n* Improved visibility visualization\r\n\r\n    * _Improve speed of rendering using POINTS marker type_\r\n    * _color-code points based on computed cost_", "title": "Comms refactor", "destination": {"commit": {"hash": "7baee739f538", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/7baee739f538.json"}, "html": {"href": "#!/osrf/subt/commits/7baee739f538"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "754938f580f7", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt/commit/754938f580f7"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt/commits/754938f580f7"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{88b6b7a7-832b-438e-b879-89a4954c4894}ts=c_plus_plus"}}, "type": "repository", "name": "subt", "full_name": "jonfink-arl/subt", "uuid": "{88b6b7a7-832b-438e-b879-89a4954c4894}"}, "branch": {"name": "comms_refactor"}}, "state": "OPEN", "author": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "date": "2019-01-10T22:05:45.790627+00:00"}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"update": {"description": "See `subt-communication/README.md` for more details regarding this refactor of the existing virtual communication system for SUBT. It involves four new packages that replace and extend functionality that was previously in the `subt_gazebo` package. The `subt_gazebo` package continues to hold the Gazebo plugin that instantiates communication simulation:\r\n\r\n* `subt_rf_interface`: Provides function signature \\(and simple implementation\\) for computing pathloss from transmitter/receiver locations.\r\n* `subt_communication_model`: Provides function signature and implementation for evaluating packet communication success based on evaluation of a path loss function, modulation-based models of bit-error rate, and bitrate limitations of the configured radio.\r\n* `subt_communication_broker`: Centralized node that handles communication requests via distributed client API. Is instantiated with function handles for \\(1\\) a pathloss function, \\(2\\) an `attempt_send` function, i.e., the communication model, and \\(3\\) an `update_pose` function that provides a mechanism to query the simulator for the pose of an agent by name.\r\n* `subt_gazebo_los_model`: Pathloss function instantiation based on approximate visibility via a pre-computed lookup table. The so-called _visibility cost_ is used to affect the fading exponent for the generic range-based log-normal fading model. This means communication while in line-of-sight \\(LOS\\) will behave according to standard fading models and as LOS is lost, attenuation will happen much more rapidly.\r\n\r\n**Note**: After this PR is merged, some validation/model-fitting should be performed along with testing in simulation to choose good parameters \\(fading exponent, noise floor, link capacity, mapping visibility cost to fading exponent inflation\\) that match somewhat realistic devices.\r\n\r\n**Some other changes along the way include**:\r\n\r\n* Add service to subt\\_example for testing comms\r\n\r\n    _Service will create pair of topics for externally analyzing communication peformance \\(bitrate acheieved, latency, etc\\)_\r\n\r\n\r\n* Add subt\\_comms\\_test\r\n\r\n    _Package to store communication system testing nodes and scripts._\r\n\r\n\r\n* Fix subt\\_example\\_node comms LED blinking\r\n\r\n    _LED blinking was limiting communication rate._\r\n\r\n\r\n\r\n* Improved visibility visualization\r\n\r\n    * _Improve speed of rendering using POINTS marker type_\r\n    * _color-code points based on computed cost_", "title": "Comms refactor", "destination": {"commit": {"hash": "7baee739f538", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/7baee739f538.json"}, "html": {"href": "#!/osrf/subt/commits/7baee739f538"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "754938f580f7", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt/commit/754938f580f7"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt/commits/754938f580f7"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{88b6b7a7-832b-438e-b879-89a4954c4894}ts=c_plus_plus"}}, "type": "repository", "name": "subt", "full_name": "jonfink-arl/subt", "uuid": "{88b6b7a7-832b-438e-b879-89a4954c4894}"}, "branch": {"name": "comms_refactor"}}, "state": "OPEN", "author": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "date": "2019-01-10T22:03:50.602133+00:00"}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"update": {"description": "\u200c\r\n\r\n* Initial rf\\_model library\r\n\r\n    Skeleton implementation of rf\\_model based on maximum range for testing. More sophisticated models may need to maintain state history but should be able to present with the same functional form.\r\n\r\n\r\n* Rename subt\\_rf\\_model to subt\\_rf\\_interface\r\n\r\n    More correct naming. This package represents the header \\(types and API\\) for specifying an RF pathloss model. It does also include a simple range-based RF model but the idea is that more complicated models will be tracked in other packages.\r\n\r\n\r\n* Initial import of subt\\_communication\\_model\r\n\r\n    Basic bit-error-rate computations for now. No rate-limiting implemented yet.\r\n\r\n\r\n* Rename configuration type in subt\\_communication\\_model\r\n\r\n    Channel was not exactly correct, using radio instead here\r\n\r\n\r\n* Initial import of subt\\_communication\\_broker\r\n\r\n    A Gazebo-agnostic communication broker that uses Ignition to handle client requests for dispatching of packets. Starting to migrate communication functionality from subt\\_gazebo into more targeted packages. Includes a simple unit test.\r\n\r\n\r\n\r\n    Note: This will break existing API at the very least due to naming and possibly also functionality.\r\n\r\n\r\n* Remove unnecessary id field in rf\\_state\r\n* Fix distance model to return true zero power\r\n* Fix potential problem in communication model\r\n* Add and stage pose updating functionality for comms broker\r\n* Migrating CommsBrokerPlugin to refactored system\r\n* Remove deprecated parts of subt\\_gazebo/CommonTypes\r\n\r\n    ... Moved to subt\\_communication\\_broker/common\\_types.h\r\n\r\n\r\n* Migrate BaseStationPlugin to use new CommsClient\r\n* Fix lingering bug in subt\\_communication\\_broker\r\n\r\n    Add devel location of protobuf-generated headers to the \"extra\" cmake for this package.\r\n\r\n\r\n* Tweak organization of subt\\_communication\\_broker\r\n\r\n    Also include some additional error reporting\r\n\r\n\r\n* Fix subt\\_gazebo library export\r\n\r\n    Package was still telling dependents to link CommsClient library, causing nasty bugs as old versions of this library were getting linked.\r\n\r\n\r\n* Switch subt\\_example to use new communication client\r\n* Migrate line of sight code\r\n\r\n    Starting subt\\_gazebo\\_los\\_model package to do RF pathloss based on line-of-sight model.\r\n\r\n\r\n* Add log-normal received power function\r\n* Add print function to radio config\r\n* Add SDF configuration for refactored communication\r\n* Add service to subt\\_example for testing comms\r\n\r\n    Service will create pair of topics for externally analyzing communication peformance \\(bitrate acheieved, latency, etc\\)\r\n\r\n\r\n* Update hgignore with \\*.pyc\r\n* Add subt\\_comms\\_test\r\n\r\n    Package to store communication system testing nodes and scripts.\r\n\r\n\r\n* Fix subt\\_example\\_node comms LED blinking\r\n\r\n    LED blinking was limiting communication rate.\r\n\r\n\r\n* Fix curses-based comms tester\r\n\r\n    Was crashing when terminal was too small. Should probably add some sort of scrolling functionality...\r\n\r\n\r\n* Fix communication model and add variance\r\n\r\n    * Fix a bug in packet error computation\r\n    * Draw from Gaussian distribution if rf function returns variance\r\n    \r\n* Fix tester node to report bits-per-second\r\n* Update subt\\_communication\\_model with capacity limits\r\n\r\n    Only tracking transmit capacity limits right now.\r\n\r\n\r\n* Reduce spam from subt\\_example\\_node\r\n* Reduce link capacity in tunnel\\_practice\\_1 to 1Mbps\r\n* Add bitrate limiting on the receive side\r\n* Setup Visibility plugin in new location to write LUT\r\n* Bringing visibility model back into CommsBrokerPlugin\r\n\r\n    * Not using for pathloss function yet\r\n    * Improved performance for visibility visualization\r\n    \r\n* Improved visibility visualization\r\n\r\n    * Improve speed of rendering using POINTS marker type\r\n    * color-code points based on computed cost\r\n    \r\n* Reduce spam from subt\\_example\\_node\r\n* Finish visibility-based communication pathloss function\r\n\r\n    Using the \"cost\" from the precomputed visibility information to inflate the fading exponent and then falling back on standard log-normal range-based pathloss computation. This should give reasonably smooth decay with distance and sudden drops as the agents move between tiles that affect visibility.\r\n\r\n\r\n* Fix parameter for selecting comms\\_model\\_type\r\n\r\n    Also, add example configuration to tunnel\\_practice\\_1.world", "title": "WIP: Comms refactor", "destination": {"commit": {"hash": "7baee739f538", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/7baee739f538.json"}, "html": {"href": "#!/osrf/subt/commits/7baee739f538"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "754938f580f7", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt/commit/754938f580f7"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt/commits/754938f580f7"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{88b6b7a7-832b-438e-b879-89a4954c4894}ts=c_plus_plus"}}, "type": "repository", "name": "subt", "full_name": "jonfink-arl/subt", "uuid": "{88b6b7a7-832b-438e-b879-89a4954c4894}"}, "branch": {"name": "comms_refactor"}}, "state": "OPEN", "author": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "date": "2019-01-10T21:37:54.246228+00:00"}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"update": {"description": "\u200c\r\n\r\n* Initial rf\\_model library\r\n\r\n    Skeleton implementation of rf\\_model based on maximum range for testing. More sophisticated models may need to maintain state history but should be able to present with the same functional form.\r\n\r\n\r\n* Rename subt\\_rf\\_model to subt\\_rf\\_interface\r\n\r\n    More correct naming. This package represents the header \\(types and API\\) for specifying an RF pathloss model. It does also include a simple range-based RF model but the idea is that more complicated models will be tracked in other packages.\r\n\r\n\r\n* Initial import of subt\\_communication\\_model\r\n\r\n    Basic bit-error-rate computations for now. No rate-limiting implemented yet.\r\n\r\n\r\n* Rename configuration type in subt\\_communication\\_model\r\n\r\n    Channel was not exactly correct, using radio instead here\r\n\r\n\r\n* Initial import of subt\\_communication\\_broker\r\n\r\n    A Gazebo-agnostic communication broker that uses Ignition to handle client requests for dispatching of packets. Starting to migrate communication functionality from subt\\_gazebo into more targeted packages. Includes a simple unit test.\r\n\r\n\r\n\r\n    Note: This will break existing API at the very least due to naming and possibly also functionality.\r\n\r\n\r\n* Remove unnecessary id field in rf\\_state\r\n* Fix distance model to return true zero power\r\n* Fix potential problem in communication model\r\n* Add and stage pose updating functionality for comms broker\r\n* Migrating CommsBrokerPlugin to refactored system\r\n* Remove deprecated parts of subt\\_gazebo/CommonTypes\r\n\r\n    ... Moved to subt\\_communication\\_broker/common\\_types.h\r\n\r\n\r\n* Migrate BaseStationPlugin to use new CommsClient\r\n* Fix lingering bug in subt\\_communication\\_broker\r\n\r\n    Add devel location of protobuf-generated headers to the \"extra\" cmake for this package.\r\n\r\n\r\n* Tweak organization of subt\\_communication\\_broker\r\n\r\n    Also include some additional error reporting\r\n\r\n\r\n* Fix subt\\_gazebo library export\r\n\r\n    Package was still telling dependents to link CommsClient library, causing nasty bugs as old versions of this library were getting linked.\r\n\r\n\r\n* Switch subt\\_example to use new communication client\r\n* Migrate line of sight code\r\n\r\n    Starting subt\\_gazebo\\_los\\_model package to do RF pathloss based on line-of-sight model.\r\n\r\n\r\n* Add log-normal received power function\r\n* Add print function to radio config\r\n* Add SDF configuration for refactored communication\r\n* Add service to subt\\_example for testing comms\r\n\r\n    Service will create pair of topics for externally analyzing communication peformance \\(bitrate acheieved, latency, etc\\)\r\n\r\n\r\n* Update hgignore with \\*.pyc\r\n* Add subt\\_comms\\_test\r\n\r\n    Package to store communication system testing nodes and scripts.\r\n\r\n\r\n* Fix subt\\_example\\_node comms LED blinking\r\n\r\n    LED blinking was limiting communication rate.\r\n\r\n\r\n* Fix curses-based comms tester\r\n\r\n    Was crashing when terminal was too small. Should probably add some sort of scrolling functionality...\r\n\r\n\r\n* Fix communication model and add variance\r\n\r\n    * Fix a bug in packet error computation\r\n    * Draw from Gaussian distribution if rf function returns variance\r\n    \r\n* Fix tester node to report bits-per-second\r\n* Update subt\\_communication\\_model with capacity limits\r\n\r\n    Only tracking transmit capacity limits right now.\r\n\r\n\r\n* Reduce spam from subt\\_example\\_node\r\n* Reduce link capacity in tunnel\\_practice\\_1 to 1Mbps\r\n* Add bitrate limiting on the receive side\r\n* Setup Visibility plugin in new location to write LUT\r\n* Bringing visibility model back into CommsBrokerPlugin\r\n\r\n    * Not using for pathloss function yet\r\n    * Improved performance for visibility visualization\r\n    \r\n* Improved visibility visualization\r\n\r\n    * Improve speed of rendering using POINTS marker type\r\n    * color-code points based on computed cost\r\n    \r\n* Reduce spam from subt\\_example\\_node\r\n* Finish visibility-based communication pathloss function\r\n\r\n    Using the \"cost\" from the precomputed visibility information to inflate the fading exponent and then falling back on standard log-normal range-based pathloss computation. This should give reasonably smooth decay with distance and sudden drops as the agents move between tiles that affect visibility.\r\n\r\n\r\n* Fix parameter for selecting comms\\_model\\_type\r\n\r\n    Also, add example configuration to tunnel\\_practice\\_1.world", "title": "WIP: Comms refactor", "destination": {"commit": {"hash": "cd89706befd4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/cd89706befd4.json"}, "html": {"href": "#!/osrf/subt/commits/cd89706befd4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9ee552df420d", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt/commit/9ee552df420d"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt/commits/9ee552df420d"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{88b6b7a7-832b-438e-b879-89a4954c4894}ts=c_plus_plus"}}, "type": "repository", "name": "subt", "full_name": "jonfink-arl/subt", "uuid": "{88b6b7a7-832b-438e-b879-89a4954c4894}"}, "branch": {"name": "comms_refactor"}}, "state": "OPEN", "author": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "date": "2019-01-09T22:01:23.216285+00:00"}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}, {"update": {"description": "\u200c\r\n\r\n* Initial rf\\_model library\r\n\r\n    Skeleton implementation of rf\\_model based on maximum range for testing. More sophisticated models may need to maintain state history but should be able to present with the same functional form.\r\n\r\n\r\n* Rename subt\\_rf\\_model to subt\\_rf\\_interface\r\n\r\n    More correct naming. This package represents the header \\(types and API\\) for specifying an RF pathloss model. It does also include a simple range-based RF model but the idea is that more complicated models will be tracked in other packages.\r\n\r\n\r\n* Initial import of subt\\_communication\\_model\r\n\r\n    Basic bit-error-rate computations for now. No rate-limiting implemented yet.\r\n\r\n\r\n* Rename configuration type in subt\\_communication\\_model\r\n\r\n    Channel was not exactly correct, using radio instead here\r\n\r\n\r\n* Initial import of subt\\_communication\\_broker\r\n\r\n    A Gazebo-agnostic communication broker that uses Ignition to handle client requests for dispatching of packets. Starting to migrate communication functionality from subt\\_gazebo into more targeted packages. Includes a simple unit test.\r\n\r\n\r\n\r\n    Note: This will break existing API at the very least due to naming and possibly also functionality.\r\n\r\n\r\n* Remove unnecessary id field in rf\\_state\r\n* Fix distance model to return true zero power\r\n* Fix potential problem in communication model\r\n* Add and stage pose updating functionality for comms broker\r\n* Migrating CommsBrokerPlugin to refactored system\r\n* Remove deprecated parts of subt\\_gazebo/CommonTypes\r\n\r\n    ... Moved to subt\\_communication\\_broker/common\\_types.h\r\n\r\n\r\n* Migrate BaseStationPlugin to use new CommsClient\r\n* Fix lingering bug in subt\\_communication\\_broker\r\n\r\n    Add devel location of protobuf-generated headers to the \"extra\" cmake for this package.\r\n\r\n\r\n* Tweak organization of subt\\_communication\\_broker\r\n\r\n    Also include some additional error reporting\r\n\r\n\r\n* Fix subt\\_gazebo library export\r\n\r\n    Package was still telling dependents to link CommsClient library, causing nasty bugs as old versions of this library were getting linked.\r\n\r\n\r\n* Switch subt\\_example to use new communication client\r\n* Migrate line of sight code\r\n\r\n    Starting subt\\_gazebo\\_los\\_model package to do RF pathloss based on line-of-sight model.\r\n\r\n\r\n* Add log-normal received power function\r\n* Add print function to radio config\r\n* Add SDF configuration for refactored communication\r\n* Add service to subt\\_example for testing comms\r\n\r\n    Service will create pair of topics for externally analyzing communication peformance \\(bitrate acheieved, latency, etc\\)\r\n\r\n\r\n* Update hgignore with \\*.pyc\r\n* Add subt\\_comms\\_test\r\n\r\n    Package to store communication system testing nodes and scripts.\r\n\r\n\r\n* Fix subt\\_example\\_node comms LED blinking\r\n\r\n    LED blinking was limiting communication rate.\r\n\r\n\r\n* Fix curses-based comms tester\r\n\r\n    Was crashing when terminal was too small. Should probably add some sort of scrolling functionality...\r\n\r\n\r\n* Fix communication model and add variance\r\n\r\n    * Fix a bug in packet error computation\r\n    * Draw from Gaussian distribution if rf function returns variance\r\n    \r\n* Fix tester node to report bits-per-second\r\n* Update subt\\_communication\\_model with capacity limits\r\n\r\n    Only tracking transmit capacity limits right now.\r\n\r\n\r\n* Reduce spam from subt\\_example\\_node\r\n* Reduce link capacity in tunnel\\_practice\\_1 to 1Mbps\r\n* Add bitrate limiting on the receive side\r\n* Setup Visibility plugin in new location to write LUT\r\n* Bringing visibility model back into CommsBrokerPlugin\r\n\r\n    * Not using for pathloss function yet\r\n    * Improved performance for visibility visualization\r\n    \r\n* Improved visibility visualization\r\n\r\n    * Improve speed of rendering using POINTS marker type\r\n    * color-code points based on computed cost\r\n    \r\n* Reduce spam from subt\\_example\\_node\r\n* Finish visibility-based communication pathloss function\r\n\r\n    Using the \"cost\" from the precomputed visibility information to inflate the fading exponent and then falling back on standard log-normal range-based pathloss computation. This should give reasonably smooth decay with distance and sudden drops as the agents move between tiles that affect visibility.\r\n\r\n\r\n* Fix parameter for selecting comms\\_model\\_type\r\n\r\n    Also, add example configuration to tunnel\\_practice\\_1.world", "title": "WIP: Comms refactor", "destination": {"commit": {"hash": "cd89706befd4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/subt/commit/cd89706befd4.json"}, "html": {"href": "#!/osrf/subt/commits/cd89706befd4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/subt.json"}, "html": {"href": "#!/osrf/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c95f6ad-c304-407c-b838-09597d836552}ts=2272898"}}, "type": "repository", "name": "subt", "full_name": "osrf/subt", "uuid": "{3c95f6ad-c304-407c-b838-09597d836552}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9ee552df420d", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt/commit/9ee552df420d"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt/commits/9ee552df420d"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jonfink-arl/subt"}, "html": {"href": "https://bitbucket.org/jonfink-arl/subt"}, "avatar": {"href": "data/bytebucket.org/ravatar/{88b6b7a7-832b-438e-b879-89a4954c4894}ts=c_plus_plus"}}, "type": "repository", "name": "subt", "full_name": "jonfink-arl/subt", "uuid": "{88b6b7a7-832b-438e-b879-89a4954c4894}"}, "branch": {"name": "comms_refactor"}}, "state": "OPEN", "author": {"display_name": "Jon Fink", "uuid": "{89cf7350-7d3a-4a2e-a6ce-43d49bfe9001}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D"}, "html": {"href": "https://bitbucket.org/%7B89cf7350-7d3a-4a2e-a6ce-43d49bfe9001%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d3f96b67926116d5c1121e7dc9a1a8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "jonfink-arl", "type": "user", "account_id": "5b90221dfa38ae2c89609691"}, "date": "2019-01-09T22:01:23.178801+00:00"}, "pull_request": {"type": "pullrequest", "id": 104, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/104.json"}, "html": {"href": "#!/osrf/subt/pull-requests/104"}}, "title": "Comms refactor"}}]}