{"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/198/comments/110047086.json"}, "html": {"href": "#!/osrf/subt/pull-requests/198/_/diff#comment-110047086"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 198, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/198.json"}, "html": {"href": "#!/osrf/subt/pull-requests/198"}}, "title": "Ros relay"}, "content": {"raw": "Here is how I tested the cloudsim docker images.\n\n## Terminal 1: Build and run the cloudsim_sim docker image\n\nThis is the docker image that corresponds to the \"Simulation Container\" on: #!/osrf/subt/wiki/cloudsim_architecture.\n\n1. `./build.bash cloudsim_sim --no-cache`\n2. `./run.bash cloudsim_sim cloudsim_sim.ign robotName1:=X1 robotConfig1:=X1_SENSOR_CONFIG1  robotName2:=X2 robotConfig2:=X2_SENSOR_CONFIG2`\n\n## Terminal 2: Build and run the cloudsim_bridge docker image\n\nThis is the docker image that corresponds to the \"Bridge Container\" on: #!/osrf/subt/wiki/cloudsim_architecture.\n\n1. `./build.bash cloudsim_bridge --no-cache`\n2. `./run.bash cloudsim_bridge robotName1:=X1 robotConfig1:=X1_SENSOR_CONFIG1  robotName2:=X2 robotConfig2:=X2_SENSOR_CONFIG2`\n\n## Terminal 3:  Run X1 controller\n\nThis is where a team would run their own controller for X1. In lieu of that, I ran from my catkin workspace:\n\n```\nroslaunch subt_example example_robot.launch name:=X1\n```\n\n## Terminal 4:  Run X2 controller\n\nThis is where a team would run their own controller for X2. In lieu of that, I ran from my catkin workspace:\n\n```\nroslaunch subt_example example_robot.launch name:=X2\n```\n\n## Terminal 5: Test!\n\n1. Test the comms network.\n\n    ```\nrostopic pub /X2/comm std_msgs/String \"X1\"\n    ```\nThis should cause output in Terminal 3 (X1 controller) similar to:\n\n    ```\n    [ INFO] [1563661130.260521094, 1.903000000]: CommClientCallback\n    ```\n\n2. Test movement by driving the X1 forward:\n\n    ```\nrostopic pub /X1/cmd_vel geometry_msgs/Twist \"linear:\n  x: 2\n  y: 0\n  z: 0\"\n    ```\n", "markup": "markdown", "html": "<p>Here is how I tested the cloudsim docker images.</p>\n<h2 id=\"markdown-header-terminal-1-build-and-run-the-cloudsim_sim-docker-image\">Terminal 1: Build and run the cloudsim_sim docker image</h2>\n<p>This is the docker image that corresponds to the \"Simulation Container\" on: <a href=\"#!/osrf/subt/wiki/cloudsim_architecture\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/subt/wiki/cloudsim_architecture</a>.</p>\n<ol>\n<li><code>./build.bash cloudsim_sim --no-cache</code></li>\n<li><code>./run.bash cloudsim_sim cloudsim_sim.ign robotName1:=X1 robotConfig1:=X1_SENSOR_CONFIG1  robotName2:=X2 robotConfig2:=X2_SENSOR_CONFIG2</code></li>\n</ol>\n<h2 id=\"markdown-header-terminal-2-build-and-run-the-cloudsim_bridge-docker-image\">Terminal 2: Build and run the cloudsim_bridge docker image</h2>\n<p>This is the docker image that corresponds to the \"Bridge Container\" on: <a href=\"#!/osrf/subt/wiki/cloudsim_architecture\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/subt/wiki/cloudsim_architecture</a>.</p>\n<ol>\n<li><code>./build.bash cloudsim_bridge --no-cache</code></li>\n<li><code>./run.bash cloudsim_bridge robotName1:=X1 robotConfig1:=X1_SENSOR_CONFIG1  robotName2:=X2 robotConfig2:=X2_SENSOR_CONFIG2</code></li>\n</ol>\n<h2 id=\"markdown-header-terminal-3-run-x1-controller\">Terminal 3:  Run X1 controller</h2>\n<p>This is where a team would run their own controller for X1. In lieu of that, I ran from my catkin workspace:</p>\n<div class=\"codehilite\"><pre><span></span>roslaunch subt_example example_robot.launch name:=X1\n</pre></div>\n\n\n<h2 id=\"markdown-header-terminal-4-run-x2-controller\">Terminal 4:  Run X2 controller</h2>\n<p>This is where a team would run their own controller for X2. In lieu of that, I ran from my catkin workspace:</p>\n<div class=\"codehilite\"><pre><span></span>roslaunch subt_example example_robot.launch name:=X2\n</pre></div>\n\n\n<h2 id=\"markdown-header-terminal-5-test\">Terminal 5: Test!</h2>\n<ol>\n<li>\n<p>Test the comms network.</p>\n<p><code>rostopic pub /X2/comm std_msgs/String \"X1\"</code>\nThis should cause output in Terminal 3 (X1 controller) similar to:</p>\n<p><code>[ INFO] [1563661130.260521094, 1.903000000]: CommClientCallback</code></p>\n</li>\n<li>\n<p>Test movement by driving the X1 forward:</p>\n<p><code>rostopic pub /X1/cmd_vel geometry_msgs/Twist \"linear:\n  x: 2\n  y: 0\n  z: 0\"</code></p>\n</li>\n</ol>", "type": "rendered"}, "created_on": "2019-07-20T22:38:13.299930+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2019-07-20T22:38:13.307597+00:00", "type": "pullrequest_comment", "id": 110047086}