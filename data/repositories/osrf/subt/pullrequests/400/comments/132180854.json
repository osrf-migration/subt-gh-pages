{"links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/400/comments/132180854.json"}, "html": {"href": "#!/osrf/subt/pull-requests/400/_/diff#comment-132180854"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 400, "links": {"self": {"href": "data/repositories/osrf/subt/pullrequests/400.json"}, "html": {"href": "#!/osrf/subt/pull-requests/400"}}, "title": "[DON'T MERGE] Update launch files to call the correct spawner method"}, "content": {"raw": "The underlying cause of the problem here is that `require` caches the paths it sees and won't load a new library if it thinks the library has been loaded before. For example, when launching the  `X3C5 X4C6 X3C5`, the following require calls happen\n```\nrequire /path/to/x3_sensor_config_5/launch/spawner.rb\nrequire /path/to/x4_sensor_config_6/launch/spawner.rb\nrequire /path/to/x3_sensor_config_5/launch/spawner.rb\n```\nHowever, the last one fails because `require` has seen the path before and won't load it. As a result, the launcher will use the `spawn` function in `/path/to/x4_sensor_config_6/launch/spawner.rb` instead of `/path/to/x3_sensor_config_5/launch/spawner.rb`. \n\nNote that this only affects team submitted vehicles (all models in the `submitted_models` directory). \"Built in\" vehicles do not use `spawner.rb`, so they are not affected.\n\nThis fix should not affect existing behavior other than fixing the crashing issue.\n", "markup": "markdown", "html": "<p>The underlying cause of the problem here is that <code>require</code> caches the paths it sees and won't load a new library if it thinks the library has been loaded before. For example, when launching the  <code>X3C5 X4C6 X3C5</code>, the following require calls happen</p>\n<div class=\"codehilite\"><pre><span></span>require /path/to/x3_sensor_config_5/launch/spawner.rb\nrequire /path/to/x4_sensor_config_6/launch/spawner.rb\nrequire /path/to/x3_sensor_config_5/launch/spawner.rb\n</pre></div>\n\n\n<p>However, the last one fails because <code>require</code> has seen the path before and won't load it. As a result, the launcher will use the <code>spawn</code> function in <code>/path/to/x4_sensor_config_6/launch/spawner.rb</code> instead of <code>/path/to/x3_sensor_config_5/launch/spawner.rb</code>. </p>\n<p>Note that this only affects team submitted vehicles (all models in the <code>submitted_models</code> directory). \"Built in\" vehicles do not use <code>spawner.rb</code>, so they are not affected.</p>\n<p>This fix should not affect existing behavior other than fixing the crashing issue.</p>", "type": "rendered"}, "created_on": "2020-01-17T21:39:06.711877+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2020-01-17T21:39:06.719888+00:00", "type": "pullrequest_comment", "id": 132180854}